# zigbee网关-mqtt通信数据格式
## 1、网关->mqtt服务器
>完整数据包：{"msg":"dev2,...","flow":201}
>>- 包中flow表示数据流向，1表示服务器，02表示设备网关，网关可以有多个，可以为02，03，04...。<br>
>>- 包中msg表示对服务器回传的信息
>>>      1、当为dev2,switch1,0时，表示设备dev2中的switch1开关当前状态为关（0表示关）；

## 2、mqtt服务器->网关
>完整数据包：{"msg":"dev2,...","flow":102}
>>- 包中flow表示数据流向，1表示安卓终端，02表示设备网关，网关可以有多个，可以为02，03，04...。<br>
>>- 包中msg表示对设备下发的指令
>>>      1、当为dev2,switch1,0时，表示命令设备dev2中的switch1开关断开（0表示）；
>>>      2、当为dev2,switch1,ck时，表示查询设备dev2中的switch1开关状态；
>>>      3、完成指令2后，设备应返回给mqtt固定数据包，数据包即包含对应设备对应开关当前状态，数据包格式见章节1。
>>>      4、当完成指令1后，设备同样会查询指令1中命令的开关状态并已指令3的方式返回给mqtt服务器；