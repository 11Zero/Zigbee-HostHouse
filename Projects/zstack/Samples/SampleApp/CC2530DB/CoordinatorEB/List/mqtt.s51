///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V8.10.3.10338/W32 for 8051        10/Feb/2022  20:48:23 /
// Copyright 2004-2011 IAR Systems AB.                                        /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data_rom                                          /
//    Dptr setup         =  1,16                                              /
//    Source file        =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\Source\mqtt.c       /
//    Command line       =  -f e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\P /
//                          rojects\zstack\Samples\SampleApp\CC2530DB\..\..\. /
//                          .\Tools\CC2530DB\f8wCoord.cfg (-DCPU32MHZ         /
//                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TR /
//                          UE -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8     /
//                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)   /
//                          -f e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\P /
//                          rojects\zstack\Samples\SampleApp\CC2530DB\..\..\. /
//                          .\Tools\CC2530DB\f8wConfig.cfg (-DZIGBEEPRO       /
//                          -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR      /
//                          -DDEFAULT_CHANLIST=0x00000800                     /
//                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DLINK_STATUS_JITTER_MASK=0x007F                  /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7           /
//                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3   /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40          /
//                          -DNWK_MAX_BINDING_ENTRIES=4                       /
//                          -DMAX_BINDING_CLUSTER_IDS=4                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DMAC_MAX_FRAME_SIZE=116       /
//                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const    /
//                          __code" -DGENERIC=__generic                       /
//                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000       /
//                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)  /
//                          -DREJOIN_POLL_RATE=440 e:\imtht\Documents\Code\Zi /
//                          gbee\ZStack-2.5.1a\Projects\zstack\Samples\Sample /
//                          App\Source\mqtt.c -D ZTOOL_P1 -D xMT_TASK -D      /
//                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                   /
//                          LCD_SUPPORTED=DEBUG -lC                           /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\Coordinato /
//                          rEB\List\ -lA e:\imtht\Documents\Code\Zigbee\ZSta /
//                          ck-2.5.1a\Projects\zstack\Samples\SampleApp\CC253 /
//                          0DB\CoordinatorEB\List\ --diag_suppress           /
//                          Pe001,Pa010 -o e:\imtht\Documents\Code\Zigbee\ZSt /
//                          ack-2.5.1a\Projects\zstack\Samples\SampleApp\CC25 /
//                          30DB\CoordinatorEB\Obj\ -e --no_cse --no_unroll   /
//                          --no_inline --no_code_motion --no_tbaa --debug    /
//                          --core=plain --dptr=16,1 --data_model=large       /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data_rom                /
//                          --nr_virtual_regs 16 -I                           /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\ -I        /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\Source\ /
//                           -I e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\ /
//                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ /
//                          ..\ZMain\TI2530DB\ -I e:\imtht\Documents\Code\Zig /
//                          bee\ZStack-2.5.1a\Projects\zstack\Samples\SampleA /
//                          pp\CC2530DB\..\..\..\..\..\Components\hal\include /
//                          \ -I e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a /
//                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\.. /
//                          \..\..\..\Components\hal\target\CC2530EB\ -I      /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\mac\include\ -I                   /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\mac\high_level\ -I                /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\mac\low_level\srf04\ -I           /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\mac\low_level\srf04\single_chip\  /
//                          -I e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\P /
//                          rojects\zstack\Samples\SampleApp\CC2530DB\..\..\. /
//                          .\..\..\Components\mt\ -I                         /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\osal\include\ -I                  /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\services\saddr\ -I                /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\services\sdata\ -I                /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\stack\af\ -I                      /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\stack\nwk\ -I                     /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\stack\sapi\ -I                    /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\stack\sec\ -I                     /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\stack\sys\ -I                     /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\stack\zdo\ -I                     /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\zmac\ -I                          /
//                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\Components\zmac\f8w\ -On                     /
//    List file          =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\Coordinato /
//                          rEB\List\mqtt.s51                                 /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME mqtt

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?L_MOV_X
        EXTERN ?MOVE_LONG8_XDATA_XDATA
        EXTERN ?PUSH_XSTACK8_X_FOUR
        EXTERN ?PUSH_XSTACK8_X_TWO
        EXTERN ?PUSH_XSTACK_I_FOUR
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?V0
        EXTERN ?VB
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN __INIT_XDATA_Z

        PUBLIC ??OneNet_DevLink?relay
        FUNCTION ??OneNet_DevLink?relay,0203H
        PUBLIC ??OneNet_RevPro?relay
        FUNCTION ??OneNet_RevPro?relay,0203H
        PUBLIC ??mqtt_publish_topic?relay
        FUNCTION ??mqtt_publish_topic?relay,0203H
        PUBLIC ??mqtt_subscribe_topic?relay
        FUNCTION ??mqtt_subscribe_topic?relay,0203H
        PUBLIC ??onenet_mqtt_send_heart?relay
        FUNCTION ??onenet_mqtt_send_heart?relay,0203H
        PUBLIC OneNet_DevLink
        FUNCTION OneNet_DevLink,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 38, STACK
        PUBLIC OneNet_RevPro
        FUNCTION OneNet_RevPro,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 42, STACK
        PUBWEAK __Constant_0
        PUBWEAK __Constant_1
        PUBLIC cmdid_topic
        PUBLIC mqttUsername
        PUBLIC mqtt_publish_topic
        FUNCTION mqtt_publish_topic,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 43, STACK
        PUBLIC mqtt_subscribe_topic
        FUNCTION mqtt_subscribe_topic,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 30, STACK
        PUBLIC onenet_mqtt_send_heart
        FUNCTION onenet_mqtt_send_heart,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 23, STACK
        PUBLIC packet_buff
        PUBLIC req_payload
        
        CFI Names cfiNames0
        CFI StackFrame CFA_SP SP IDATA
        CFI StackFrame CFA_PSP16 PSP16 XDATA
        CFI StackFrame CFA_XSP16 XSP16 XDATA
        CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
        CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
        CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
        CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
        CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
        CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
        CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
        CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
        CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
        CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
        CFI VirtualResource ?RET:24
        CFI Resource ?BRET_EXT:8
        CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
        CFI ResourceParts PSP16 PSPH, PSPL
        CFI ResourceParts XSP16 XSPH, XSPL
        CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-3
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B Undefined
        CFI A Undefined
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 Undefined
        CFI R5 Undefined
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI V8 SameValue
        CFI V9 SameValue
        CFI V10 SameValue
        CFI V11 SameValue
        CFI V12 SameValue
        CFI V13 SameValue
        CFI V14 SameValue
        CFI V15 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT Frame(CFA_SP, 3)
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon0
        
sprintf             SYMBOL "sprintf"
debug               SYMBOL "debug"
MQTT_PacketConnect  SYMBOL "MQTT_PacketConnect"
ESP8266_SendData    SYMBOL "ESP8266_SendData"
MQTT_DeleteBuffer   SYMBOL "MQTT_DeleteBuffer"
MQTT_UnPacketRecv   SYMBOL "MQTT_UnPacketRecv"
MQTT_UnPacketCmd    SYMBOL "MQTT_UnPacketCmd"
mqtt_rx             SYMBOL "mqtt_rx"
MQTT_PacketCmdResp  SYMBOL "MQTT_PacketCmdResp"
MQTT_UnPacketPublishAck SYMBOL "MQTT_UnPacketPublishAck"
MQTT_UnPacketPublish SYMBOL "MQTT_UnPacketPublish"
MQTT_PacketPublishAck SYMBOL "MQTT_PacketPublishAck"
MQTT_PacketPublishRec SYMBOL "MQTT_PacketPublishRec"
MQTT_UnPacketPublishRec SYMBOL "MQTT_UnPacketPublishRec"
MQTT_PacketPublishRel SYMBOL "MQTT_PacketPublishRel"
MQTT_UnPacketPublishRel SYMBOL "MQTT_UnPacketPublishRel"
MQTT_PacketPublishComp SYMBOL "MQTT_PacketPublishComp"
MQTT_UnPacketPublishComp SYMBOL "MQTT_UnPacketPublishComp"
MQTT_UnPacketSubscribe SYMBOL "MQTT_UnPacketSubscribe"
MQTT_UnPacketUnSubscribe SYMBOL "MQTT_UnPacketUnSubscribe"
MQTT_PacketPing     SYMBOL "MQTT_PacketPing"
strlen              SYMBOL "strlen"
MQTT_PacketPublish  SYMBOL "MQTT_PacketPublish"
MQTT_PacketSubscribe SYMBOL "MQTT_PacketSubscribe"
??ESP8266_SendData?relay SYMBOL "?relay", ESP8266_SendData
??MQTT_DeleteBuffer?relay SYMBOL "?relay", MQTT_DeleteBuffer
??MQTT_PacketCmdResp?relay SYMBOL "?relay", MQTT_PacketCmdResp
??MQTT_PacketConnect?relay SYMBOL "?relay", MQTT_PacketConnect
??MQTT_PacketPing?relay SYMBOL "?relay", MQTT_PacketPing
??MQTT_PacketPublish?relay SYMBOL "?relay", MQTT_PacketPublish
??MQTT_PacketPublishAck?relay SYMBOL "?relay", MQTT_PacketPublishAck
??MQTT_PacketPublishComp?relay SYMBOL "?relay", MQTT_PacketPublishComp
??MQTT_PacketPublishRec?relay SYMBOL "?relay", MQTT_PacketPublishRec
??MQTT_PacketPublishRel?relay SYMBOL "?relay", MQTT_PacketPublishRel
??MQTT_PacketSubscribe?relay SYMBOL "?relay", MQTT_PacketSubscribe
??MQTT_UnPacketCmd?relay SYMBOL "?relay", MQTT_UnPacketCmd
??MQTT_UnPacketPublish?relay SYMBOL "?relay", MQTT_UnPacketPublish
??MQTT_UnPacketPublishAck?relay SYMBOL "?relay", MQTT_UnPacketPublishAck
??MQTT_UnPacketPublishComp?relay SYMBOL "?relay", MQTT_UnPacketPublishComp
??MQTT_UnPacketPublishRec?relay SYMBOL "?relay", MQTT_UnPacketPublishRec
??MQTT_UnPacketPublishRel?relay SYMBOL "?relay", MQTT_UnPacketPublishRel
??MQTT_UnPacketRecv?relay SYMBOL "?relay", MQTT_UnPacketRecv
??MQTT_UnPacketSubscribe?relay SYMBOL "?relay", MQTT_UnPacketSubscribe
??MQTT_UnPacketUnSubscribe?relay SYMBOL "?relay", MQTT_UnPacketUnSubscribe
??debug?relay       SYMBOL "?relay", debug
??mqtt_rx?relay     SYMBOL "?relay", mqtt_rx
??sprintf?relay     SYMBOL "?relay", sprintf
??strlen?relay      SYMBOL "?relay", strlen
OneNet_DevLink      SYMBOL "OneNet_DevLink"
??OneNet_DevLink?relay SYMBOL "?relay", OneNet_DevLink
OneNet_RevPro       SYMBOL "OneNet_RevPro"
??OneNet_RevPro?relay SYMBOL "?relay", OneNet_RevPro
mqtt_publish_topic  SYMBOL "mqtt_publish_topic"
??mqtt_publish_topic?relay SYMBOL "?relay", mqtt_publish_topic
mqtt_subscribe_topic SYMBOL "mqtt_subscribe_topic"
??mqtt_subscribe_topic?relay SYMBOL "?relay", mqtt_subscribe_topic
onenet_mqtt_send_heart SYMBOL "onenet_mqtt_send_heart"
??onenet_mqtt_send_heart?relay SYMBOL "?relay", onenet_mqtt_send_heart

        EXTERN sprintf
        FUNCTION sprintf,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN debug
        FUNCTION debug,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketConnect
        FUNCTION MQTT_PacketConnect,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ESP8266_SendData
        FUNCTION ESP8266_SendData,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_DeleteBuffer
        FUNCTION MQTT_DeleteBuffer,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketRecv
        FUNCTION MQTT_UnPacketRecv,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketCmd
        FUNCTION MQTT_UnPacketCmd,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 36, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN mqtt_rx
        FUNCTION mqtt_rx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketCmdResp
        FUNCTION MQTT_PacketCmdResp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketPublishAck
        FUNCTION MQTT_UnPacketPublishAck,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketPublish
        FUNCTION MQTT_UnPacketPublish,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 42, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketPublishAck
        FUNCTION MQTT_PacketPublishAck,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketPublishRec
        FUNCTION MQTT_PacketPublishRec,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketPublishRec
        FUNCTION MQTT_UnPacketPublishRec,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketPublishRel
        FUNCTION MQTT_PacketPublishRel,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketPublishRel
        FUNCTION MQTT_UnPacketPublishRel,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketPublishComp
        FUNCTION MQTT_PacketPublishComp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketPublishComp
        FUNCTION MQTT_UnPacketPublishComp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketSubscribe
        FUNCTION MQTT_UnPacketSubscribe,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_UnPacketUnSubscribe
        FUNCTION MQTT_UnPacketUnSubscribe,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketPing
        FUNCTION MQTT_PacketPing,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN strlen
        FUNCTION strlen,010202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketPublish
        FUNCTION MQTT_PacketPublish,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MQTT_PacketSubscribe
        FUNCTION MQTT_PacketSubscribe,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ??ESP8266_SendData?relay
        FUNCTION ??ESP8266_SendData?relay,00H
        EXTERN ??MQTT_DeleteBuffer?relay
        FUNCTION ??MQTT_DeleteBuffer?relay,00H
        EXTERN ??MQTT_PacketCmdResp?relay
        FUNCTION ??MQTT_PacketCmdResp?relay,00H
        EXTERN ??MQTT_PacketConnect?relay
        FUNCTION ??MQTT_PacketConnect?relay,00H
        EXTERN ??MQTT_PacketPing?relay
        FUNCTION ??MQTT_PacketPing?relay,00H
        EXTERN ??MQTT_PacketPublish?relay
        FUNCTION ??MQTT_PacketPublish?relay,00H
        EXTERN ??MQTT_PacketPublishAck?relay
        FUNCTION ??MQTT_PacketPublishAck?relay,00H
        EXTERN ??MQTT_PacketPublishComp?relay
        FUNCTION ??MQTT_PacketPublishComp?relay,00H
        EXTERN ??MQTT_PacketPublishRec?relay
        FUNCTION ??MQTT_PacketPublishRec?relay,00H
        EXTERN ??MQTT_PacketPublishRel?relay
        FUNCTION ??MQTT_PacketPublishRel?relay,00H
        EXTERN ??MQTT_PacketSubscribe?relay
        FUNCTION ??MQTT_PacketSubscribe?relay,00H
        EXTERN ??MQTT_UnPacketCmd?relay
        FUNCTION ??MQTT_UnPacketCmd?relay,00H
        EXTERN ??MQTT_UnPacketPublish?relay
        FUNCTION ??MQTT_UnPacketPublish?relay,00H
        EXTERN ??MQTT_UnPacketPublishAck?relay
        FUNCTION ??MQTT_UnPacketPublishAck?relay,00H
        EXTERN ??MQTT_UnPacketPublishComp?relay
        FUNCTION ??MQTT_UnPacketPublishComp?relay,00H
        EXTERN ??MQTT_UnPacketPublishRec?relay
        FUNCTION ??MQTT_UnPacketPublishRec?relay,00H
        EXTERN ??MQTT_UnPacketPublishRel?relay
        FUNCTION ??MQTT_UnPacketPublishRel?relay,00H
        EXTERN ??MQTT_UnPacketRecv?relay
        FUNCTION ??MQTT_UnPacketRecv?relay,00H
        EXTERN ??MQTT_UnPacketSubscribe?relay
        FUNCTION ??MQTT_UnPacketSubscribe?relay,00H
        EXTERN ??MQTT_UnPacketUnSubscribe?relay
        FUNCTION ??MQTT_UnPacketUnSubscribe?relay,00H
        EXTERN ??debug?relay
        FUNCTION ??debug?relay,00H
        EXTERN ??mqtt_rx?relay
        FUNCTION ??mqtt_rx?relay,00H
        EXTERN ??sprintf?relay
        FUNCTION ??sprintf?relay,00H
        EXTERN ??strlen?relay
        FUNCTION ??strlen?relay,00H

// e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\mqtt.c
//    1 /**
//    2 ************************************************************
//    3 ************************************************************
//    4 ************************************************************
//    5 *	文件名： 	onenet.c
//    6 *
//    7 *	作者： 		
//    8 *
//    9 *	日期： 		2017-05-08
//   10 *
//   11 *	版本： 		V1.1
//   12 *
//   13 *	说明： 		与onenet平台的数据交互接口层
//   14 *
//   15 *	修改记录：	V1.0：协议封装、返回判断都在同一个文件，并且不同协议接口不同。
//   16 *				V1.1：提供统一接口供应用层使用，根据不同协议文件来封装协议相关的内容。
//   17 ************************************************************
//   18 ************************************************************
//   19 ************************************************************
//   20 **/
//   21 //协议文件
//   22 #include "mqtt.h"
//   23 #include "mqttkit.h"
//   24 
//   25 //C库
//   26 #include <string.h>
//   27 #include <stdio.h>
//   28 
//   29 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   30 uint8 packet_buff[max_packet_len]={0};
packet_buff:
        DS 300
        REQUIRE __INIT_XDATA_Z
//   31 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   32 char cmdid_topic[MAX_CMDID_TOPIC_LEN+1] = {0};
cmdid_topic:
        DS 71
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   33 char req_payload[MAX_REQ_PAYLOAD_LEN+1] = {0};
req_payload:
        DS 151
        REQUIRE __INIT_XDATA_Z
//   34 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   35 unsigned char mqttUsername[30]={0};
mqttUsername:
        DS 30
        REQUIRE __INIT_XDATA_Z
//   36 //==========================================================
//   37 //	函数名称：	OneNet_DevLink
//   38 //
//   39 //	函数功能：	与onenet创建连接
//   40 //
//   41 //	入口参数：	无
//   42 //
//   43 //	返回参数：	0-成功	1-失败
//   44 //
//   45 //	说明：		与onenet平台建立连接
//   46 //==========================================================

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   47 _Bool OneNet_DevLink(void)
OneNet_DevLink:
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function OneNet_DevLink
        CODE
//   48 {
        FUNCALL OneNet_DevLink, sprintf
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_DevLink, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_DevLink, MQTT_PacketConnect
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_DevLink, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_DevLink, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_DevLink, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 11
        MOV     A,#-0xb
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 23)
//   49   MQTT_PACKET_STRUCTURE mqttPacket = {packet_buff, 0, max_packet_len, MEM_FLAG_STATIC};                //协议包
        MOV     DPTR,#`?<Constant {packet_buff, 0L, 300L, 2}>`
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOV     A,#0xb
        LCALL   ?MOVE_LONG8_XDATA_XDATA
//   50   
//   51   unsigned char *dataPtr;
//   52   
//   53   _Bool status = 1;
        SETB    ?VB.0
//   54   
//   55   sprintf(mqttUsername, "%s&%s", DeviceName, ProductKey);
        ; Setup parameters for call to function sprintf
        MOV     ?V0 + 0,#`?<Constant "a1xaMw4YerO">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "a1xaMw4YerO">` >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 25)
        MOV     ?V0 + 0,#`?<Constant "device">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "device">` >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     R4,#`?<Constant "%s&%s">` & 0xff
        MOV     R5,#(`?<Constant "%s&%s">` >> 8) & 0xff
        MOV     R2,#mqttUsername & 0xff
        MOV     R3,#(mqttUsername >> 8) & 0xff
        LCALL   ??sprintf?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 23)
//   56   debug( "OneNet_DevLink\r\nmqttUsername:%s, mqttPassword:%s,mqttClientId:%s\r\n", mqttUsername, mqttPassword, mqttClientId);
        ; Setup parameters for call to function debug
        MOV     ?V0 + 0,#`?<Constant "a1xaMw4YerO.device|se...">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "a1xaMw4YerO.device|se...">` >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 25)
        MOV     ?V0 + 0,#`?<Constant "91bf398bee0b02f1592d9...">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "91bf398bee0b02f1592d9...">` >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     ?V0 + 0,#mqttUsername & 0xff
        MOV     ?V0 + 1,#(mqttUsername >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV     R2,#`?<Constant "OneNet_DevLink\\r\\nmqttU...">` & 0xff
        MOV     R3,#(`?<Constant "OneNet_DevLink\\r\\nmqttU...">` >> 8) & 0xff
        LCALL   ??debug?relay
        MOV     A,#0x6
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 23)
//   57   //接入onenet
//   58   if(MQTT_PacketConnect(mqttUsername, mqttPassword, mqttClientId, 256, 0, MQTT_QOS_LEVEL0, NULL, NULL, 0, &mqttPacket) == 0)
        ; Setup parameters for call to function MQTT_PacketConnect
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 25)
        MOV     DPTR,#__Constant_0
        LCALL   ?PUSH_XSTACK8_X_FOUR
        CFI CFA_XSP16 add(XSP16, 29)
        CLR     A
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 31)
        CLR     A
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 33)
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 0,#0x0
        MOV     ?V0 + 1,#0x1
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 0,#`?<Constant "a1xaMw4YerO.device|se...">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "a1xaMw4YerO.device|se...">` >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     R1,#0x0
        MOV     R4,#`?<Constant "91bf398bee0b02f1592d9...">` & 0xff
        MOV     R5,#(`?<Constant "91bf398bee0b02f1592d9...">` >> 8) & 0xff
        MOV     R2,#mqttUsername & 0xff
        MOV     R3,#(mqttUsername >> 8) & 0xff
        LCALL   ??MQTT_PacketConnect?relay
        MOV     A,#0xf
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 23)
        MOV     A,R1
        JNZ     ??OneNet_DevLink_0
//   59   {
//   60     ESP8266_SendData(mqttPacket._data, mqttPacket._len);			//上传平台
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//   61     
//   62     MQTT_DeleteBuffer(&mqttPacket);								//删包
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
        SJMP    ??OneNet_DevLink_1
//   63   }
//   64   else
//   65     debug("WARN:	MQTT_PacketConnect Failed\r\n");
??OneNet_DevLink_0:
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "WARN:\\tMQTT_PacketConn...">` & 0xff
        MOV     R3,#(`?<Constant "WARN:\\tMQTT_PacketConn...">` >> 8) & 0xff
        LCALL   ??debug?relay
//   66   
//   67   return status;
??OneNet_DevLink_1:
        MOV     C,?VB.0
        MOV     A,#0xb
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock0
//   68   
//   69 }
//   70 
//   71 
//   72 //==========================================================
//   73 //	函数名称：	OneNet_RevPro
//   74 //
//   75 //	函数功能：	平台返回数据检测
//   76 //
//   77 //	入口参数：	dataPtr：平台返回的数据
//   78 //
//   79 //	返回参数：	无
//   80 //
//   81 //	说明：		
//   82 //==========================================================

        RSEG BANKED_CODE:CODE:NOROOT(0)
//   83 void OneNet_RevPro(unsigned char *cmd)
OneNet_RevPro:
        CFI Block cfiBlock1 Using cfiCommon0
        CFI Function OneNet_RevPro
        CODE
//   84 {
        FUNCALL OneNet_RevPro, MQTT_UnPacketRecv
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketCmd
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 36, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 36, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, mqtt_rx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_PacketCmdResp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketPublishAck
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketPublish
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 42, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 42, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 40, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 40, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, mqtt_rx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_PacketPublishAck
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_PacketPublishRec
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketPublishRec
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_PacketPublishRel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketPublishRel
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_PacketPublishComp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketPublishComp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketSubscribe
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, MQTT_UnPacketUnSubscribe
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL OneNet_RevPro, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 32, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 32, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 16
        MOV     A,#-0x10
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 32)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//   85   MQTT_PACKET_STRUCTURE mqttPacket = {packet_buff, 0, max_packet_len, 0};								//协议包
        MOV     DPTR,#`?<Constant {packet_buff, 0L, 300L, 0}>`
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOV     A,#0xb
        LCALL   ?MOVE_LONG8_XDATA_XDATA
//   86   
//   87   unsigned short topic_len = 0;
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//   88   unsigned short req_len = 0;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//   89   
//   90   unsigned char qos = 0;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x0
        MOVX    @DPTR,A
//   91   static unsigned short pkt_id = 0;
//   92   
//   93   
//   94   unsigned char type = 0;
        MOV     ?V0 + 2,#0x0
//   95   
//   96   short result = 0;
        MOV     ?V0 + 0,#0x0
        MOV     ?V0 + 1,#0x0
//   97   
//   98   type = MQTT_UnPacketRecv(cmd);
        ; Setup parameters for call to function MQTT_UnPacketRecv
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketRecv?relay
        MOV     A,R1
        MOV     ?V0 + 2,A
//   99   
//  100   switch(type)
        MOV     A,?V0 + 2
        ADD     A,#-0x3
        JNZ     $+5
        LJMP    ??OneNet_RevPro_0 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??OneNet_RevPro_1 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??OneNet_RevPro_2 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??OneNet_RevPro_3 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??OneNet_RevPro_4 & 0xFFFF
        ADD     A,#-0x2
        JNZ     $+5
        LJMP    ??OneNet_RevPro_5 & 0xFFFF
        ADD     A,#-0x2
        JNZ     $+5
        LJMP    ??OneNet_RevPro_6 & 0xFFFF
        ADD     A,#-0x2
        JNZ     $+5
        LJMP    ??OneNet_RevPro_7 & 0xFFFF
        ADD     A,#-0x2
        JZ      $+5
        LJMP    ??OneNet_RevPro_8 & 0xFFFF
//  101   {
//  102   case MQTT_PKT_CMD:															//命令下发
//  103     {
//  104       result = MQTT_UnPacketCmd(cmd, cmdid_topic, req_payload, &req_len);	//解出topic和消息体
        ; Setup parameters for call to function MQTT_UnPacketCmd
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 4,DPL
        MOV     ?V0 + 5,DPH
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 4,#req_payload & 0xff
        MOV     ?V0 + 5,#(req_payload >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     R4,#cmdid_topic & 0xff
        MOV     R5,#(cmdid_topic >> 8) & 0xff
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketCmd?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 32)
        MOV     A,R1
        MOV     R0,A
        MOV     R1,#0x0
        MOV     ?V0 + 0,R0
        MOV     ?V0 + 1,R1
//  105       if(result == 0)
        MOV     A,?V0 + 0
        ORL     A,?V0 + 1
        JZ      $+5
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  106       {
//  107         debug("cmdid: %s, req: %s, req_len: %d\r\n", cmdid_topic, req_payload, req_len);
        ; Setup parameters for call to function debug
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 4,#req_payload & 0xff
        MOV     ?V0 + 5,#(req_payload >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 4,#cmdid_topic & 0xff
        MOV     ?V0 + 5,#(cmdid_topic >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     R2,#`?<Constant "cmdid: %s, req: %s, r...">` & 0xff
        MOV     R3,#(`?<Constant "cmdid: %s, req: %s, r...">` >> 8) & 0xff
        LCALL   ??debug?relay
        MOV     A,#0x6
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 32)
//  108         mqtt_rx(cmdid_topic, req_payload);
        ; Setup parameters for call to function mqtt_rx
        MOV     R4,#req_payload & 0xff
        MOV     R5,#(req_payload >> 8) & 0xff
        MOV     R2,#cmdid_topic & 0xff
        MOV     R3,#(cmdid_topic >> 8) & 0xff
        LCALL   ??mqtt_rx?relay
//  109 #if 1
//  110         
//  111         if(MQTT_PacketCmdResp(cmdid_topic, req_payload, &mqttPacket) == 0)	//命令回复组包
        ; Setup parameters for call to function MQTT_PacketCmdResp
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 4,DPL
        MOV     ?V0 + 5,DPH
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#req_payload & 0xff
        MOV     R5,#(req_payload >> 8) & 0xff
        MOV     R2,#cmdid_topic & 0xff
        MOV     R3,#(cmdid_topic >> 8) & 0xff
        LCALL   ??MQTT_PacketCmdResp?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 32)
        MOV     A,R1
        JNZ     ??OneNet_RevPro_10
//  112         {
//  113           debug("Tips:	Send CmdResp\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:\\tSend CmdResp\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:\\tSend CmdResp\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  114           
//  115           ESP8266_SendData(mqttPacket._data, mqttPacket._len);			//回复命令
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 4
        MOV     R5,?V0 + 5
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  116           MQTT_DeleteBuffer(&mqttPacket);									//删包
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  117         }
//  118 #endif
//  119       }
//  120     }
//  121     break;
??OneNet_RevPro_10:
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  122     
//  123   case MQTT_PKT_PUBACK:														//发送Publish消息，平台回复的Ack
//  124     
//  125     if(MQTT_UnPacketPublishAck(cmd) == 0)
??OneNet_RevPro_1:
        ; Setup parameters for call to function MQTT_UnPacketPublishAck
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketPublishAck?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_11
//  126       debug("Tips:	MQTT Publish Send OK\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:\\tMQTT Publish Se...">` & 0xff
        MOV     R3,#(`?<Constant "Tips:\\tMQTT Publish Se...">` >> 8) & 0xff
        LCALL   ??debug?relay
//  127     
//  128     break;
??OneNet_RevPro_11:
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  129     
//  130   case MQTT_PKT_PINGRESP:
//  131     {
//  132       debug("Tips:  HeartBeat OK\r\n");
??OneNet_RevPro_7:
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  HeartBeat OK\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  HeartBeat OK\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  133       break;
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  134     }
//  135     
//  136   case MQTT_PKT_PUBLISH:  //接收的Publish消息
//  137     {
//  138       if(MQTT_UnPacketPublish(cmd, cmdid_topic, &topic_len, req_payload, &req_len, &qos, &pkt_id) == 0)
??OneNet_RevPro_0:
        ; Setup parameters for call to function MQTT_UnPacketPublish
        MOV     ?V0 + 4,#??pkt_id & 0xff
        MOV     ?V0 + 5,#(??pkt_id >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 4,DPL
        MOV     ?V0 + 5,DPH
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 4,DPL
        MOV     ?V0 + 5,DPH
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     ?V0 + 4,#req_payload & 0xff
        MOV     ?V0 + 5,#(req_payload >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 40)
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 4,DPL
        MOV     ?V0 + 5,DPH
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 42)
        MOV     R4,#cmdid_topic & 0xff
        MOV     R5,#(cmdid_topic >> 8) & 0xff
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketPublish?relay
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 32)
        MOV     A,R1
        JZ      $+5
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  139       {
//  140         debug("topic: %s, topic_len: %d, payload: %s, payload_len: %d\r\n",cmdid_topic, topic_len, req_payload, req_len);
        ; Setup parameters for call to function debug
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 4,#req_payload & 0xff
        MOV     ?V0 + 5,#(req_payload >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     ?V0 + 4,#cmdid_topic & 0xff
        MOV     ?V0 + 5,#(cmdid_topic >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 40)
        MOV     R2,#`?<Constant "topic: %s, topic_len:...">` & 0xff
        MOV     R3,#(`?<Constant "topic: %s, topic_len:...">` >> 8) & 0xff
        LCALL   ??debug?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 32)
//  141         mqtt_rx(cmdid_topic, req_payload);
        ; Setup parameters for call to function mqtt_rx
        MOV     R4,#req_payload & 0xff
        MOV     R5,#(req_payload >> 8) & 0xff
        MOV     R2,#cmdid_topic & 0xff
        MOV     R3,#(cmdid_topic >> 8) & 0xff
        LCALL   ??mqtt_rx?relay
//  142         
//  143         // MQTT_FreeBuffer(cmdid_topic);
//  144         // MQTT_FreeBuffer(req_payload);        
//  145         
//  146         switch(qos)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        DEC     A
        JZ      ??OneNet_RevPro_12
        DEC     A
        JZ      ??OneNet_RevPro_13
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  147         {
//  148         case 1:                                                         //收到publish的qos为1，设备需要回复Ack
//  149           {
//  150             if(MQTT_PacketPublishAck(pkt_id, &mqttPacket) == 0)
??OneNet_RevPro_12:
        ; Setup parameters for call to function MQTT_PacketPublishAck
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     DPTR,#??pkt_id
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??MQTT_PacketPublishAck?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_14
//  151             {
//  152               debug("Tips:  Send PublishAck\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Send PublishAck\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Send PublishAck\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  153               ESP8266_SendData(mqttPacket._data, mqttPacket._len);
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 4
        MOV     R5,?V0 + 5
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  154               MQTT_DeleteBuffer(&mqttPacket);
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  155             }
//  156             break;
        SJMP    ??OneNet_RevPro_14
//  157           }
//  158         case 2: //收到publish的qos为2，设备先回复Rec
//  159           {       //平台回复Rel，设备再回复Comp
//  160             if(MQTT_PacketPublishRec(pkt_id, &mqttPacket) == 0)
??OneNet_RevPro_13:
        ; Setup parameters for call to function MQTT_PacketPublishRec
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     DPTR,#??pkt_id
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??MQTT_PacketPublishRec?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_14
//  161             {
//  162               debug("Tips:  Send PublishRec\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Send PublishRec\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Send PublishRec\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  163               ESP8266_SendData(mqttPacket._data, mqttPacket._len);
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 4
        MOV     R5,?V0 + 5
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  164               MQTT_DeleteBuffer(&mqttPacket);
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  165             }
//  166             break;
//  167           }
//  168         default:
//  169           break;
//  170         }
//  171         
//  172       }
//  173       break;
??OneNet_RevPro_14:
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  174     }
//  175   case MQTT_PKT_PUBREC:   //发送Publish消息，平台回复的Rec，设备需回复Rel消息
//  176     {
//  177       if(MQTT_UnPacketPublishRec(cmd) == 0)
??OneNet_RevPro_2:
        ; Setup parameters for call to function MQTT_UnPacketPublishRec
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketPublishRec?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_15
//  178       {
//  179         debug("Tips:  Rev PublishRec\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Rev PublishRec\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Rev PublishRec\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  180         if(MQTT_PacketPublishRel(MQTT_PUBLISH_ID, &mqttPacket) == 0)
        ; Setup parameters for call to function MQTT_PacketPublishRel
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ??MQTT_PacketPublishRel?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_15
//  181         {
//  182           debug("Tips:  Send PublishRel\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Send PublishRel\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Send PublishRel\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  183           ESP8266_SendData(mqttPacket._data, mqttPacket._len);
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 4
        MOV     R5,?V0 + 5
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  184           MQTT_DeleteBuffer(&mqttPacket);
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  185         }
//  186       }
//  187       break;
??OneNet_RevPro_15:
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  188     }   
//  189   case MQTT_PKT_PUBREL://收到Publish消息，设备回复Rec后，平台回复的Rel，设备需再回复Comp
//  190     {
//  191       if(MQTT_UnPacketPublishRel(cmd, pkt_id) == 0)
??OneNet_RevPro_3:
        ; Setup parameters for call to function MQTT_UnPacketPublishRel
        MOV     DPTR,#??pkt_id
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketPublishRel?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_16
//  192       {
//  193         debug("Tips:  Rev PublishRel\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Rev PublishRel\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Rev PublishRel\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  194         if(MQTT_PacketPublishComp(MQTT_PUBLISH_ID, &mqttPacket) == 0)
        ; Setup parameters for call to function MQTT_PacketPublishComp
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ??MQTT_PacketPublishComp?relay
        MOV     A,R1
        JZ      $+5
        LJMP    ??OneNet_RevPro_9 & 0xFFFF
//  195         {
//  196           debug("Tips:  Send PublishComp\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Send PublishCo...">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Send PublishCo...">` >> 8) & 0xff
        LCALL   ??debug?relay
//  197           ESP8266_SendData(mqttPacket._data, mqttPacket._len);
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 4
        MOV     R5,?V0 + 5
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  198           MQTT_DeleteBuffer(&mqttPacket);
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  199         }
//  200       }
//  201       break;
??OneNet_RevPro_16:
        SJMP    ??OneNet_RevPro_9
//  202     }
//  203   case MQTT_PKT_PUBCOMP:  //发送Publish消息，平台返回Rec，设备回复Rel，平台再返回的Comp
//  204     {
//  205       if(MQTT_UnPacketPublishComp(cmd) == 0)
??OneNet_RevPro_4:
        ; Setup parameters for call to function MQTT_UnPacketPublishComp
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketPublishComp?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_9
//  206       {
//  207         debug("Tips:  Rev PublishComp\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  Rev PublishComp\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  Rev PublishComp\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  208       }
//  209       break;
        SJMP    ??OneNet_RevPro_9
//  210     }
//  211   case MQTT_PKT_SUBACK:   //发送Subscribe消息的Ack
//  212     {
//  213       if(MQTT_UnPacketSubscribe(cmd) == 0)
??OneNet_RevPro_5:
        ; Setup parameters for call to function MQTT_UnPacketSubscribe
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketSubscribe?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_17
//  214       {
//  215         debug("Tips:  MQTT Subscribe OK\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  MQTT Subscribe...">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  MQTT Subscribe...">` >> 8) & 0xff
        LCALL   ??debug?relay
        SJMP    ??OneNet_RevPro_9
//  216       }
//  217       else
//  218       {
//  219         debug("Tips:  MQTT Subscribe Err\r\n");
??OneNet_RevPro_17:
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  MQTT Subscribe...">_1` & 0xff
        MOV     R3,#(`?<Constant "Tips:  MQTT Subscribe...">_1` >> 8) & 0xff
        LCALL   ??debug?relay
//  220       }
//  221       break;
        SJMP    ??OneNet_RevPro_9
//  222     }
//  223   case MQTT_PKT_UNSUBACK: //发送UnSubscribe消息的Ack
//  224     {
//  225       if(MQTT_UnPacketUnSubscribe(cmd) == 0)
??OneNet_RevPro_6:
        ; Setup parameters for call to function MQTT_UnPacketUnSubscribe
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??MQTT_UnPacketUnSubscribe?relay
        MOV     A,R1
        JNZ     ??OneNet_RevPro_18
//  226       {
//  227         debug("Tips:  MQTT UnSubscribe OK\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  MQTT UnSubscri...">` & 0xff
        MOV     R3,#(`?<Constant "Tips:  MQTT UnSubscri...">` >> 8) & 0xff
        LCALL   ??debug?relay
        SJMP    ??OneNet_RevPro_9
//  228       }
//  229       else
//  230       {
//  231         debug("Tips:  MQTT UnSubscribe Err\r\n");
??OneNet_RevPro_18:
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "Tips:  MQTT UnSubscri...">_1` & 0xff
        MOV     R3,#(`?<Constant "Tips:  MQTT UnSubscri...">_1` >> 8) & 0xff
        LCALL   ??debug?relay
//  232       }
//  233       break;
        SJMP    ??OneNet_RevPro_9
//  234     } 		
//  235   default:
//  236     result = -1;
??OneNet_RevPro_8:
        MOV     ?V0 + 0,#-0x1
        MOV     ?V0 + 1,#-0x1
//  237     break;
//  238   }
//  239 }
??OneNet_RevPro_9:
        MOV     A,#0x10
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock1

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??pkt_id:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  240 
//  241 /**************************************************************
//  242 函数名称 : onenet_mqtt_send_heart
//  243 函数功能 : 发送心跳
//  244 输入参数 : 无
//  245 返回值  	 : 无
//  246 备注		 : 无
//  247 **************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  248 void onenet_mqtt_send_heart(void)
onenet_mqtt_send_heart:
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function onenet_mqtt_send_heart
        CODE
//  249 {
        FUNCALL onenet_mqtt_send_heart, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL onenet_mqtt_send_heart, MQTT_PacketPing
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL onenet_mqtt_send_heart, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL onenet_mqtt_send_heart, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 11
        MOV     A,#-0xb
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 23)
//  250   MQTT_PACKET_STRUCTURE mqttPacket = {packet_buff, 0, max_packet_len, MEM_FLAG_STATIC};                //协议包
        MOV     DPTR,#`?<Constant {packet_buff, 0L, 300L, 2}>_1`
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOV     A,#0xb
        LCALL   ?MOVE_LONG8_XDATA_XDATA
//  251   
//  252   debug("send heart\r\n");
        ; Setup parameters for call to function debug
        MOV     R2,#`?<Constant "send heart\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "send heart\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
//  253   MQTT_PacketPing(&mqttPacket);
        ; Setup parameters for call to function MQTT_PacketPing
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_PacketPing?relay
        MOV     A,R1
//  254   ESP8266_SendData(mqttPacket._data, mqttPacket._len);
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  255   MQTT_DeleteBuffer(&mqttPacket);									//删包
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  256 }
        MOV     A,#0xb
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock2
//  257 
//  258 
//  259 /**************************************************************
//  260 函数名称 : mqtt_publish_topic
//  261 函数功能 : onenet mqtt 发布主题消息
//  262 输入参数 : topic：发布的主题
//  263 msg：消息内容
//  264 返回值  	 : PUBLISH_MSG_OK: 发布消息成功
//  265 PUBLISH_MSG_ERROR：发布消息失败
//  266 备注		 : 无
//  267 **************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  268 _Bool mqtt_publish_topic(const char *topic, const char *msg)
mqtt_publish_topic:
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function mqtt_publish_topic
        CODE
//  269 {
        FUNCALL mqtt_publish_topic, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 31, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 31, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_publish_topic, strlen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 37, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_publish_topic, MQTT_PacketPublish
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 43, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_publish_topic, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_publish_topic, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 11
        MOV     A,#-0xb
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     ?V0 + 6,R2
        MOV     ?V0 + 7,R3
        MOV     ?V0 + 4,R4
        MOV     ?V0 + 5,R5
//  270   MQTT_PACKET_STRUCTURE mqttPacket = {packet_buff, 0, max_packet_len, MEM_FLAG_STATIC};                //协议包
        MOV     DPTR,#`?<Constant {packet_buff, 0L, 300L, 2}>_2`
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOV     A,#0xb
        LCALL   ?MOVE_LONG8_XDATA_XDATA
//  271   
//  272   debug("publish topic: %s, msg: %s\r\n", topic, msg);
        ; Setup parameters for call to function debug
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 31)
        MOV     R2,#`?<Constant "publish topic: %s, ms...">` & 0xff
        MOV     R3,#(`?<Constant "publish topic: %s, ms...">` >> 8) & 0xff
        LCALL   ??debug?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
//  273   
//  274   if(MQTT_PacketPublish(MQTT_PUBLISH_ID, topic, msg, strlen(msg), MQTT_QOS_LEVEL2, 0, 1, &mqttPacket) == 0)
        ; Setup parameters for call to function MQTT_PacketPublish
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV     DPTR,#__Constant_1
        LCALL   ?PUSH_XSTACK8_X_FOUR
        CFI CFA_XSP16 add(XSP16, 33)
        MOV     DPTR,#__Constant_0
        LCALL   ?PUSH_XSTACK8_X_FOUR
        CFI CFA_XSP16 add(XSP16, 37)
        ; Setup parameters for call to function strlen
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        LCALL   ??strlen?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        CLR     A
        MOV     ?V0 + 2,A
        MOV     ?V0 + 3,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_FOUR
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 43)
        MOV     R1,#0x2
        MOV     R4,?V0 + 6
        MOV     R5,?V0 + 7
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ??MQTT_PacketPublish?relay
        MOV     A,#0x10
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     A,R1
        JNZ     ??mqtt_publish_topic_0
//  275   {
//  276     ESP8266_SendData(mqttPacket._data, mqttPacket._len);//上传平台
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  277     MQTT_DeleteBuffer(&mqttPacket);	//删包
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  278     return 0;
        CLR     C
        SJMP    ??mqtt_publish_topic_1
//  279   }
//  280   else
//  281   {
//  282     return 1;
??mqtt_publish_topic_0:
        SETB    C
??mqtt_publish_topic_1:
        MOV     A,#0xb
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock3
//  283   }
//  284   
//  285 }
//  286 
//  287 /*  发布主题为"hello_topic"，消息为"hello_world" */
//  288 //if(0 == onenet_mqtt_publish_topic("hello_topic", "hello_world"))
//  289 //{;}
//  290 
//  291 
//  292 /**************************************************************
//  293 函数名称 : onenet_mqtt_subscribe_topic
//  294 函数功能 : onenet mqtt 订阅主题
//  295 输入参数 : topic：订阅的topic
//  296 topic_cnt：topic个数
//  297 返回值  	 : SUBSCRIBE_TOPIC_OK:订阅成功
//  298 SUBSCRIBE_TOPIC_ERROR：订阅失败
//  299 备注		 : 无
//  300 **************************************************************/

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  301 _Bool mqtt_subscribe_topic(const signed char *topic[], unsigned char topic_cnt)
mqtt_subscribe_topic:
        CFI Block cfiBlock4 Using cfiCommon0
        CFI Function mqtt_subscribe_topic
        CODE
//  302 {
        FUNCALL mqtt_subscribe_topic, debug
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_subscribe_topic, MQTT_PacketSubscribe
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_subscribe_topic, ESP8266_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL mqtt_subscribe_topic, MQTT_DeleteBuffer
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 27, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 27, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 11
        MOV     A,#-0xb
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 1,R1
//  303   
//  304   unsigned char i = 0;
        MOV     ?V0 + 0,#0x0
//  305   MQTT_PACKET_STRUCTURE mqttPacket = {packet_buff, 0, max_packet_len, MEM_FLAG_STATIC};                //协议包
        MOV     DPTR,#`?<Constant {packet_buff, 0L, 300L, 2}>_3`
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOV     A,#0xb
        LCALL   ?MOVE_LONG8_XDATA_XDATA
//  306   
//  307   for(; i < topic_cnt; i++)
??mqtt_subscribe_topic_0:
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,?V0 + 1
        JNC     ??mqtt_subscribe_topic_1
//  308   {
//  309     debug("subscribe topic: %s\r\n", topic[i]);
        ; Setup parameters for call to function debug
        MOV     A,?V0 + 0
        MOV     R0,?V0 + 0
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,R6
        ADD     A,R0
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,R1
        MOV     DPH,A
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV     R2,#`?<Constant "subscribe topic: %s\\r\\n">` & 0xff
        MOV     R3,#(`?<Constant "subscribe topic: %s\\r\\n">` >> 8) & 0xff
        LCALL   ??debug?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
//  310   }
        INC     ?V0 + 0
        SJMP    ??mqtt_subscribe_topic_0
//  311   
//  312   if(MQTT_PacketSubscribe(MQTT_SUBSCRIBE_ID, MQTT_QOS_LEVEL2, topic, topic_cnt, &mqttPacket) == 0)
??mqtt_subscribe_topic_1:
        ; Setup parameters for call to function MQTT_PacketSubscribe
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV     A,?V0 + 1
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 30)
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R1,#0x2
        MOV     R2,#0x14
        MOV     R3,#0x0
        LCALL   ??MQTT_PacketSubscribe?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     A,R1
        JNZ     ??mqtt_subscribe_topic_2
//  313   {
//  314     ESP8266_SendData(mqttPacket._data, mqttPacket._len);//上传平台
        ; Setup parameters for call to function ESP8266_SendData
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R4,?V0 + 4
        MOV     R5,?V0 + 5
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??ESP8266_SendData?relay
//  315     MQTT_DeleteBuffer(&mqttPacket);											//删包
        ; Setup parameters for call to function MQTT_DeleteBuffer
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??MQTT_DeleteBuffer?relay
//  316     return 0;
        CLR     C
        SJMP    ??mqtt_subscribe_topic_3
//  317   }
//  318   else
//  319   {
//  320     return 1;
??mqtt_subscribe_topic_2:
        SETB    C
??mqtt_subscribe_topic_3:
        MOV     A,#0xb
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock4
//  321   }
//  322 }

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??OneNet_DevLink?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    OneNet_DevLink

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??OneNet_RevPro?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    OneNet_RevPro

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??onenet_mqtt_send_heart?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    onenet_mqtt_send_heart

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??mqtt_publish_topic?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    mqtt_publish_topic

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??mqtt_subscribe_topic?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    mqtt_subscribe_topic

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {packet_buff, 0L, 300L, 2}>`:
        DATA16
        DW packet_buff
        DATA32
        DD 0
        DD 300
        DATA8
        DB 2

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "%s&%s">`:
        DB "%s&%s"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "device">`:
        DB "device"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "a1xaMw4YerO">`:
        DB "a1xaMw4YerO"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "OneNet_DevLink\\r\\nmqttU...">`:
        DB 4FH, 6EH, 65H, 4EH, 65H, 74H, 5FH, 44H
        DB 65H, 76H, 4CH, 69H, 6EH, 6BH, 0DH, 0AH
        DB 6DH, 71H, 74H, 74H, 55H, 73H, 65H, 72H
        DB 6EH, 61H, 6DH, 65H, 3AH, 25H, 73H, 2CH
        DB 20H, 6DH, 71H, 74H, 74H, 50H, 61H, 73H
        DB 73H, 77H, 6FH, 72H, 64H, 3AH, 25H, 73H
        DB 2CH, 6DH, 71H, 74H, 74H, 43H, 6CH, 69H
        DB 65H, 6EH, 74H, 49H, 64H, 3AH, 25H, 73H
        DB 0DH, 0AH, 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "91bf398bee0b02f1592d9...">`:
        DB 39H, 31H, 62H, 66H, 33H, 39H, 38H, 62H
        DB 65H, 65H, 30H, 62H, 30H, 32H, 66H, 31H
        DB 35H, 39H, 32H, 64H, 39H, 30H, 38H, 66H
        DB 35H, 64H, 37H, 36H, 34H, 30H, 61H, 36H
        DB 36H, 33H, 34H, 35H, 36H, 34H, 35H, 65H
        DB 37H, 36H, 33H, 65H, 61H, 66H, 30H, 30H
        DB 39H, 63H, 34H, 34H, 62H, 61H, 61H, 63H
        DB 33H, 36H, 39H, 65H, 38H, 64H, 64H, 34H
        DB 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "a1xaMw4YerO.device|se...">`:
        DB 61H, 31H, 78H, 61H, 4DH, 77H, 34H, 59H
        DB 65H, 72H, 4FH, 2EH, 64H, 65H, 76H, 69H
        DB 63H, 65H, 7CH, 73H, 65H, 63H, 75H, 72H
        DB 65H, 6DH, 6FH, 64H, 65H, 3DH, 32H, 2CH
        DB 73H, 69H, 67H, 6EH, 6DH, 65H, 74H, 68H
        DB 6FH, 64H, 3DH, 68H, 6DH, 61H, 63H, 73H
        DB 68H, 61H, 32H, 35H, 36H, 2CH, 74H, 69H
        DB 6DH, 65H, 73H, 74H, 61H, 6DH, 70H, 3DH
        DB 32H, 35H, 32H, 34H, 36H, 30H, 38H, 30H
        DB 30H, 30H, 30H, 30H, 30H, 7CH, 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "WARN:\\tMQTT_PacketConn...">`:
        DB "WARN:\tMQTT_PacketConnect Failed\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {packet_buff, 0L, 300L, 0}>`:
        DATA16
        DW packet_buff
        DATA32
        DD 0
        DD 300
        DATA8
        DB 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "cmdid: %s, req: %s, r...">`:
        DB "cmdid: %s, req: %s, req_len: %d\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:\\tSend CmdResp\\r\\n">`:
        DB "Tips:\tSend CmdResp\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:\\tMQTT Publish Se...">`:
        DB "Tips:\tMQTT Publish Send OK\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  HeartBeat OK\\r\\n">`:
        DB "Tips:  HeartBeat OK\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "topic: %s, topic_len:...">`:
        DB 74H, 6FH, 70H, 69H, 63H, 3AH, 20H, 25H
        DB 73H, 2CH, 20H, 74H, 6FH, 70H, 69H, 63H
        DB 5FH, 6CH, 65H, 6EH, 3AH, 20H, 25H, 64H
        DB 2CH, 20H, 70H, 61H, 79H, 6CH, 6FH, 61H
        DB 64H, 3AH, 20H, 25H, 73H, 2CH, 20H, 70H
        DB 61H, 79H, 6CH, 6FH, 61H, 64H, 5FH, 6CH
        DB 65H, 6EH, 3AH, 20H, 25H, 64H, 0DH, 0AH
        DB 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Send PublishAck\\r\\n">`:
        DB "Tips:  Send PublishAck\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Send PublishRec\\r\\n">`:
        DB "Tips:  Send PublishRec\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Rev PublishRec\\r\\n">`:
        DB "Tips:  Rev PublishRec\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Send PublishRel\\r\\n">`:
        DB "Tips:  Send PublishRel\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Rev PublishRel\\r\\n">`:
        DB "Tips:  Rev PublishRel\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Send PublishCo...">`:
        DB "Tips:  Send PublishComp\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  Rev PublishComp\\r\\n">`:
        DB "Tips:  Rev PublishComp\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  MQTT Subscribe...">`:
        DB "Tips:  MQTT Subscribe OK\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  MQTT Subscribe...">_1`:
        DB "Tips:  MQTT Subscribe Err\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  MQTT UnSubscri...">`:
        DB "Tips:  MQTT UnSubscribe OK\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Tips:  MQTT UnSubscri...">_1`:
        DB "Tips:  MQTT UnSubscribe Err\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {packet_buff, 0L, 300L, 2}>_1`:
        DATA16
        DW packet_buff
        DATA32
        DD 0
        DD 300
        DATA8
        DB 2

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "send heart\\r\\n">`:
        DB "send heart\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {packet_buff, 0L, 300L, 2}>_2`:
        DATA16
        DW packet_buff
        DATA32
        DD 0
        DD 300
        DATA8
        DB 2

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "publish topic: %s, ms...">`:
        DB "publish topic: %s, msg: %s\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant {packet_buff, 0L, 300L, 2}>_3`:
        DATA16
        DW packet_buff
        DATA32
        DD 0
        DD 300
        DATA8
        DB 2

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "subscribe topic: %s\\r\\n">`:
        DB "subscribe topic: %s\015\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_0:
        DD 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_1:
        DD 1

        END
//  323 
//  324 ////主题订阅方法
//  325 //const signed char *g_mqtt_topics[] = {"/sys/a1sIpEvOQhQ/homeGate/thing/service/switch:SetSwitchStatus"};
//  326 //if(0==mqtt_subscribe_topic(g_mqtt_topics,1))
// 
// 1 752 bytes in segment BANKED_CODE
//    30 bytes in segment BANK_RELAYS
//   848 bytes in segment XDATA_ROM_C
//   554 bytes in segment XDATA_Z
// 
// 1 782 bytes of CODE  memory
//   840 bytes of CONST memory (+ 8 bytes shared)
//   554 bytes of XDATA memory
//
//Errors: none
//Warnings: 24
