###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         23/Jan/2022  23:42:34 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\Source\SampleApp.c    #
#    Command line       =  -f e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wCoord.cfg (-DCPU32MHZ            #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wConfig.cfg (-DZIGBEEPRO          #
#                          -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR       #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 e:\imtht\Documents\Code\Zig #
#                          bee\ZStack-2.5.1a\Projects\zstack\Samples\SampleAp #
#                          p\Source\SampleApp.c -D ZTOOL_P1 -D xMT_TASK -D    #
#                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                    #
#                          LCD_SUPPORTED=DEBUG -lC e:\imtht\Documents\Code\Zi #
#                          gbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleA #
#                          pp\CC2530DB\CoordinatorEB\List\ -lA                #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\List\ --diag_suppress Pe001,Pa010 -o             #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\Obj\ -e --no_cse --no_unroll --no_inline         #
#                          --no_code_motion --no_tbaa --debug --core=plain    #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I e:\imtht\Documents\Code\Zi #
#                          gbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleA #
#                          pp\CC2530DB\ -I e:\imtht\Documents\Code\Zigbee\ZSt #
#                          ack-2.5.1a\Projects\zstack\Samples\SampleApp\CC253 #
#                          0DB\..\Source\ -I e:\imtht\Documents\Code\Zigbee\Z #
#                          Stack-2.5.1a\Projects\zstack\Samples\SampleApp\CC2 #
#                          530DB\..\..\..\ZMain\TI2530DB\ -I                  #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\hal\include\ -I                      #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\hal\target\CC2530EB\ -I              #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\include\ -I                      #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\high_level\ -I                   #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\low_level\srf04\ -I              #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\low_level\srf04\single_chip\ -I  #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mt\ -I e:\imtht\Documents\Code\Zigbe #
#                          e\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\ #
#                          CC2530DB\..\..\..\..\..\Components\osal\include\   #
#                          -I e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          ..\..\Components\services\saddr\ -I                #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\services\sdata\ -I                   #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\af\ -I                         #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\nwk\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\sapi\ -I                       #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\sec\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\sys\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\zdo\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\zmac\ -I e:\imtht\Documents\Code\Zig #
#                          bee\ZStack-2.5.1a\Projects\zstack\Samples\SampleAp #
#                          p\CC2530DB\..\..\..\..\..\Components\zmac\f8w\ -On #
#    List file          =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\List\SampleApp.lst                               #
#    Object file        =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\Obj\SampleApp.r51                                #
#                                                                             #
#                                                                             #
###############################################################################

e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
      1          /*********************************************************************
      2          注意调整mqtt.h中以下三个值可能是修改,解包的时候使用
      3          #define max_packet_len  300     //封包的最大长度
      4          #define MAX_CMDID_TOPIC_LEN  70   //主题的最大长度
      5          #define MAX_REQ_PAYLOAD_LEN  150   //内容的最大长度
      6          注意需要按实际需要增加MqttKit.h中以下二个枚举数组的定义值，定义数字请参见http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718019 (Table 2.1 - Control packet types)
      7          MqttPacketType
      8          MqttQosLevel
      9          注意本文件中SampleApp_CallBack函数出现2次，猜测为上任作者忘记注释出厂代码，注释掉后无影响
     10          
     11          2021年11月7日02点36分 imtht@outlook.com
     12          */
     13          
     14          /*********************************************************************
     15          * INCLUDES
     16          */
     17          
     18          #include <stdio.h>
     19          #include <string.h>
     20          #include "AF.h"
     21          #include "OnBoard.h"

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1
     22          #include "OSAL_Tasks.h"
     23          #include "SampleApp.h"
     24          #include "ZDApp.h"
     25          #include "ZDObject.h"
     26          #include "ZDProfile.h"
     27          
     28          //增加include START
     29          #include "aps_groups.h"
     30          //增加include END
     31          
     32          #include "hal_drivers.h"
     33          #include "hal_key.h"
     34          #if defined ( LCD_SUPPORTED )
     35          #include "hal_lcd.h"
     36          #endif
     37          #include "hal_led.h"
     38          #include "hal_uart.h"
     39          
     40          #ifdef ZDO_COORDINATOR
     41          //协议文件
     42          #include "mqtt.h"
     43          #include "mqttkit.h"
     44          
     45          #else
     46          
     47          #include "dht11.h"
     48          
     49          #endif
     50          
     51          
     52          /*********************************************************************
     53          * MACROS
     54          */
     55          
     56          /*********************************************************************
     57          * CONSTANTS
     58          */
     59          
     60          #if !defined( SAMPLE_APP_PORT )
     61          #define SAMPLE_APP_PORT  0
     62          #endif
     63          
     64          #if !defined( SAMPLE_APP_RX_MAX )
     65          #define SAMPLE_APP_RX_MAX  300
     66          #endif
     67          #define Z_EXTADDR_LEN   8
     68          
     69          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     70          const cId_t SampleApp_ClusterList[SAMPLE_MAX_CLUSTERS] =
   \                     SampleApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0300         DW 3
     71          {
     72            SAMPLEAPP_P2P_CLUSTERID,
     73            SAMPLEAPP_PERIODIC_CLUSTERID,
     74            SERIALAPP_CONNECTREQ_CLUSTER
     75          };
     76          

   \                                 In  segment XDATA_ROM_C, align 1
     77          const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
   \                     SampleApp_SimpleDesc:
   \   000000   0B           DB 11
   \   000001   050F         DW 3845
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   03           DB 3
   \   000007   ....         DW SampleApp_ClusterList
   \   000009   03           DB 3
   \   00000A   ....         DW SampleApp_ClusterList
     78          {
     79            SAMPLEAPP_ENDPOINT,              //  int   Endpoint;
     80            SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
     81            SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
     82            SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
     83            SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
     84            SAMPLE_MAX_CLUSTERS,          //  byte  AppNumInClusters;
     85            (cId_t *)SampleApp_ClusterList,  //  byte *pAppInClusterList;
     86            SAMPLE_MAX_CLUSTERS,          //  byte  AppNumOutClusters;
     87            (cId_t *)SampleApp_ClusterList   //  byte *pAppOutClusterList;
     88          };
     89          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     90          endPointDesc_t SampleApp_epDesc =
   \                     SampleApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE `?<Initializer for SampleApp_epDesc>`
   \   000006                REQUIRE __INIT_XDATA_I
     91          {
     92            SAMPLEAPP_ENDPOINT,
     93            &SampleApp_TaskID,
     94            (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc,
     95            noLatencyReqs
     96          };
     97          
     98          /*********************************************************************
     99          * TYPEDEFS
    100          */
    101          
    102          /*********************************************************************
    103          * GLOBAL VARIABLES
    104          */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    105          devStates_t SampleApp_NwkState;
   \                     SampleApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    106          uint8 SampleApp_TaskID;           // Task ID for internal task/event processing.
   \                     SampleApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    107          
    108          /*********************************************************************
    109          * EXTERNAL VARIABLES
    110          */
    111          
    112          /*********************************************************************
    113          * EXTERNAL FUNCTIONS
    114          */
    115          
    116          /*********************************************************************
    117          * LOCAL VARIABLES
    118          */
    119          
    120          static uint8 SampleApp_MsgID;
    121          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    122          afAddrType_t SampleApp_P2P_DstAddr;      //点播
   \                     SampleApp_P2P_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    123          //增加变量START

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    124          afAddrType_t SampleApp_Periodic_DstAddr;  //广播
   \                     SampleApp_Periodic_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    125          aps_Group_t SampleApp_Group;
   \                     SampleApp_Group:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    126          uint8 DevicesIEEEAddr[4][17]={{"00124B0006F7E953"},{"00124B0006F78A1F"},{"00124B0006F7EAFD"},{"00124B001FBE1D86"}};
   \                     DevicesIEEEAddr:
   \   000000                DS 68
   \   000044                REQUIRE `?<Initializer for DevicesIEEEAddr>`
   \   000044                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    127          uint16 DevicesShortAddr[4]={-1,-1,-1,-1};
   \                     DevicesShortAddr:
   \   000000                DS 8
   \   000008                REQUIRE `?<Initializer for DevicesShortAddr>`
   \   000008                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    128          int devicesOnline[4]={0,0,0,0};//设备在线状态实时码，跟随终端心跳刷新
   \                     devicesOnline:
   \   000000                DS 8
   \   000008                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    129          int devicesOnlineStatus[4]={0,0,0,0};//设备在线状态码，跟随协调器定时任务刷新
   \                     devicesOnlineStatus:
   \   000000                DS 8
   \   000008                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    130          bool flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT=false;//判断SAMPLEAPP_COOR_CHECK_DEV_EVT,SAMPLEAPP_ENDDEV_HEART_BEAT_EVT是否被触发，防止重复触发
   \                     flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    131          uint8 MqttRecMsg[200]={'\0'};//缓存mqtt触发的系统事件消息
   \                     MqttRecMsg:
   \   000000                DS 200
   \   0000C8                REQUIRE __INIT_XDATA_Z
    132          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    133          uint16 NwkAddr = 0xFFFF;
   \                     NwkAddr:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for NwkAddr>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    134          uint8 MacAddr[8]={0};
   \                     MacAddr:
   \   000000                DS 8
   \   000008                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    135          uint8 SampleApp_TransID;  // This is the unique message ID (counter)
   \                     SampleApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    136          void SampleApp_getIEEEAddr(uint8* IEEEAddr);//length of IEEEAddr should be Z_EXTADDR_LEN*2
    137          int SampleApp_SendPointToPointMessage(uint16 ReceiveAddr,uint16 DataId,uint8* SendData,uint16 Lens );//ReceiveAddr为接受设备的地址，DataId为数据识别码，4位16进制码，Lens仅写SendData长度即可
    138          void Response2mqtt(uint8* returnMsg);//向服务器发送反馈消息，反馈主题为thing.service.switch:CmdResult中的Result参数
    139          //增加变量END

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    140          static uint8 SampleApp_RxBuf[SAMPLE_APP_RX_MAX+1]={0};
   \                     SampleApp_RxBuf:
   \   000000                DS 301
   \   00012D                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          static uint16 SampleApp_RxLen=0;
   \                     SampleApp_RxLen:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    142          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    143          uint8 onenet_login_ok=0;//onenet注册成功 0:未注册，1：注册中　2：注册成功
   \                     onenet_login_ok:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    144          uint8 end_temp;//终端的温度
   \                     end_temp:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    145          uint8 end_hum;//终端的湿度
   \                     end_hum:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    146          
    147          
    148          #ifdef ZDO_COORDINATOR

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    149          signed char *g_mqtt_topics_set[5] = {NULL};
   \                     g_mqtt_topics_set:
   \   000000                DS 10
   \   00000A                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    150          u8 topics_buff[60]={0};
   \                     topics_buff:
   \   000000                DS 60
   \   00003C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    151          u8 topics_post[100]={0}; //发布的主题
   \                     topics_post:
   \   000000                DS 100
   \   000064                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    152          u8 mqtt_message[200]={0};//发布的消息
   \                     mqtt_message:
   \   000000                DS 200
   \   0000C8                REQUIRE __INIT_XDATA_Z
    153          #endif
    154          
    155          /*********************************************************************
    156          * LOCAL FUNCTIONS
    157          */
    158          
    159          static void SampleApp_ProcessMSGCmd( afIncomingMSGPacket_t *pkt );
    160          void SampleApp_CallBack(uint8 port, uint8 event);
    161          static void SampleApp_Send_P2P_Message( void );
    162          bool OneNet_publish_topic(const char *topic, const char *msg);
    163          void debug(uint8 * msg, ...);
    164          
    165          /*********************************************************************
    166          * @fn      SampleApp_Init
    167          *
    168          * @brief   This is called during OSAL tasks' initialization.
    169          *
    170          * @param   task_id - the Task ID assigned by OSAL.
    171          *
    172          * @return  none
    173          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    174          void SampleApp_Init( uint8 task_id )
   \                     SampleApp_Init:
    175          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    176            halUARTCfg_t uartConfig;
    177            
    178            SampleApp_TaskID = task_id;
   \   000007   EE           MOV     A,R6
   \   000008   90....       MOV     DPTR,#SampleApp_TaskID
   \   00000B   F0           MOVX    @DPTR,A
    179            SampleApp_NwkState = DEV_INIT;
   \   00000C   90....       MOV     DPTR,#SampleApp_NwkState
   \   00000F   7401         MOV     A,#0x1
   \   000011   F0           MOVX    @DPTR,A
    180            
    181            MT_UartInit();                  //串口初始化
                   ^
Warning[Pe223]: function "MT_UartInit" declared implicitly
   \   000012                ; Setup parameters for call to function MT_UartInit
   \   000012   12....       LCALL   ??MT_UartInit?relay
    182            MT_UartRegisterTaskID(task_id); //注册串口任务
                   ^
Warning[Pe223]: function "MT_UartRegisterTaskID" declared implicitly
   \   000015                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   000015   8E..         MOV     ?V0 + 0,R6
   \   000017   75..00       MOV     ?V0 + 1,#0x0
   \   00001A   AA..         MOV     R2,?V0 + 0
   \   00001C   AB..         MOV     R3,?V0 + 1
   \   00001E   12....       LCALL   ??MT_UartRegisterTaskID?relay
    183            afRegister( (endPointDesc_t *)&SampleApp_epDesc );
   \   000021                ; Setup parameters for call to function afRegister
   \   000021   7A..         MOV     R2,#SampleApp_epDesc & 0xff
   \   000023   7B..         MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
   \   000025   12....       LCALL   ??afRegister?relay
   \   000028   E9           MOV     A,R1
    184            RegisterForKeys( task_id );
   \   000029                ; Setup parameters for call to function RegisterForKeys
   \   000029   EE           MOV     A,R6
   \   00002A   F9           MOV     R1,A
   \   00002B   12....       LCALL   ??RegisterForKeys?relay
   \   00002E   E9           MOV     A,R1
    185            //逢蜂鸣器初始化
    186          
    187            
    188          #ifdef ZDO_COORDINATOR
    189            //协调器初始化
    190            
    191            
    192            //默认蜂鸣器不响
    193            //P0_5=1;
    194            
    195            //初始化发布的主题
    196          //  sprintf(topics_post, "/sys/%s/%s/thing/service/switch:GetSwitchStatus",ProductKey,DeviceName);
    197            sprintf(topics_post, "/a1sIpEvOQhQ/device/user/transfer");
                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   00002F                ; Setup parameters for call to function sprintf
   \   00002F   7C..         MOV     R4,#`?<Constant "/a1sIpEvOQhQ/device/u...">` & 0xff
   \   000031   7D..         MOV     R5,#(`?<Constant "/a1sIpEvOQhQ/device/u...">` >> 8) & 0xff
   \   000033   7A..         MOV     R2,#topics_post & 0xff
   \   000035   7B..         MOV     R3,#(topics_post >> 8) & 0xff
   \   000037   12....       LCALL   ??sprintf?relay
    198            //初始化订阅的主题
    199            sprintf(topics_buff, "/a1sIpEvOQhQ/device/user/receive");
                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   00003A                ; Setup parameters for call to function sprintf
   \   00003A   7C..         MOV     R4,#`?<Constant "/a1sIpEvOQhQ/device/u...">_1` & 0xff
   \   00003C   7D..         MOV     R5,#(`?<Constant "/a1sIpEvOQhQ/device/u...">_1` >> 8) & 0xff
   \   00003E   7A..         MOV     R2,#topics_buff & 0xff
   \   000040   7B..         MOV     R3,#(topics_buff >> 8) & 0xff
   \   000042   12....       LCALL   ??sprintf?relay
    200            g_mqtt_topics_set[0]=topics_buff;
                                       ^
Warning[Pe513]: a value of type "unsigned char *" cannot be assigned to an
          entity of type "signed char *"
   \   000045   90....       MOV     DPTR,#g_mqtt_topics_set
   \   000048   74..         MOV     A,#topics_buff & 0xff
   \   00004A   F0           MOVX    @DPTR,A
   \   00004B   A3           INC     DPTR
   \   00004C   74..         MOV     A,#(topics_buff >> 8) & 0xff
   \   00004E   F0           MOVX    @DPTR,A
    201          #else
    202              
    203            P0SEL &= ~0xa0;                 //设置P05和P07为普通IO口
    204            P0DIR |= 0xa0;                 //P05和P07定义为输出口
    205          #endif
    206            
    207            SampleApp_P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit; //点播
   \   00004F   90....       MOV     DPTR,#SampleApp_P2P_DstAddr + 8
   \   000052   7402         MOV     A,#0x2
   \   000054   F0           MOVX    @DPTR,A
    208            SampleApp_P2P_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000055   90....       MOV     DPTR,#SampleApp_P2P_DstAddr + 9
   \   000058   740B         MOV     A,#0xb
   \   00005A   F0           MOVX    @DPTR,A
    209            SampleApp_P2P_DstAddr.addr.shortAddr = 0x0000;            //发给协调器
   \   00005B   90....       MOV     DPTR,#SampleApp_P2P_DstAddr
   \   00005E   7400         MOV     A,#0x0
   \   000060   F0           MOVX    @DPTR,A
   \   000061   A3           INC     DPTR
   \   000062   7400         MOV     A,#0x0
   \   000064   F0           MOVX    @DPTR,A
    210            
    211            // Setup for the periodic message's destination address 设置发送数据的方式和目的地址寻址模式
    212            // Broadcast to everyone 发送模式:广播发送
    213            SampleApp_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;//广播
   \   000065   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr + 8
   \   000068   740F         MOV     A,#0xf
   \   00006A   F0           MOVX    @DPTR,A
    214            SampleApp_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT; //指定端点号
   \   00006B   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr + 9
   \   00006E   740B         MOV     A,#0xb
   \   000070   F0           MOVX    @DPTR,A
    215            SampleApp_Periodic_DstAddr.addr.shortAddr = 0xFFFF;//指定目的网络地址为广播地址
   \   000071   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr
   \   000074   74FF         MOV     A,#-0x1
   \   000076   F0           MOVX    @DPTR,A
   \   000077   A3           INC     DPTR
   \   000078   74FF         MOV     A,#-0x1
   \   00007A   F0           MOVX    @DPTR,A
    216            
    217            // By default, all devices start out in Group 1
    218            SampleApp_Group.ID = 0x0001;//组号
   \   00007B   90....       MOV     DPTR,#SampleApp_Group
   \   00007E   7401         MOV     A,#0x1
   \   000080   F0           MOVX    @DPTR,A
   \   000081   A3           INC     DPTR
   \   000082   7400         MOV     A,#0x0
   \   000084   F0           MOVX    @DPTR,A
    219            osal_memcpy( SampleApp_Group.name, "Group 1", 7  );//设定组名
   \   000085                ; Setup parameters for call to function osal_memcpy
   \   000085   75....       MOV     ?V0 + 0,#`?<Constant "Group 1">` & 0xff
   \   000088   75....       MOV     ?V0 + 1,#(`?<Constant "Group 1">` >> 8) & 0xff
   \   00008B   75..00       MOV     ?V0 + 2,#0x0
   \   00008E   78..         MOV     R0,#?V0 + 0
   \   000090   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000093   7C07         MOV     R4,#0x7
   \   000095   7D00         MOV     R5,#0x0
   \   000097   7A..         MOV     R2,#(SampleApp_Group + 2) & 0xff
   \   000099   7B..         MOV     R3,#((SampleApp_Group + 2) >> 8) & 0xff
   \   00009B   12....       LCALL   ??osal_memcpy?relay
   \   00009E   7403         MOV     A,#0x3
   \   0000A0   12....       LCALL   ?DEALLOC_XSTACK8
    220            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );//把该组登记添加到APS中
   \   0000A3                ; Setup parameters for call to function aps_AddGroup
   \   0000A3   7A..         MOV     R2,#SampleApp_Group & 0xff
   \   0000A5   7B..         MOV     R3,#(SampleApp_Group >> 8) & 0xff
   \   0000A7   790B         MOV     R1,#0xb
   \   0000A9   12....       LCALL   ??aps_AddGroup?relay
   \   0000AC   E9           MOV     A,R1
    221            
    222          #if defined ( LCD_SUPPORTED )
    223            HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 ); //如果支持LCD，显示提示信息
   \   0000AD                ; Setup parameters for call to function HalLcdWriteString
   \   0000AD   7901         MOV     R1,#0x1
   \   0000AF   7A..         MOV     R2,#`?<Constant "SampleApp">` & 0xff
   \   0000B1   7B..         MOV     R3,#(`?<Constant "SampleApp">` >> 8) & 0xff
   \   0000B3   12....       LCALL   ??HalLcdWriteString?relay
    224          #endif
    225            
    226            NwkAddr = NLME_GetShortAddr();//maybe unused
   \   0000B6                ; Setup parameters for call to function NLME_GetShortAddr
   \   0000B6   12....       LCALL   ??NLME_GetShortAddr?relay
   \   0000B9   90....       MOV     DPTR,#NwkAddr
   \   0000BC   EA           MOV     A,R2
   \   0000BD   F0           MOVX    @DPTR,A
   \   0000BE   A3           INC     DPTR
   \   0000BF   EB           MOV     A,R3
   \   0000C0   F0           MOVX    @DPTR,A
    227            memcpy(MacAddr,NLME_GetExtAddr(),8);//maybe unused
   \   0000C1                ; Setup parameters for call to function memcpy
   \   0000C1   75..08       MOV     ?V0 + 0,#0x8
   \   0000C4   75..00       MOV     ?V0 + 1,#0x0
   \   0000C7   78..         MOV     R0,#?V0 + 0
   \   0000C9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CC                ; Setup parameters for call to function NLME_GetExtAddr
   \   0000CC   12....       LCALL   ??NLME_GetExtAddr?relay
   \   0000CF   EA           MOV     A,R2
   \   0000D0   FC           MOV     R4,A
   \   0000D1   EB           MOV     A,R3
   \   0000D2   FD           MOV     R5,A
   \   0000D3   7A..         MOV     R2,#MacAddr & 0xff
   \   0000D5   7B..         MOV     R3,#(MacAddr >> 8) & 0xff
   \   0000D7   12....       LCALL   ??memcpy?relay
   \   0000DA   7402         MOV     A,#0x2
   \   0000DC   12....       LCALL   ?DEALLOC_XSTACK8
    228            
    229          }
   \   0000DF   7F03         MOV     R7,#0x3
   \   0000E1   02....       LJMP    ?BANKED_LEAVE_XDATA
    230          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    231          void SampleApp_HandleKeys( uint8 shift, uint8 keys )
   \                     SampleApp_HandleKeys:
    232          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
   \   000007   EA           MOV     A,R2
   \   000008   FF           MOV     R7,A
    233            (void)shift;  // Intentionally unreferenced parameter
    234            
    235          #if defined(ZDO_COORDINATOR)
    236            
    237            if ( keys & HAL_KEY_SW_6 )//key1
   \   000009   EF           MOV     A,R7
   \   00000A   A2E5         MOV     C,0xE0 /* A   */.5
   \   00000C   502A         JNC     ??SampleApp_HandleKeys_0
    238            {
    239              SampleApp_SendPointToPointMessage(DevicesShortAddr[2],0x1002,"1002 msg",16);
   \   00000E                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   00000E   75..10       MOV     ?V0 + 0,#0x10
   \   000011   75..00       MOV     ?V0 + 1,#0x0
   \   000014   78..         MOV     R0,#?V0 + 0
   \   000016   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000019   75....       MOV     ?V0 + 0,#`?<Constant "1002 msg">` & 0xff
   \   00001C   75....       MOV     ?V0 + 1,#(`?<Constant "1002 msg">` >> 8) & 0xff
   \   00001F   78..         MOV     R0,#?V0 + 0
   \   000021   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000024   7C02         MOV     R4,#0x2
   \   000026   7D10         MOV     R5,#0x10
   \   000028   90....       MOV     DPTR,#DevicesShortAddr + 4
   \   00002B   E0           MOVX    A,@DPTR
   \   00002C   FA           MOV     R2,A
   \   00002D   A3           INC     DPTR
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   FB           MOV     R3,A
   \   000030   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   000033   7404         MOV     A,#0x4
   \   000035   12....       LCALL   ?DEALLOC_XSTACK8
    240          //    const signed char *g_mqtt_topics[] = {"mqtt_topic_test1"};
    241          //    if(0 == mqtt_subscribe_topic(g_mqtt_topics, 1))
    242          //    {
    243          //      
    244          //    }
    245            }
    246            
    247            if ( keys & HAL_KEY_SW_1 )//key2
   \                     ??SampleApp_HandleKeys_0:
   \   000038   EF           MOV     A,R7
   \   000039   A2E0         MOV     C,0xE0 /* A   */.0
   \   00003B   5048         JNC     ??SampleApp_HandleKeys_1
    248            {
    249              SampleApp_SendPointToPointMessage(DevicesShortAddr[2],0x1004,"1004 msg",70);
   \   00003D                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   00003D   75..46       MOV     ?V0 + 0,#0x46
   \   000040   75..00       MOV     ?V0 + 1,#0x0
   \   000043   78..         MOV     R0,#?V0 + 0
   \   000045   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000048   75....       MOV     ?V0 + 0,#`?<Constant "1004 msg">` & 0xff
   \   00004B   75....       MOV     ?V0 + 1,#(`?<Constant "1004 msg">` >> 8) & 0xff
   \   00004E   78..         MOV     R0,#?V0 + 0
   \   000050   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000053   7C04         MOV     R4,#0x4
   \   000055   7D10         MOV     R5,#0x10
   \   000057   90....       MOV     DPTR,#DevicesShortAddr + 4
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   FA           MOV     R2,A
   \   00005C   A3           INC     DPTR
   \   00005D   E0           MOVX    A,@DPTR
   \   00005E   FB           MOV     R3,A
   \   00005F   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   000062   7404         MOV     A,#0x4
   \   000064   12....       LCALL   ?DEALLOC_XSTACK8
    250          //    if(0==SampleApp_SendPointToPointMessage(DevicesShortAddr[2],0x1004,MqttRecMsg,strlen(MqttRecMsg)))
    251          //    {
    252          //      memset(MqttRecMsg,0,sizeof(MqttRecMsg));
    253          //    }
    254              if(onenet_login_ok==2)
   \   000067   90....       MOV     DPTR,#onenet_login_ok
   \   00006A   E0           MOVX    A,@DPTR
   \   00006B   6402         XRL     A,#0x2
   \   00006D   7016         JNZ     ??SampleApp_HandleKeys_1
    255              {
    256                //发送温湿度数据到onenet
    257                //    OneNet_SendData(end_temp, end_hum);
    258                
    259                sprintf(mqtt_message,
                               ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
    260                        "{\"method\":\"thing.service.property.set\",\"id\":\"630262306\",\"params\":{\
    261                          \"code\":2,\
    262              },\"version\":\"1.0.0\"}"
    263                );
   \   00006F                ; Setup parameters for call to function sprintf
   \   00006F   7C..         MOV     R4,#`?<Constant "{\\"method\\":\\"thing.serv...">` & 0xff
   \   000071   7D..         MOV     R5,#(`?<Constant "{\\"method\\":\\"thing.serv...">` >> 8) & 0xff
   \   000073   7A..         MOV     R2,#mqtt_message & 0xff
   \   000075   7B..         MOV     R3,#(mqtt_message >> 8) & 0xff
   \   000077   12....       LCALL   ??sprintf?relay
    264                //HalLcdWriteString("111", HAL_LCD_LINE_1); //LCD显示
    265                //发布主题
    266                mqtt_publish_topic(topics_post, mqtt_message);
                                          ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

        mqtt_publish_topic(topics_post, mqtt_message);
                                        ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",266  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"
   \   00007A                ; Setup parameters for call to function mqtt_publish_topic
   \   00007A   7C..         MOV     R4,#mqtt_message & 0xff
   \   00007C   7D..         MOV     R5,#(mqtt_message >> 8) & 0xff
   \   00007E   7A..         MOV     R2,#topics_post & 0xff
   \   000080   7B..         MOV     R3,#(topics_post >> 8) & 0xff
   \   000082   12....       LCALL   ??mqtt_publish_topic?relay
    267                
    268                //  OneNet_publish_topic();
    269              }
    270            }
    271            
    272          #else
    273            if ( keys & HAL_KEY_SW_6 )//key1
    274            {
    275              
    276              
    277              SampleApp_SendPointToPointMessage(0x0000,0x1001,"1001 msg",16);
    278              //P0_5 = 1;
    279              //HalLcdWriteString("P0_5 = 1", HAL_LCD_LINE_3);
    280            }
    281            
    282            if ( keys & HAL_KEY_SW_1 )//key2
    283            {
    284              
    285              SampleApp_SendPointToPointMessage(0x0000,0x1002,"1002 msg",16);
    286              //P0_5 = 0;
    287              //HalLcdWriteString("P0_5 = 0", HAL_LCD_LINE_3);
    288            }
    289            
    290          #endif
    291          }
   \                     ??SampleApp_HandleKeys_1:
   \   000085   7F02         MOV     R7,#0x2
   \   000087   02....       LJMP    ?BANKED_LEAVE_XDATA
    292          
    293          
    294          /*********************************************************************
    295          * @fn      SampleApp_ProcessEvent
    296          *
    297          * @brief   Generic Application Task event processor.
    298          *
    299          * @param   task_id  - The OSAL assigned task ID.
    300          * @param   events   - Bit map of events to process.
    301          *
    302          * @return  Event flags of all unprocessed events.
    303          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    304          UINT16 SampleApp_ProcessEvent( uint8 task_id, UINT16 events )
   \                     SampleApp_ProcessEvent:
    305          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 107
   \   000005   7495         MOV     A,#-0x6b
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   89..         MOV     ?V0 + 2,R1
   \   00000C   EA           MOV     A,R2
   \   00000D   FE           MOV     R6,A
   \   00000E   EB           MOV     A,R3
   \   00000F   FF           MOV     R7,A
    306            (void)task_id;  // Intentionally unreferenced parameter
    307            
    308            if ( events & SYS_EVENT_MSG )
   \   000010   EE           MOV     A,R6
   \   000011   5400         ANL     A,#0x0
   \   000013   F8           MOV     R0,A
   \   000014   EF           MOV     A,R7
   \   000015   5480         ANL     A,#0x80
   \   000017   F9           MOV     R1,A
   \   000018   E8           MOV     A,R0
   \   000019   49           ORL     A,R1
   \   00001A   7003         JNZ     $+5
   \   00001C   02....       LJMP    ??SampleApp_ProcessEvent_0 & 0xFFFF
    309            {
    310              afIncomingMSGPacket_t *MSGpkt;
    311              
    312              while ( (MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID )) )
   \                     ??SampleApp_ProcessEvent_1:
   \   00001F                ; Setup parameters for call to function osal_msg_receive
   \   00001F   90....       MOV     DPTR,#SampleApp_TaskID
   \   000022   E0           MOVX    A,@DPTR
   \   000023   F9           MOV     R1,A
   \   000024   12....       LCALL   ??osal_msg_receive?relay
   \   000027   8A..         MOV     ?V0 + 4,R2
   \   000029   8B..         MOV     ?V0 + 5,R3
   \   00002B   A8..         MOV     R0,?V0 + 4
   \   00002D   A9..         MOV     R1,?V0 + 5
   \   00002F   88..         MOV     ?V0 + 0,R0
   \   000031   89..         MOV     ?V0 + 1,R1
   \   000033   E8           MOV     A,R0
   \   000034   49           ORL     A,R1
   \   000035   7003         JNZ     $+5
   \   000037   02....       LJMP    ??SampleApp_ProcessEvent_2 & 0xFFFF
    313              {
    314                switch ( MSGpkt->hdr.event )
   \   00003A   85..82       MOV     DPL,?V0 + 0
   \   00003D   85..83       MOV     DPH,?V0 + 1
   \   000040   E0           MOVX    A,@DPTR
   \   000041   24E6         ADD     A,#-0x1a
   \   000043   6026         JZ      ??SampleApp_ProcessEvent_3
   \   000045   245A         ADD     A,#0x5a
   \   000047   6007         JZ      ??SampleApp_ProcessEvent_4
   \   000049   24EF         ADD     A,#-0x11
   \   00004B   6028         JZ      ??SampleApp_ProcessEvent_5
   \   00004D   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
    315                {
    316                case KEY_CHANGE:
    317                  SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
   \                     ??SampleApp_ProcessEvent_4:
   \   000050                ; Setup parameters for call to function SampleApp_HandleKeys
   \   000050   85..82       MOV     DPL,?V0 + 0
   \   000053   85..83       MOV     DPH,?V0 + 1
   \   000056   A3           INC     DPTR
   \   000057   A3           INC     DPTR
   \   000058   A3           INC     DPTR
   \   000059   E0           MOVX    A,@DPTR
   \   00005A   FA           MOV     R2,A
   \   00005B   85..82       MOV     DPL,?V0 + 0
   \   00005E   85..83       MOV     DPH,?V0 + 1
   \   000061   A3           INC     DPTR
   \   000062   A3           INC     DPTR
   \   000063   E0           MOVX    A,@DPTR
   \   000064   F9           MOV     R1,A
   \   000065   12....       LCALL   ??SampleApp_HandleKeys?relay
    318                  break;
   \   000068   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
    319                  
    320                case AF_INCOMING_MSG_CMD:
    321                  SampleApp_ProcessMSGCmd( MSGpkt );
   \                     ??SampleApp_ProcessEvent_3:
   \   00006B                ; Setup parameters for call to function SampleApp_ProcessMSGCmd
   \   00006B   AA..         MOV     R2,?V0 + 0
   \   00006D   AB..         MOV     R3,?V0 + 1
   \   00006F   12....       LCALL   ??SampleApp_ProcessMSGCmd?relay
    322                  break;
   \   000072   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
    323                  
    324                case ZDO_STATE_CHANGE:
    325                  {
    326                    
    327                    /////////////////////////////////////
    328                  #ifdef ZDO_COORDINATOR
    329                    SampleApp_NwkState = (zdoStatus_t)(MSGpkt->hdr.status);
                                              ^
Warning[Pe188]: enumerated type mixed with another type
   \                     ??SampleApp_ProcessEvent_5:
   \   000075   85..82       MOV     DPL,?V0 + 0
   \   000078   85..83       MOV     DPH,?V0 + 1
   \   00007B   A3           INC     DPTR
   \   00007C   E0           MOVX    A,@DPTR
   \   00007D   90....       MOV     DPTR,#SampleApp_NwkState
   \   000080   F0           MOVX    @DPTR,A
    330                  #else
    331                    SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
    332                  #endif
    333                   ////////////////////////////////////////// 
    334                    if ( (SampleApp_NwkState == DEV_ROUTER) || (SampleApp_NwkState == DEV_END_DEVICE) )
   \   000081   90....       MOV     DPTR,#SampleApp_NwkState
   \   000084   E0           MOVX    A,@DPTR
   \   000085   6407         XRL     A,#0x7
   \   000087   6008         JZ      ??SampleApp_ProcessEvent_7
   \   000089   90....       MOV     DPTR,#SampleApp_NwkState
   \   00008C   E0           MOVX    A,@DPTR
   \   00008D   6406         XRL     A,#0x6
   \   00008F   7058         JNZ     ??SampleApp_ProcessEvent_8
    335                    {
    336                      // Start sending the periodic message in a regular interval.
    337                      //这个定时器只是为发送周期信息开启的，设备启动初始化后从这里开始
    338                      //触发第一个周期信息的发送，然后周而复始下去
    339                      if(SampleApp_NwkState == DEV_END_DEVICE)//如果本机作为终端设备接入，尝试向协调器发送本机IEEE,但协调器如何判断接收到的数据是终端的IEEE呢？
   \                     ??SampleApp_ProcessEvent_7:
   \   000091   90....       MOV     DPTR,#SampleApp_NwkState
   \   000094   E0           MOVX    A,@DPTR
   \   000095   6406         XRL     A,#0x6
   \   000097   7061         JNZ     ??SampleApp_ProcessEvent_9
    340                      {                                       //考虑数据包前4位设置为识别码，接受方通过识别码判断信息类型
    341                        HalLcdWriteString("get coord", HAL_LCD_LINE_1); //LCD显示
   \   000099                ; Setup parameters for call to function HalLcdWriteString
   \   000099   7901         MOV     R1,#0x1
   \   00009B   7A..         MOV     R2,#`?<Constant "get coord">` & 0xff
   \   00009D   7B..         MOV     R3,#(`?<Constant "get coord">` >> 8) & 0xff
   \   00009F   12....       LCALL   ??HalLcdWriteString?relay
    342                        uint8 IEEEAdr[Z_EXTADDR_LEN*2+1];
    343                        SampleApp_getIEEEAddr(IEEEAdr);
   \   0000A2                ; Setup parameters for call to function SampleApp_getIEEEAddr
   \   0000A2   7432         MOV     A,#0x32
   \   0000A4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A7   AA82         MOV     R2,DPL
   \   0000A9   AB83         MOV     R3,DPH
   \   0000AB   12....       LCALL   ??SampleApp_getIEEEAddr?relay
    344                        HalLcdWriteString(IEEEAdr, HAL_LCD_LINE_3); //LCD显示
                                                 ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   0000AE                ; Setup parameters for call to function HalLcdWriteString
   \   0000AE   7903         MOV     R1,#0x3
   \   0000B0   7432         MOV     A,#0x32
   \   0000B2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B5   AA82         MOV     R2,DPL
   \   0000B7   AB83         MOV     R3,DPH
   \   0000B9   12....       LCALL   ??HalLcdWriteString?relay
    345                        SampleApp_SendPointToPointMessage(0x0000,0x1003,IEEEAdr,16);//0x1003代表终端接入时发送的IEEE事件
   \   0000BC                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   0000BC   75..10       MOV     ?V0 + 4,#0x10
   \   0000BF   75..00       MOV     ?V0 + 5,#0x0
   \   0000C2   78..         MOV     R0,#?V0 + 4
   \   0000C4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C7   7434         MOV     A,#0x34
   \   0000C9   12....       LCALL   ?XSTACK_DISP0_8
   \   0000CC   8582..       MOV     ?V0 + 4,DPL
   \   0000CF   8583..       MOV     ?V0 + 5,DPH
   \   0000D2   78..         MOV     R0,#?V0 + 4
   \   0000D4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D7   7C03         MOV     R4,#0x3
   \   0000D9   7D10         MOV     R5,#0x10
   \   0000DB   7A00         MOV     R2,#0x0
   \   0000DD   7B00         MOV     R3,#0x0
   \   0000DF   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   0000E2   7404         MOV     A,#0x4
   \   0000E4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000E7   8011         SJMP    ??SampleApp_ProcessEvent_9
    346                      } 
    347                    }else if(SampleApp_NwkState == DEV_NWK_ORPHAN)
   \                     ??SampleApp_ProcessEvent_8:
   \   0000E9   90....       MOV     DPTR,#SampleApp_NwkState
   \   0000EC   E0           MOVX    A,@DPTR
   \   0000ED   640A         XRL     A,#0xa
   \   0000EF   7009         JNZ     ??SampleApp_ProcessEvent_9
    348                    {
    349                      HalLcdWriteString("lost coord", HAL_LCD_LINE_1); //LCD显示
   \   0000F1                ; Setup parameters for call to function HalLcdWriteString
   \   0000F1   7901         MOV     R1,#0x1
   \   0000F3   7A..         MOV     R2,#`?<Constant "lost coord">` & 0xff
   \   0000F5   7B..         MOV     R3,#(`?<Constant "lost coord">` >> 8) & 0xff
   \   0000F7   12....       LCALL   ??HalLcdWriteString?relay
    350                    }
    351                    //该处需增加终端离线时触发的事件，尚未查询到如何添加
    352                    osal_start_timerEx( SampleApp_TaskID,
    353                                       SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    354                                       SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
   \                     ??SampleApp_ProcessEvent_9:
   \   0000FA                ; Setup parameters for call to function osal_start_timerEx
   \   0000FA   7CB8         MOV     R4,#-0x48
   \   0000FC   7D0B         MOV     R5,#0xb
   \   0000FE   7A01         MOV     R2,#0x1
   \   000100   7B00         MOV     R3,#0x0
   \   000102   90....       MOV     DPTR,#SampleApp_TaskID
   \   000105   E0           MOVX    A,@DPTR
   \   000106   F9           MOV     R1,A
   \   000107   12....       LCALL   ??osal_start_timerEx?relay
   \   00010A   E9           MOV     A,R1
    355                ///////////////////////////////////////////    
    356                  #ifdef ZDO_COORDINATOR
    357                    if(!flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT)
   \   00010B   90....       MOV     DPTR,#flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT
   \   00010E   E0           MOVX    A,@DPTR
   \   00010F   7017         JNZ     ??SampleApp_ProcessEvent_6
    358                    {          
    359                      osal_start_timerEx( SampleApp_TaskID,SAMPLEAPP_COOR_CHECK_DEV_EVT,1000);    //2后检测设备在线状态 
   \   000111                ; Setup parameters for call to function osal_start_timerEx
   \   000111   7CE8         MOV     R4,#-0x18
   \   000113   7D03         MOV     R5,#0x3
   \   000115   7A10         MOV     R2,#0x10
   \   000117   7B00         MOV     R3,#0x0
   \   000119   90....       MOV     DPTR,#SampleApp_TaskID
   \   00011C   E0           MOVX    A,@DPTR
   \   00011D   F9           MOV     R1,A
   \   00011E   12....       LCALL   ??osal_start_timerEx?relay
   \   000121   E9           MOV     A,R1
    360                      flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT = true;
   \   000122   90....       MOV     DPTR,#flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT
   \   000125   7401         MOV     A,#0x1
   \   000127   F0           MOVX    @DPTR,A
    361                    }
    362                  #else
    363                    if(!flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT)
    364                    {  
    365                      osal_start_timerEx( SampleApp_TaskID,SAMPLEAPP_ENDDEV_HEART_BEAT_EVT,2000);    //2s后发送一次心跳包到协调器 
    366                      flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT = true;
    367                    }
    368                  #endif
    369                 //////////////////////////////////////   
    370                    //        }
    371                    //        else if(SampleApp_NwkState == DEV_ZB_COORD)
    372                    //        {
    373                    //          osal_start_timerEx( SampleApp_TaskID,
    374                    //                             SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    375                    //                             SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
    376                    //        }
    377                  }break;
    378                  
    379                default:
    380                  break;
    381                }
    382                
    383                // Release the memory 事件处理完了，释放消息占用的内存
    384                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??SampleApp_ProcessEvent_6:
   \   000128                ; Setup parameters for call to function osal_msg_deallocate
   \   000128   AA..         MOV     R2,?V0 + 0
   \   00012A   AB..         MOV     R3,?V0 + 1
   \   00012C   12....       LCALL   ??osal_msg_deallocate?relay
   \   00012F   E9           MOV     A,R1
    385                // Next - if one is available 指针指向下一个放在缓冲区的待处理的事件，
    386                //返回while ( MSGpkt )重新处理事件，直到缓冲区没有等待处理事件为止
    387                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   000130                ; Setup parameters for call to function osal_msg_receive
   \   000130   90....       MOV     DPTR,#SampleApp_TaskID
   \   000133   E0           MOVX    A,@DPTR
   \   000134   F9           MOV     R1,A
   \   000135   12....       LCALL   ??osal_msg_receive?relay
   \   000138   8A..         MOV     ?V0 + 4,R2
   \   00013A   8B..         MOV     ?V0 + 5,R3
   \   00013C   85....       MOV     ?V0 + 0,?V0 + 4
   \   00013F   85....       MOV     ?V0 + 1,?V0 + 5
   \   000142   02....       LJMP    ??SampleApp_ProcessEvent_1 & 0xFFFF
    388              }
    389              
    390              return ( events ^ SYS_EVENT_MSG );
   \                     ??SampleApp_ProcessEvent_2:
   \   000145   EE           MOV     A,R6
   \   000146   6400         XRL     A,#0x0
   \   000148   FA           MOV     R2,A
   \   000149   EF           MOV     A,R7
   \   00014A   6480         XRL     A,#0x80
   \   00014C   FB           MOV     R3,A
   \   00014D   02....       LJMP    ??SampleApp_ProcessEvent_10 & 0xFFFF
    391            }
    392            
    393          #ifdef ZDO_COORDINATOR
    394            
    395            //定时器时间到
    396            if ( events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT )
   \                     ??SampleApp_ProcessEvent_0:
   \   000150   EE           MOV     A,R6
   \   000151   A2E0         MOV     C,0xE0 /* A   */.0
   \   000153   5059         JNC     ??SampleApp_ProcessEvent_11
    397            {
    398              //osal_start_timerEx( SampleApp_TaskID,SAMPLEAPP_COOR_CHECK_DEV_EVT,2000);    //2后检测设备在线状态 
    399              if(onenet_login_ok==2)
   \   000155   90....       MOV     DPTR,#onenet_login_ok
   \   000158   E0           MOVX    A,@DPTR
   \   000159   6402         XRL     A,#0x2
   \   00015B   7015         JNZ     ??SampleApp_ProcessEvent_12
    400              {
    401                //如果接入onenet成功，启动心跳和发送数据定A器
    402                
    403                P1_1=0;//点亮D2
   \   00015D   C291         CLR     0x90.1
    404                
    405                
    406                // 启动心跳定时器，15秒一次
    407                osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ONENET_HEART_BEAT_EVT,15000 );
   \   00015F                ; Setup parameters for call to function osal_start_timerEx
   \   00015F   7C98         MOV     R4,#-0x68
   \   000161   7D3A         MOV     R5,#0x3a
   \   000163   7A02         MOV     R2,#0x2
   \   000165   7B00         MOV     R3,#0x0
   \   000167   90....       MOV     DPTR,#SampleApp_TaskID
   \   00016A   E0           MOVX    A,@DPTR
   \   00016B   F9           MOV     R1,A
   \   00016C   12....       LCALL   ??osal_start_timerEx?relay
   \   00016F   E9           MOV     A,R1
   \   000170   8031         SJMP    ??SampleApp_ProcessEvent_13
    408                
    409                // 启动发送数据定时器，5秒一次
    410                //osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ONENET_SEND_DATA_EVT,5000 );
    411              }
    412              else
    413              {
    414                onenet_login_ok=1;//onenet注册成功 0:未注册，1：注册中　2：注册成功
   \                     ??SampleApp_ProcessEvent_12:
   \   000172   90....       MOV     DPTR,#onenet_login_ok
   \   000175   7401         MOV     A,#0x1
   \   000177   F0           MOVX    @DPTR,A
    415                SampleApp_RxLen=0;
   \   000178   90....       MOV     DPTR,#SampleApp_RxLen
   \   00017B   7400         MOV     A,#0x0
   \   00017D   F0           MOVX    @DPTR,A
   \   00017E   A3           INC     DPTR
   \   00017F   7400         MOV     A,#0x0
   \   000181   F0           MOVX    @DPTR,A
    416                
    417                //如果没有接入onenet成功，重新发起接入
    418                OneNet_DevLink();//接入onenet服务器
   \   000182                ; Setup parameters for call to function OneNet_DevLink
   \   000182   12....       LCALL   ??OneNet_DevLink?relay
    419                
    420                //LED2闪，表示正在接入onenet
    421                HalLedBlink (HAL_LED_2, 5, 50, 500);
   \   000185                ; Setup parameters for call to function HalLedBlink
   \   000185   7CF4         MOV     R4,#-0xc
   \   000187   7D01         MOV     R5,#0x1
   \   000189   7B32         MOV     R3,#0x32
   \   00018B   7A05         MOV     R2,#0x5
   \   00018D   7902         MOV     R1,#0x2
   \   00018F   12....       LCALL   ??HalLedBlink?relay
    422                
    423                // 每5秒尝试接入一次
    424                osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,5000 );
   \   000192                ; Setup parameters for call to function osal_start_timerEx
   \   000192   7C88         MOV     R4,#-0x78
   \   000194   7D13         MOV     R5,#0x13
   \   000196   7A01         MOV     R2,#0x1
   \   000198   7B00         MOV     R3,#0x0
   \   00019A   90....       MOV     DPTR,#SampleApp_TaskID
   \   00019D   E0           MOVX    A,@DPTR
   \   00019E   F9           MOV     R1,A
   \   00019F   12....       LCALL   ??osal_start_timerEx?relay
   \   0001A2   E9           MOV     A,R1
    425              }
    426              
    427              
    428              // return unprocessed events
    429              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
   \                     ??SampleApp_ProcessEvent_13:
   \   0001A3   EE           MOV     A,R6
   \   0001A4   6401         XRL     A,#0x1
   \   0001A6   FA           MOV     R2,A
   \   0001A7   EF           MOV     A,R7
   \   0001A8   6400         XRL     A,#0x0
   \   0001AA   FB           MOV     R3,A
   \   0001AB   02....       LJMP    ??SampleApp_ProcessEvent_10 & 0xFFFF
    430            }
    431            
    432            
    433            //心跳定时器时间到
    434            if ( events & SAMPLEAPP_ONENET_HEART_BEAT_EVT )
   \                     ??SampleApp_ProcessEvent_11:
   \   0001AE   EE           MOV     A,R6
   \   0001AF   5402         ANL     A,#0x2
   \   0001B1   6027         JZ      ??SampleApp_ProcessEvent_14
    435            {
    436              if(onenet_login_ok==2)
   \   0001B3   90....       MOV     DPTR,#onenet_login_ok
   \   0001B6   E0           MOVX    A,@DPTR
   \   0001B7   6402         XRL     A,#0x2
   \   0001B9   7003         JNZ     ??SampleApp_ProcessEvent_15
    437              {
    438                //发送心跳
    439                onenet_mqtt_send_heart();
   \   0001BB                ; Setup parameters for call to function onenet_mqtt_send_heart
   \   0001BB   12....       LCALL   ??onenet_mqtt_send_heart?relay
    440              }
    441              
    442              // 启动心跳定时器，15秒一次
    443              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ONENET_HEART_BEAT_EVT,15000 );
   \                     ??SampleApp_ProcessEvent_15:
   \   0001BE                ; Setup parameters for call to function osal_start_timerEx
   \   0001BE   7C98         MOV     R4,#-0x68
   \   0001C0   7D3A         MOV     R5,#0x3a
   \   0001C2   7A02         MOV     R2,#0x2
   \   0001C4   7B00         MOV     R3,#0x0
   \   0001C6   90....       MOV     DPTR,#SampleApp_TaskID
   \   0001C9   E0           MOVX    A,@DPTR
   \   0001CA   F9           MOV     R1,A
   \   0001CB   12....       LCALL   ??osal_start_timerEx?relay
   \   0001CE   E9           MOV     A,R1
    444              
    445              
    446              // return unprocessed events
    447              return (events ^ SAMPLEAPP_ONENET_HEART_BEAT_EVT);
   \   0001CF   EE           MOV     A,R6
   \   0001D0   6402         XRL     A,#0x2
   \   0001D2   FA           MOV     R2,A
   \   0001D3   EF           MOV     A,R7
   \   0001D4   6400         XRL     A,#0x0
   \   0001D6   FB           MOV     R3,A
   \   0001D7   02....       LJMP    ??SampleApp_ProcessEvent_10 & 0xFFFF
    448            }
    449            
    450            
    451            //发送数据定时器时间到
    452            if ( events & SAMPLEAPP_ONENET_SEND_DATA_EVT )
   \                     ??SampleApp_ProcessEvent_14:
   \   0001DA   EE           MOV     A,R6
   \   0001DB   5404         ANL     A,#0x4
   \   0001DD   6035         JZ      ??SampleApp_ProcessEvent_16
    453            {
    454              if(onenet_login_ok==2)
   \   0001DF   90....       MOV     DPTR,#onenet_login_ok
   \   0001E2   E0           MOVX    A,@DPTR
   \   0001E3   6402         XRL     A,#0x2
   \   0001E5   7022         JNZ     ??SampleApp_ProcessEvent_17
    455              {
    456                //发送温湿度数据到onenet
    457                //    OneNet_SendData(end_temp, end_hum);
    458                
    459                sprintf(mqtt_message,"{\"flow\":201,\
                               ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
    460                    \"msg\":{\
    461                          \"dev1\":%d,\
    462                            \"dev2\":%d,\
    463                              \"dev3\":%d,\
    464              }}",
    465              devicesOnlineStatus[0],
    466              devicesOnlineStatus[1],
    467              devicesOnlineStatus[2]
    468                );      //该位置数据包应更改为终端数据汇总，汇总后综合发送至mqtt。
   \   0001E7                ; Setup parameters for call to function sprintf
   \   0001E7   90....       MOV     DPTR,#devicesOnlineStatus + 4
   \   0001EA   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0001ED   90....       MOV     DPTR,#devicesOnlineStatus + 2
   \   0001F0   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0001F3   90....       MOV     DPTR,#devicesOnlineStatus
   \   0001F6   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0001F9   7C..         MOV     R4,#`?<Constant "{\\"flow\\":201,         ...">` & 0xff
   \   0001FB   7D..         MOV     R5,#(`?<Constant "{\\"flow\\":201,         ...">` >> 8) & 0xff
   \   0001FD   7A..         MOV     R2,#mqtt_message & 0xff
   \   0001FF   7B..         MOV     R3,#(mqtt_message >> 8) & 0xff
   \   000201   12....       LCALL   ??sprintf?relay
   \   000204   7406         MOV     A,#0x6
   \   000206   12....       LCALL   ?DEALLOC_XSTACK8
    469                
    470                //发布主题
    471                //mqtt_publish_topic(topics_post, mqtt_message);
    472                
    473                //  OneNet_publish_topic();
    474              }
    475              
    476              // 启动发送数据定时器，5秒一次发送终端数据汇总
    477              //osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ONENET_SEND_DATA_EVT,5000 );
    478              
    479              
    480              // return unprocessed events
    481              return (events ^ SAMPLEAPP_ONENET_SEND_DATA_EVT);
   \                     ??SampleApp_ProcessEvent_17:
   \   000209   EE           MOV     A,R6
   \   00020A   6404         XRL     A,#0x4
   \   00020C   FA           MOV     R2,A
   \   00020D   EF           MOV     A,R7
   \   00020E   6400         XRL     A,#0x0
   \   000210   FB           MOV     R3,A
   \   000211   02....       LJMP    ??SampleApp_ProcessEvent_10 & 0xFFFF
    482            }
    483            if ( events & SAMPLEAPP_COOR_CHECK_DEV_EVT )//协调器定时检查设备在线状态
   \                     ??SampleApp_ProcessEvent_16:
   \   000214   EE           MOV     A,R6
   \   000215   5410         ANL     A,#0x10
   \   000217   7003         JNZ     $+5
   \   000219   02....       LJMP    ??SampleApp_ProcessEvent_18 & 0xFFFF
    484            {
    485              uint8 buff[40]={0};
   \   00021C   90....       MOV     DPTR,#`?<Constant {0}>`
   \   00021F   C082         PUSH    DPL
   \   000221   C083         PUSH    DPH
   \   000223   7443         MOV     A,#0x43
   \   000225   12....       LCALL   ?XSTACK_DISP0_8
   \   000228   AC82         MOV     R4,DPL
   \   00022A   AD83         MOV     R5,DPH
   \   00022C   D083         POP     DPH
   \   00022E   D082         POP     DPL
   \   000230   7428         MOV     A,#0x28
   \   000232   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    486              
    487              for(int i=0;i<sizeof(devicesOnline)/sizeof(devicesOnline[0]);i++)
   \   000235   75..00       MOV     ?V0 + 0,#0x0
   \   000238   75..00       MOV     ?V0 + 1,#0x0
   \                     ??SampleApp_ProcessEvent_19:
   \   00023B   C3           CLR     C
   \   00023C   E5..         MOV     A,?V0 + 0
   \   00023E   9404         SUBB    A,#0x4
   \   000240   E5..         MOV     A,?V0 + 1
   \   000242   9400         SUBB    A,#0x0
   \   000244   4003         JC      $+5
   \   000246   02....       LJMP    ??SampleApp_ProcessEvent_20 & 0xFFFF
    488              {
    489                devicesOnlineStatus[i] = devicesOnline[i];
   \   000249   A8..         MOV     R0,?V0 + 0
   \   00024B   A9..         MOV     R1,?V0 + 1
   \   00024D   E8           MOV     A,R0
   \   00024E   75F002       MOV     B,#0x2
   \   000251   A4           MUL     AB
   \   000252   C8           XCH     A,R0
   \   000253   AAF0         MOV     R2,B
   \   000255   75F000       MOV     B,#0x0
   \   000258   A4           MUL     AB
   \   000259   2A           ADD     A,R2
   \   00025A   FA           MOV     R2,A
   \   00025B   75F002       MOV     B,#0x2
   \   00025E   E5..         MOV     A,?V0 + 1
   \   000260   A4           MUL     AB
   \   000261   2A           ADD     A,R2
   \   000262   F9           MOV     R1,A
   \   000263   74..         MOV     A,#devicesOnline & 0xff
   \   000265   28           ADD     A,R0
   \   000266   F582         MOV     DPL,A
   \   000268   74..         MOV     A,#(devicesOnline >> 8) & 0xff
   \   00026A   39           ADDC    A,R1
   \   00026B   F583         MOV     DPH,A
   \   00026D   E0           MOVX    A,@DPTR
   \   00026E   FA           MOV     R2,A
   \   00026F   A3           INC     DPTR
   \   000270   E0           MOVX    A,@DPTR
   \   000271   FB           MOV     R3,A
   \   000272   A8..         MOV     R0,?V0 + 0
   \   000274   A9..         MOV     R1,?V0 + 1
   \   000276   E8           MOV     A,R0
   \   000277   75F002       MOV     B,#0x2
   \   00027A   A4           MUL     AB
   \   00027B   C8           XCH     A,R0
   \   00027C   ACF0         MOV     R4,B
   \   00027E   75F000       MOV     B,#0x0
   \   000281   A4           MUL     AB
   \   000282   2C           ADD     A,R4
   \   000283   FC           MOV     R4,A
   \   000284   75F002       MOV     B,#0x2
   \   000287   E5..         MOV     A,?V0 + 1
   \   000289   A4           MUL     AB
   \   00028A   2C           ADD     A,R4
   \   00028B   F9           MOV     R1,A
   \   00028C   74..         MOV     A,#devicesOnlineStatus & 0xff
   \   00028E   28           ADD     A,R0
   \   00028F   F582         MOV     DPL,A
   \   000291   74..         MOV     A,#(devicesOnlineStatus >> 8) & 0xff
   \   000293   39           ADDC    A,R1
   \   000294   F583         MOV     DPH,A
   \   000296   EA           MOV     A,R2
   \   000297   F0           MOVX    @DPTR,A
   \   000298   A3           INC     DPTR
   \   000299   EB           MOV     A,R3
   \   00029A   F0           MOVX    @DPTR,A
    490                devicesOnline[i]=0;
   \   00029B   A8..         MOV     R0,?V0 + 0
   \   00029D   A9..         MOV     R1,?V0 + 1
   \   00029F   E8           MOV     A,R0
   \   0002A0   75F002       MOV     B,#0x2
   \   0002A3   A4           MUL     AB
   \   0002A4   C8           XCH     A,R0
   \   0002A5   AAF0         MOV     R2,B
   \   0002A7   75F000       MOV     B,#0x0
   \   0002AA   A4           MUL     AB
   \   0002AB   2A           ADD     A,R2
   \   0002AC   FA           MOV     R2,A
   \   0002AD   75F002       MOV     B,#0x2
   \   0002B0   E5..         MOV     A,?V0 + 1
   \   0002B2   A4           MUL     AB
   \   0002B3   2A           ADD     A,R2
   \   0002B4   F9           MOV     R1,A
   \   0002B5   74..         MOV     A,#devicesOnline & 0xff
   \   0002B7   28           ADD     A,R0
   \   0002B8   F582         MOV     DPL,A
   \   0002BA   74..         MOV     A,#(devicesOnline >> 8) & 0xff
   \   0002BC   39           ADDC    A,R1
   \   0002BD   F583         MOV     DPH,A
   \   0002BF   7400         MOV     A,#0x0
   \   0002C1   F0           MOVX    @DPTR,A
   \   0002C2   A3           INC     DPTR
   \   0002C3   7400         MOV     A,#0x0
   \   0002C5   F0           MOVX    @DPTR,A
    491                sprintf(buff,"device%d %d",i,devicesOnlineStatus[i]);
                               ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   0002C6                ; Setup parameters for call to function sprintf
   \   0002C6   A8..         MOV     R0,?V0 + 0
   \   0002C8   A9..         MOV     R1,?V0 + 1
   \   0002CA   E8           MOV     A,R0
   \   0002CB   75F002       MOV     B,#0x2
   \   0002CE   A4           MUL     AB
   \   0002CF   C8           XCH     A,R0
   \   0002D0   AAF0         MOV     R2,B
   \   0002D2   75F000       MOV     B,#0x0
   \   0002D5   A4           MUL     AB
   \   0002D6   2A           ADD     A,R2
   \   0002D7   FA           MOV     R2,A
   \   0002D8   75F002       MOV     B,#0x2
   \   0002DB   E5..         MOV     A,?V0 + 1
   \   0002DD   A4           MUL     AB
   \   0002DE   2A           ADD     A,R2
   \   0002DF   F9           MOV     R1,A
   \   0002E0   74..         MOV     A,#devicesOnlineStatus & 0xff
   \   0002E2   28           ADD     A,R0
   \   0002E3   F582         MOV     DPL,A
   \   0002E5   74..         MOV     A,#(devicesOnlineStatus >> 8) & 0xff
   \   0002E7   39           ADDC    A,R1
   \   0002E8   F583         MOV     DPH,A
   \   0002EA   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0002ED   78..         MOV     R0,#?V0 + 0
   \   0002EF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002F2   7C..         MOV     R4,#`?<Constant "device%d %d">` & 0xff
   \   0002F4   7D..         MOV     R5,#(`?<Constant "device%d %d">` >> 8) & 0xff
   \   0002F6   7447         MOV     A,#0x47
   \   0002F8   12....       LCALL   ?XSTACK_DISP0_8
   \   0002FB   AA82         MOV     R2,DPL
   \   0002FD   AB83         MOV     R3,DPH
   \   0002FF   12....       LCALL   ??sprintf?relay
   \   000302   7404         MOV     A,#0x4
   \   000304   12....       LCALL   ?DEALLOC_XSTACK8
    492                //HalLcdWriteString(buff, i+1);
    493              }
   \   000307   E5..         MOV     A,?V0 + 0
   \   000309   2401         ADD     A,#0x1
   \   00030B   F5..         MOV     ?V0 + 0,A
   \   00030D   E5..         MOV     A,?V0 + 1
   \   00030F   3400         ADDC    A,#0x0
   \   000311   F5..         MOV     ?V0 + 1,A
   \   000313   02....       LJMP    ??SampleApp_ProcessEvent_19 & 0xFFFF
    494              
    495              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_COOR_CHECK_DEV_EVT,5000 );
   \                     ??SampleApp_ProcessEvent_20:
   \   000316                ; Setup parameters for call to function osal_start_timerEx
   \   000316   7C88         MOV     R4,#-0x78
   \   000318   7D13         MOV     R5,#0x13
   \   00031A   7A10         MOV     R2,#0x10
   \   00031C   7B00         MOV     R3,#0x0
   \   00031E   90....       MOV     DPTR,#SampleApp_TaskID
   \   000321   E0           MOVX    A,@DPTR
   \   000322   F9           MOV     R1,A
   \   000323   12....       LCALL   ??osal_start_timerEx?relay
   \   000326   E9           MOV     A,R1
    496              return (events ^ SAMPLEAPP_COOR_CHECK_DEV_EVT);
   \   000327   EE           MOV     A,R6
   \   000328   6410         XRL     A,#0x10
   \   00032A   FA           MOV     R2,A
   \   00032B   EF           MOV     A,R7
   \   00032C   6400         XRL     A,#0x0
   \   00032E   FB           MOV     R3,A
   \   00032F   02....       LJMP    ??SampleApp_ProcessEvent_10 & 0xFFFF
    497            }
    498          
    499            if ( events & SAMPLEAPP_COOR_CHECK_MQTT_EVT )//协调器执行mqtt处理事件
   \                     ??SampleApp_ProcessEvent_18:
   \   000332   EE           MOV     A,R6
   \   000333   5420         ANL     A,#0x20
   \   000335   7003         JNZ     $+5
   \   000337   02....       LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
    500            {
    501                uint8 pureRecMsg[50] = {0};
   \   00033A   90....       MOV     DPTR,#`?<Constant {0}>_1`
   \   00033D   C082         PUSH    DPL
   \   00033F   C083         PUSH    DPH
   \   000341   85..82       MOV     DPL,?XSP + 0
   \   000344   85..83       MOV     DPH,?XSP + 1
   \   000347   AC82         MOV     R4,DPL
   \   000349   AD83         MOV     R5,DPH
   \   00034B   D083         POP     DPH
   \   00034D   D082         POP     DPL
   \   00034F   7432         MOV     A,#0x32
   \   000351   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    502                if(MqttRecMsg[0]=='\0')//假如数据字符为dev1,switch2,1
   \   000354   90....       MOV     DPTR,#MqttRecMsg
   \   000357   E0           MOVX    A,@DPTR
   \   000358   7003         JNZ     $+5
   \   00035A   02....       LJMP    ??SampleApp_ProcessEvent_22 & 0xFFFF
    503                {}
    504                //else if(strstr(MqttRecMsg,"dev2,")!=NULL)
    505                else{
    506                     printf("MqttRecMsg:%s\n",MqttRecMsg);
   \   00035D                ; Setup parameters for call to function printf
   \   00035D   75....       MOV     ?V0 + 0,#MqttRecMsg & 0xff
   \   000360   75....       MOV     ?V0 + 1,#(MqttRecMsg >> 8) & 0xff
   \   000363   78..         MOV     R0,#?V0 + 0
   \   000365   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000368   7A..         MOV     R2,#`?<Constant "MqttRecMsg:%s\\n">` & 0xff
   \   00036A   7B..         MOV     R3,#(`?<Constant "MqttRecMsg:%s\\n">` >> 8) & 0xff
   \   00036C   12....       LCALL   ??printf?relay
   \   00036F   7402         MOV     A,#0x2
   \   000371   12....       LCALL   ?DEALLOC_XSTACK8
    507                     if(strstr(MqttRecMsg,"\"}")!=NULL)
                                      ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000374                ; Setup parameters for call to function strstr
   \   000374   7C..         MOV     R4,#`?<Constant "\\"}">` & 0xff
   \   000376   7D..         MOV     R5,#(`?<Constant "\\"}">` >> 8) & 0xff
   \   000378   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   00037A   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   00037C   12....       LCALL   ??strstr?relay
   \   00037F   8A..         MOV     ?V0 + 0,R2
   \   000381   8B..         MOV     ?V0 + 1,R3
   \   000383   E5..         MOV     A,?V0 + 0
   \   000385   45..         ORL     A,?V0 + 1
   \   000387   606F         JZ      ??SampleApp_ProcessEvent_23
    508                     {
    509                       memcpy(pureRecMsg,strstr(MqttRecMsg,"\"msg\":\"")+7,strstr(MqttRecMsg,"\"}")-(strstr(MqttRecMsg,"\"msg\":\"")+7));
                                                       ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

               memcpy(pureRecMsg,strstr(MqttRecMsg,"\"msg\":\"")+7,strstr(MqttRecMsg,"\"}")-(strstr(MqttRecMsg,"\"msg\":\"")+7));
                                                                          ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",509  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"

               memcpy(pureRecMsg,strstr(MqttRecMsg,"\"msg\":\"")+7,strstr(MqttRecMsg,"\"}")-(strstr(MqttRecMsg,"\"msg\":\"")+7));
                                                                                                    ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",509  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"
   \   000389                ; Setup parameters for call to function strstr
   \   000389   7C..         MOV     R4,#`?<Constant "\\"}">` & 0xff
   \   00038B   7D..         MOV     R5,#(`?<Constant "\\"}">` >> 8) & 0xff
   \   00038D   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   00038F   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   000391   12....       LCALL   ??strstr?relay
   \   000394   8A..         MOV     ?V0 + 4,R2
   \   000396   8B..         MOV     ?V0 + 5,R3
   \   000398   85....       MOV     ?V0 + 0,?V0 + 4
   \   00039B   85....       MOV     ?V0 + 1,?V0 + 5
   \   00039E                ; Setup parameters for call to function strstr
   \   00039E   7C..         MOV     R4,#`?<Constant "\\"msg\\":\\"">` & 0xff
   \   0003A0   7D..         MOV     R5,#(`?<Constant "\\"msg\\":\\"">` >> 8) & 0xff
   \   0003A2   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   0003A4   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   0003A6   12....       LCALL   ??strstr?relay
   \   0003A9   8A..         MOV     ?V0 + 4,R2
   \   0003AB   8B..         MOV     ?V0 + 5,R3
   \   0003AD   A8..         MOV     R0,?V0 + 4
   \   0003AF   A9..         MOV     R1,?V0 + 5
   \   0003B1                ; Setup parameters for call to function memcpy
   \   0003B1   E5..         MOV     A,?V0 + 4
   \   0003B3   2407         ADD     A,#0x7
   \   0003B5   F8           MOV     R0,A
   \   0003B6   E5..         MOV     A,?V0 + 5
   \   0003B8   3400         ADDC    A,#0x0
   \   0003BA   F9           MOV     R1,A
   \   0003BB   E5..         MOV     A,?V0 + 0
   \   0003BD   C3           CLR     C
   \   0003BE   98           SUBB    A,R0
   \   0003BF   F5..         MOV     ?V0 + 0,A
   \   0003C1   E5..         MOV     A,?V0 + 1
   \   0003C3   99           SUBB    A,R1
   \   0003C4   F5..         MOV     ?V0 + 1,A
   \   0003C6   78..         MOV     R0,#?V0 + 0
   \   0003C8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003CB                ; Setup parameters for call to function strstr
   \   0003CB   7C..         MOV     R4,#`?<Constant "\\"msg\\":\\"">` & 0xff
   \   0003CD   7D..         MOV     R5,#(`?<Constant "\\"msg\\":\\"">` >> 8) & 0xff
   \   0003CF   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   0003D1   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   0003D3   12....       LCALL   ??strstr?relay
   \   0003D6   8A..         MOV     ?V0 + 0,R2
   \   0003D8   8B..         MOV     ?V0 + 1,R3
   \   0003DA   E5..         MOV     A,?V0 + 0
   \   0003DC   2407         ADD     A,#0x7
   \   0003DE   FC           MOV     R4,A
   \   0003DF   E5..         MOV     A,?V0 + 1
   \   0003E1   3400         ADDC    A,#0x0
   \   0003E3   FD           MOV     R5,A
   \   0003E4   7402         MOV     A,#0x2
   \   0003E6   12....       LCALL   ?XSTACK_DISP0_8
   \   0003E9   AA82         MOV     R2,DPL
   \   0003EB   AB83         MOV     R3,DPH
   \   0003ED   12....       LCALL   ??memcpy?relay
   \   0003F0   7402         MOV     A,#0x2
   \   0003F2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003F5   02....       LJMP    ??SampleApp_ProcessEvent_22 & 0xFFFF
    510                     }else if(strstr(MqttRecMsg,"\",\"flow\"")!=NULL)
                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessEvent_23:
   \   0003F8                ; Setup parameters for call to function strstr
   \   0003F8   7C..         MOV     R4,#`?<Constant "\\",\\"flow\\"">` & 0xff
   \   0003FA   7D..         MOV     R5,#(`?<Constant "\\",\\"flow\\"">` >> 8) & 0xff
   \   0003FC   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   0003FE   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   000400   12....       LCALL   ??strstr?relay
   \   000403   8A..         MOV     ?V0 + 0,R2
   \   000405   8B..         MOV     ?V0 + 1,R3
   \   000407   E5..         MOV     A,?V0 + 0
   \   000409   45..         ORL     A,?V0 + 1
   \   00040B   606C         JZ      ??SampleApp_ProcessEvent_22
    511                     {
    512                       memcpy(pureRecMsg,strstr(MqttRecMsg,"\"msg\":\"")+7,strstr(MqttRecMsg,"\",\"flow\"")-(strstr(MqttRecMsg,"\"msg\":\"")+7));
                                                       ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

               memcpy(pureRecMsg,strstr(MqttRecMsg,"\"msg\":\"")+7,strstr(MqttRecMsg,"\",\"flow\"")-(strstr(MqttRecMsg,"\"msg\":\"")+7));
                                                                          ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",512  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"

               memcpy(pureRecMsg,strstr(MqttRecMsg,"\"msg\":\"")+7,strstr(MqttRecMsg,"\",\"flow\"")-(strstr(MqttRecMsg,"\"msg\":\"")+7));
                                                                                                            ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",512  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"
   \   00040D                ; Setup parameters for call to function strstr
   \   00040D   7C..         MOV     R4,#`?<Constant "\\",\\"flow\\"">` & 0xff
   \   00040F   7D..         MOV     R5,#(`?<Constant "\\",\\"flow\\"">` >> 8) & 0xff
   \   000411   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   000413   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   000415   12....       LCALL   ??strstr?relay
   \   000418   8A..         MOV     ?V0 + 4,R2
   \   00041A   8B..         MOV     ?V0 + 5,R3
   \   00041C   85....       MOV     ?V0 + 0,?V0 + 4
   \   00041F   85....       MOV     ?V0 + 1,?V0 + 5
   \   000422                ; Setup parameters for call to function strstr
   \   000422   7C..         MOV     R4,#`?<Constant "\\"msg\\":\\"">` & 0xff
   \   000424   7D..         MOV     R5,#(`?<Constant "\\"msg\\":\\"">` >> 8) & 0xff
   \   000426   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   000428   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   00042A   12....       LCALL   ??strstr?relay
   \   00042D   8A..         MOV     ?V0 + 4,R2
   \   00042F   8B..         MOV     ?V0 + 5,R3
   \   000431   A8..         MOV     R0,?V0 + 4
   \   000433   A9..         MOV     R1,?V0 + 5
   \   000435                ; Setup parameters for call to function memcpy
   \   000435   E5..         MOV     A,?V0 + 4
   \   000437   2407         ADD     A,#0x7
   \   000439   F8           MOV     R0,A
   \   00043A   E5..         MOV     A,?V0 + 5
   \   00043C   3400         ADDC    A,#0x0
   \   00043E   F9           MOV     R1,A
   \   00043F   E5..         MOV     A,?V0 + 0
   \   000441   C3           CLR     C
   \   000442   98           SUBB    A,R0
   \   000443   F5..         MOV     ?V0 + 0,A
   \   000445   E5..         MOV     A,?V0 + 1
   \   000447   99           SUBB    A,R1
   \   000448   F5..         MOV     ?V0 + 1,A
   \   00044A   78..         MOV     R0,#?V0 + 0
   \   00044C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00044F                ; Setup parameters for call to function strstr
   \   00044F   7C..         MOV     R4,#`?<Constant "\\"msg\\":\\"">` & 0xff
   \   000451   7D..         MOV     R5,#(`?<Constant "\\"msg\\":\\"">` >> 8) & 0xff
   \   000453   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   000455   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   000457   12....       LCALL   ??strstr?relay
   \   00045A   8A..         MOV     ?V0 + 0,R2
   \   00045C   8B..         MOV     ?V0 + 1,R3
   \   00045E   E5..         MOV     A,?V0 + 0
   \   000460   2407         ADD     A,#0x7
   \   000462   FC           MOV     R4,A
   \   000463   E5..         MOV     A,?V0 + 1
   \   000465   3400         ADDC    A,#0x0
   \   000467   FD           MOV     R5,A
   \   000468   7402         MOV     A,#0x2
   \   00046A   12....       LCALL   ?XSTACK_DISP0_8
   \   00046D   AA82         MOV     R2,DPL
   \   00046F   AB83         MOV     R3,DPH
   \   000471   12....       LCALL   ??memcpy?relay
   \   000474   7402         MOV     A,#0x2
   \   000476   12....       LCALL   ?DEALLOC_XSTACK8
    513                     }
    514                   }
    515                if(DevicesShortAddr[0]!=-1 && strstr(pureRecMsg,"dev0,")!=NULL)
                                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessEvent_22:
   \   000479   90....       MOV     DPTR,#DevicesShortAddr
   \   00047C   E0           MOVX    A,@DPTR
   \   00047D   64FF         XRL     A,#0xff
   \   00047F   7004         JNZ     ??SampleApp_ProcessEvent_24
   \   000481   A3           INC     DPTR
   \   000482   E0           MOVX    A,@DPTR
   \   000483   64FF         XRL     A,#0xff
   \                     ??SampleApp_ProcessEvent_24:
   \   000485   606F         JZ      ??SampleApp_ProcessEvent_25
   \   000487                ; Setup parameters for call to function strstr
   \   000487   7C..         MOV     R4,#`?<Constant "dev0,">` & 0xff
   \   000489   7D..         MOV     R5,#(`?<Constant "dev0,">` >> 8) & 0xff
   \   00048B   85..82       MOV     DPL,?XSP + 0
   \   00048E   85..83       MOV     DPH,?XSP + 1
   \   000491   AA82         MOV     R2,DPL
   \   000493   AB83         MOV     R3,DPH
   \   000495   12....       LCALL   ??strstr?relay
   \   000498   8A..         MOV     ?V0 + 0,R2
   \   00049A   8B..         MOV     ?V0 + 1,R3
   \   00049C   E5..         MOV     A,?V0 + 0
   \   00049E   45..         ORL     A,?V0 + 1
   \   0004A0   6054         JZ      ??SampleApp_ProcessEvent_25
    516                {
    517                  SampleApp_SendPointToPointMessage(DevicesShortAddr[0],0x1004,pureRecMsg,strlen(pureRecMsg)+1);
                                                                                                        ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0004A2                ; Setup parameters for call to function strlen
   \   0004A2   85..82       MOV     DPL,?XSP + 0
   \   0004A5   85..83       MOV     DPH,?XSP + 1
   \   0004A8   AA82         MOV     R2,DPL
   \   0004AA   AB83         MOV     R3,DPH
   \   0004AC   12....       LCALL   ??strlen?relay
   \   0004AF   8A..         MOV     ?V0 + 0,R2
   \   0004B1   8B..         MOV     ?V0 + 1,R3
   \   0004B3   A8..         MOV     R0,?V0 + 0
   \   0004B5   A9..         MOV     R1,?V0 + 1
   \   0004B7                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   0004B7   E5..         MOV     A,?V0 + 0
   \   0004B9   2401         ADD     A,#0x1
   \   0004BB   F5..         MOV     ?V0 + 0,A
   \   0004BD   E5..         MOV     A,?V0 + 1
   \   0004BF   3400         ADDC    A,#0x0
   \   0004C1   F5..         MOV     ?V0 + 1,A
   \   0004C3   78..         MOV     R0,#?V0 + 0
   \   0004C5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004C8   7402         MOV     A,#0x2
   \   0004CA   12....       LCALL   ?XSTACK_DISP0_8
   \   0004CD   8582..       MOV     ?V0 + 0,DPL
   \   0004D0   8583..       MOV     ?V0 + 1,DPH
   \   0004D3   78..         MOV     R0,#?V0 + 0
   \   0004D5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004D8   7C04         MOV     R4,#0x4
   \   0004DA   7D10         MOV     R5,#0x10
   \   0004DC   90....       MOV     DPTR,#DevicesShortAddr
   \   0004DF   E0           MOVX    A,@DPTR
   \   0004E0   FA           MOV     R2,A
   \   0004E1   A3           INC     DPTR
   \   0004E2   E0           MOVX    A,@DPTR
   \   0004E3   FB           MOV     R3,A
   \   0004E4   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   0004E7   7404         MOV     A,#0x4
   \   0004E9   12....       LCALL   ?DEALLOC_XSTACK8
    518                  printf("dev0,");
   \   0004EC                ; Setup parameters for call to function printf
   \   0004EC   7A..         MOV     R2,#`?<Constant "dev0,">` & 0xff
   \   0004EE   7B..         MOV     R3,#(`?<Constant "dev0,">` >> 8) & 0xff
   \   0004F0   12....       LCALL   ??printf?relay
   \   0004F3   02....       LJMP    ??SampleApp_ProcessEvent_26 & 0xFFFF
    519                }else if(DevicesShortAddr[1]!=-1 && strstr(pureRecMsg,"dev1,")!=NULL)
                                                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessEvent_25:
   \   0004F6   90....       MOV     DPTR,#DevicesShortAddr + 2
   \   0004F9   E0           MOVX    A,@DPTR
   \   0004FA   64FF         XRL     A,#0xff
   \   0004FC   7004         JNZ     ??SampleApp_ProcessEvent_27
   \   0004FE   A3           INC     DPTR
   \   0004FF   E0           MOVX    A,@DPTR
   \   000500   64FF         XRL     A,#0xff
   \                     ??SampleApp_ProcessEvent_27:
   \   000502   606F         JZ      ??SampleApp_ProcessEvent_28
   \   000504                ; Setup parameters for call to function strstr
   \   000504   7C..         MOV     R4,#`?<Constant "dev1,">` & 0xff
   \   000506   7D..         MOV     R5,#(`?<Constant "dev1,">` >> 8) & 0xff
   \   000508   85..82       MOV     DPL,?XSP + 0
   \   00050B   85..83       MOV     DPH,?XSP + 1
   \   00050E   AA82         MOV     R2,DPL
   \   000510   AB83         MOV     R3,DPH
   \   000512   12....       LCALL   ??strstr?relay
   \   000515   8A..         MOV     ?V0 + 0,R2
   \   000517   8B..         MOV     ?V0 + 1,R3
   \   000519   E5..         MOV     A,?V0 + 0
   \   00051B   45..         ORL     A,?V0 + 1
   \   00051D   6054         JZ      ??SampleApp_ProcessEvent_28
    520                {
    521                  SampleApp_SendPointToPointMessage(DevicesShortAddr[1],0x1004,pureRecMsg,strlen(pureRecMsg)+1);
                                                                                                        ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   00051F                ; Setup parameters for call to function strlen
   \   00051F   85..82       MOV     DPL,?XSP + 0
   \   000522   85..83       MOV     DPH,?XSP + 1
   \   000525   AA82         MOV     R2,DPL
   \   000527   AB83         MOV     R3,DPH
   \   000529   12....       LCALL   ??strlen?relay
   \   00052C   8A..         MOV     ?V0 + 0,R2
   \   00052E   8B..         MOV     ?V0 + 1,R3
   \   000530   A8..         MOV     R0,?V0 + 0
   \   000532   A9..         MOV     R1,?V0 + 1
   \   000534                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   000534   E5..         MOV     A,?V0 + 0
   \   000536   2401         ADD     A,#0x1
   \   000538   F5..         MOV     ?V0 + 0,A
   \   00053A   E5..         MOV     A,?V0 + 1
   \   00053C   3400         ADDC    A,#0x0
   \   00053E   F5..         MOV     ?V0 + 1,A
   \   000540   78..         MOV     R0,#?V0 + 0
   \   000542   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000545   7402         MOV     A,#0x2
   \   000547   12....       LCALL   ?XSTACK_DISP0_8
   \   00054A   8582..       MOV     ?V0 + 0,DPL
   \   00054D   8583..       MOV     ?V0 + 1,DPH
   \   000550   78..         MOV     R0,#?V0 + 0
   \   000552   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000555   7C04         MOV     R4,#0x4
   \   000557   7D10         MOV     R5,#0x10
   \   000559   90....       MOV     DPTR,#DevicesShortAddr + 2
   \   00055C   E0           MOVX    A,@DPTR
   \   00055D   FA           MOV     R2,A
   \   00055E   A3           INC     DPTR
   \   00055F   E0           MOVX    A,@DPTR
   \   000560   FB           MOV     R3,A
   \   000561   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   000564   7404         MOV     A,#0x4
   \   000566   12....       LCALL   ?DEALLOC_XSTACK8
    522                  printf("dev1,");
   \   000569                ; Setup parameters for call to function printf
   \   000569   7A..         MOV     R2,#`?<Constant "dev1,">` & 0xff
   \   00056B   7B..         MOV     R3,#(`?<Constant "dev1,">` >> 8) & 0xff
   \   00056D   12....       LCALL   ??printf?relay
   \   000570   02....       LJMP    ??SampleApp_ProcessEvent_26 & 0xFFFF
    523                }else if(DevicesShortAddr[2]!=-1 && strstr(pureRecMsg,"dev2,")!=NULL)
                                                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessEvent_28:
   \   000573   90....       MOV     DPTR,#DevicesShortAddr + 4
   \   000576   E0           MOVX    A,@DPTR
   \   000577   64FF         XRL     A,#0xff
   \   000579   7004         JNZ     ??SampleApp_ProcessEvent_29
   \   00057B   A3           INC     DPTR
   \   00057C   E0           MOVX    A,@DPTR
   \   00057D   64FF         XRL     A,#0xff
   \                     ??SampleApp_ProcessEvent_29:
   \   00057F   606E         JZ      ??SampleApp_ProcessEvent_30
   \   000581                ; Setup parameters for call to function strstr
   \   000581   7C..         MOV     R4,#`?<Constant "dev2,">` & 0xff
   \   000583   7D..         MOV     R5,#(`?<Constant "dev2,">` >> 8) & 0xff
   \   000585   85..82       MOV     DPL,?XSP + 0
   \   000588   85..83       MOV     DPH,?XSP + 1
   \   00058B   AA82         MOV     R2,DPL
   \   00058D   AB83         MOV     R3,DPH
   \   00058F   12....       LCALL   ??strstr?relay
   \   000592   8A..         MOV     ?V0 + 0,R2
   \   000594   8B..         MOV     ?V0 + 1,R3
   \   000596   E5..         MOV     A,?V0 + 0
   \   000598   45..         ORL     A,?V0 + 1
   \   00059A   6053         JZ      ??SampleApp_ProcessEvent_30
    524                {
    525                  SampleApp_SendPointToPointMessage(DevicesShortAddr[2],0x1004,pureRecMsg,strlen(pureRecMsg)+1);
                                                                                                        ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   00059C                ; Setup parameters for call to function strlen
   \   00059C   85..82       MOV     DPL,?XSP + 0
   \   00059F   85..83       MOV     DPH,?XSP + 1
   \   0005A2   AA82         MOV     R2,DPL
   \   0005A4   AB83         MOV     R3,DPH
   \   0005A6   12....       LCALL   ??strlen?relay
   \   0005A9   8A..         MOV     ?V0 + 0,R2
   \   0005AB   8B..         MOV     ?V0 + 1,R3
   \   0005AD   A8..         MOV     R0,?V0 + 0
   \   0005AF   A9..         MOV     R1,?V0 + 1
   \   0005B1                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   0005B1   E5..         MOV     A,?V0 + 0
   \   0005B3   2401         ADD     A,#0x1
   \   0005B5   F5..         MOV     ?V0 + 0,A
   \   0005B7   E5..         MOV     A,?V0 + 1
   \   0005B9   3400         ADDC    A,#0x0
   \   0005BB   F5..         MOV     ?V0 + 1,A
   \   0005BD   78..         MOV     R0,#?V0 + 0
   \   0005BF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005C2   7402         MOV     A,#0x2
   \   0005C4   12....       LCALL   ?XSTACK_DISP0_8
   \   0005C7   8582..       MOV     ?V0 + 0,DPL
   \   0005CA   8583..       MOV     ?V0 + 1,DPH
   \   0005CD   78..         MOV     R0,#?V0 + 0
   \   0005CF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005D2   7C04         MOV     R4,#0x4
   \   0005D4   7D10         MOV     R5,#0x10
   \   0005D6   90....       MOV     DPTR,#DevicesShortAddr + 4
   \   0005D9   E0           MOVX    A,@DPTR
   \   0005DA   FA           MOV     R2,A
   \   0005DB   A3           INC     DPTR
   \   0005DC   E0           MOVX    A,@DPTR
   \   0005DD   FB           MOV     R3,A
   \   0005DE   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   0005E1   7404         MOV     A,#0x4
   \   0005E3   12....       LCALL   ?DEALLOC_XSTACK8
    526                  printf("dev2,");
   \   0005E6                ; Setup parameters for call to function printf
   \   0005E6   7A..         MOV     R2,#`?<Constant "dev2,">` & 0xff
   \   0005E8   7B..         MOV     R3,#(`?<Constant "dev2,">` >> 8) & 0xff
   \   0005EA   12....       LCALL   ??printf?relay
   \   0005ED   807A         SJMP    ??SampleApp_ProcessEvent_26
    527                }else if(DevicesShortAddr[3]!=-1 && strstr(pureRecMsg,"dev3,")!=NULL)
                                                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessEvent_30:
   \   0005EF   90....       MOV     DPTR,#DevicesShortAddr + 6
   \   0005F2   E0           MOVX    A,@DPTR
   \   0005F3   64FF         XRL     A,#0xff
   \   0005F5   7004         JNZ     ??SampleApp_ProcessEvent_31
   \   0005F7   A3           INC     DPTR
   \   0005F8   E0           MOVX    A,@DPTR
   \   0005F9   64FF         XRL     A,#0xff
   \                     ??SampleApp_ProcessEvent_31:
   \   0005FB   606C         JZ      ??SampleApp_ProcessEvent_26
   \   0005FD                ; Setup parameters for call to function strstr
   \   0005FD   7C..         MOV     R4,#`?<Constant "dev3,">` & 0xff
   \   0005FF   7D..         MOV     R5,#(`?<Constant "dev3,">` >> 8) & 0xff
   \   000601   85..82       MOV     DPL,?XSP + 0
   \   000604   85..83       MOV     DPH,?XSP + 1
   \   000607   AA82         MOV     R2,DPL
   \   000609   AB83         MOV     R3,DPH
   \   00060B   12....       LCALL   ??strstr?relay
   \   00060E   8A..         MOV     ?V0 + 0,R2
   \   000610   8B..         MOV     ?V0 + 1,R3
   \   000612   E5..         MOV     A,?V0 + 0
   \   000614   45..         ORL     A,?V0 + 1
   \   000616   6051         JZ      ??SampleApp_ProcessEvent_26
    528                {
    529                  SampleApp_SendPointToPointMessage(DevicesShortAddr[3],0x1004,pureRecMsg,strlen(pureRecMsg)+1);
                                                                                                        ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000618                ; Setup parameters for call to function strlen
   \   000618   85..82       MOV     DPL,?XSP + 0
   \   00061B   85..83       MOV     DPH,?XSP + 1
   \   00061E   AA82         MOV     R2,DPL
   \   000620   AB83         MOV     R3,DPH
   \   000622   12....       LCALL   ??strlen?relay
   \   000625   8A..         MOV     ?V0 + 0,R2
   \   000627   8B..         MOV     ?V0 + 1,R3
   \   000629   A8..         MOV     R0,?V0 + 0
   \   00062B   A9..         MOV     R1,?V0 + 1
   \   00062D                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   00062D   E5..         MOV     A,?V0 + 0
   \   00062F   2401         ADD     A,#0x1
   \   000631   F5..         MOV     ?V0 + 0,A
   \   000633   E5..         MOV     A,?V0 + 1
   \   000635   3400         ADDC    A,#0x0
   \   000637   F5..         MOV     ?V0 + 1,A
   \   000639   78..         MOV     R0,#?V0 + 0
   \   00063B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00063E   7402         MOV     A,#0x2
   \   000640   12....       LCALL   ?XSTACK_DISP0_8
   \   000643   8582..       MOV     ?V0 + 0,DPL
   \   000646   8583..       MOV     ?V0 + 1,DPH
   \   000649   78..         MOV     R0,#?V0 + 0
   \   00064B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00064E   7C04         MOV     R4,#0x4
   \   000650   7D10         MOV     R5,#0x10
   \   000652   90....       MOV     DPTR,#DevicesShortAddr + 6
   \   000655   E0           MOVX    A,@DPTR
   \   000656   FA           MOV     R2,A
   \   000657   A3           INC     DPTR
   \   000658   E0           MOVX    A,@DPTR
   \   000659   FB           MOV     R3,A
   \   00065A   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay
   \   00065D   7404         MOV     A,#0x4
   \   00065F   12....       LCALL   ?DEALLOC_XSTACK8
    530                  printf("dev3,");
   \   000662                ; Setup parameters for call to function printf
   \   000662   7A..         MOV     R2,#`?<Constant "dev3,">` & 0xff
   \   000664   7B..         MOV     R3,#(`?<Constant "dev3,">` >> 8) & 0xff
   \   000666   12....       LCALL   ??printf?relay
    531                }
    532                osal_memset(MqttRecMsg, 0, 200);
   \                     ??SampleApp_ProcessEvent_26:
   \   000669                ; Setup parameters for call to function osal_memset
   \   000669   7CC8         MOV     R4,#-0x38
   \   00066B   7D00         MOV     R5,#0x0
   \   00066D   7900         MOV     R1,#0x0
   \   00066F   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   000671   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   000673   12....       LCALL   ??osal_memset?relay
    533          
    534              return (events ^ SAMPLEAPP_COOR_CHECK_MQTT_EVT);
   \   000676   EE           MOV     A,R6
   \   000677   6420         XRL     A,#0x20
   \   000679   FA           MOV     R2,A
   \   00067A   EF           MOV     A,R7
   \   00067B   6400         XRL     A,#0x0
   \   00067D   FB           MOV     R3,A
   \   00067E   8004         SJMP    ??SampleApp_ProcessEvent_10
    535            }  
    536          #else
    537            
    538            //定时器时间到
    539            if ( events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT )
    540            {
    541              
    542              // DHT11采集
    543              //SampleApp_Send_P2P_Message();
    544              
    545              // Setup to send message again in normal period (+ a little jitter)
    546              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    547                                 (SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT + (osal_rand() & 0x00FF)) );
    548              
    549              // return unprocessed events
    550              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
    551            }
    552            if ( events & SAMPLEAPP_ENDDEV_HEART_BEAT_EVT )//终端向协调器发送心跳包事件
    553            {
    554              
    555              SampleApp_SendPointToPointMessage(0x0000,0x1001,'\0',1);//发送心跳数据包
    556              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ENDDEV_HEART_BEAT_EVT,2000 );
    557              
    558              // return unprocessed events
    559              return (events ^ SAMPLEAPP_ENDDEV_HEART_BEAT_EVT);
    560            }
    561            
    562          #endif
    563            
    564            return ( 0 );  // Discard unknown events.
   \                     ??SampleApp_ProcessEvent_21:
   \   000680   7A00         MOV     R2,#0x0
   \   000682   7B00         MOV     R3,#0x0
   \                     ??SampleApp_ProcessEvent_10:
   \   000684   746B         MOV     A,#0x6b
   \   000686   12....       LCALL   ?DEALLOC_XSTACK8
   \   000689   7F06         MOV     R7,#0x6
   \   00068B   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   00068E                REQUIRE _A_P1
    565          }
    566          
    567          /*********************************************************************
    568          * @fn      SerialApp_ProcessMSGCmd
    569          *
    570          * @brief   Data message processor callback. This function processes
    571          *          any incoming data - probably from other devices. Based
    572          *          on the cluster ID, perform the intended action.
    573          *
    574          * @param   pkt - pointer to the incoming message packet
    575          *
    576          * @return  TRUE if the 'pkt' parameter is being used and will be freed later,
    577          *          FALSE otherwise.
    578          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    579          void SampleApp_ProcessMSGCmd( afIncomingMSGPacket_t *pkt )
   \                     SampleApp_ProcessMSGCmd:
    580          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 204
   \   000005   7434         MOV     A,#0x34
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    581            //uint8 buff[200]={0};
    582            
    583            //uint8 dataID[5]={0};
    584            int dataID_int = 0;
   \   00000E   7402         MOV     A,#0x2
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   7400         MOV     A,#0x0
   \   000015   F0           MOVX    @DPTR,A
   \   000016   A3           INC     DPTR
   \   000017   7400         MOV     A,#0x0
   \   000019   F0           MOVX    @DPTR,A
    585            int dataLens = 0;
   \   00001A   85..82       MOV     DPL,?XSP + 0
   \   00001D   85..83       MOV     DPH,?XSP + 1
   \   000020   7400         MOV     A,#0x0
   \   000022   F0           MOVX    @DPTR,A
   \   000023   A3           INC     DPTR
   \   000024   7400         MOV     A,#0x0
   \   000026   F0           MOVX    @DPTR,A
    586            uint8 data[200]={0};
   \   000027   90....       MOV     DPTR,#`?<Constant {0}>_2`
   \   00002A   C082         PUSH    DPL
   \   00002C   C083         PUSH    DPH
   \   00002E   7404         MOV     A,#0x4
   \   000030   12....       LCALL   ?XSTACK_DISP0_8
   \   000033   AC82         MOV     R4,DPL
   \   000035   AD83         MOV     R5,DPH
   \   000037   D083         POP     DPH
   \   000039   D082         POP     DPL
   \   00003B   74C8         MOV     A,#-0x38
   \   00003D   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    587            //uint8 tmpData[200]={0};
    588            switch ( pkt->clusterId )
   \   000040   8E82         MOV     DPL,R6
   \   000042   8F83         MOV     DPH,R7
   \   000044   A3           INC     DPTR
   \   000045   A3           INC     DPTR
   \   000046   A3           INC     DPTR
   \   000047   A3           INC     DPTR
   \   000048   E0           MOVX    A,@DPTR
   \   000049   F5..         MOV     ?V0 + 0,A
   \   00004B   A3           INC     DPTR
   \   00004C   E0           MOVX    A,@DPTR
   \   00004D   F5..         MOV     ?V0 + 1,A
   \   00004F   78..         MOV     R0,#?V0 + 0
   \   000051   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_ProcessMSGCmd>_0`:
   \   000054   0100         DW        1
   \   000056   01           DB        1
   \   000057   ....         DW        ??SampleApp_ProcessMSGCmd_0
   \   000059   ....         DW        ??SampleApp_ProcessMSGCmd_1
   \   00005B   ....         DW        ??SampleApp_ProcessMSGCmd_0
    589            {
    590              // 接收终端上传的温度数据
    591            case SAMPLEAPP_P2P_CLUSTERID:
    592              
    593              {
    594                
    595                memcpy(data,pkt->cmd.Data,4);
   \                     ??SampleApp_ProcessMSGCmd_1:
   \   00005D                ; Setup parameters for call to function memcpy
   \   00005D   75..04       MOV     ?V0 + 0,#0x4
   \   000060   75..00       MOV     ?V0 + 1,#0x0
   \   000063   78..         MOV     R0,#?V0 + 0
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000068   EE           MOV     A,R6
   \   000069   2422         ADD     A,#0x22
   \   00006B   F582         MOV     DPL,A
   \   00006D   EF           MOV     A,R7
   \   00006E   3400         ADDC    A,#0x0
   \   000070   F583         MOV     DPH,A
   \   000072   E0           MOVX    A,@DPTR
   \   000073   FC           MOV     R4,A
   \   000074   A3           INC     DPTR
   \   000075   E0           MOVX    A,@DPTR
   \   000076   FD           MOV     R5,A
   \   000077   7406         MOV     A,#0x6
   \   000079   12....       LCALL   ?XSTACK_DISP0_8
   \   00007C   AA82         MOV     R2,DPL
   \   00007E   AB83         MOV     R3,DPH
   \   000080   12....       LCALL   ??memcpy?relay
   \   000083   7402         MOV     A,#0x2
   \   000085   12....       LCALL   ?DEALLOC_XSTACK8
    596                data[4]='\0';
   \   000088   7408         MOV     A,#0x8
   \   00008A   12....       LCALL   ?XSTACK_DISP0_8
   \   00008D   7400         MOV     A,#0x0
   \   00008F   F0           MOVX    @DPTR,A
    597                sscanf((char*)data, "%4d", &dataID_int ); 
   \   000090                ; Setup parameters for call to function sscanf
   \   000090   7402         MOV     A,#0x2
   \   000092   12....       LCALL   ?XSTACK_DISP0_8
   \   000095   8582..       MOV     ?V0 + 0,DPL
   \   000098   8583..       MOV     ?V0 + 1,DPH
   \   00009B   78..         MOV     R0,#?V0 + 0
   \   00009D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A0   7C..         MOV     R4,#`?<Constant "%4d">` & 0xff
   \   0000A2   7D..         MOV     R5,#(`?<Constant "%4d">` >> 8) & 0xff
   \   0000A4   7406         MOV     A,#0x6
   \   0000A6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A9   AA82         MOV     R2,DPL
   \   0000AB   AB83         MOV     R3,DPH
   \   0000AD   12....       LCALL   ??sscanf?relay
   \   0000B0   7402         MOV     A,#0x2
   \   0000B2   12....       LCALL   ?DEALLOC_XSTACK8
    598                memcpy(data,(pkt->cmd.Data)+4,4);
   \   0000B5                ; Setup parameters for call to function memcpy
   \   0000B5   75..04       MOV     ?V0 + 0,#0x4
   \   0000B8   75..00       MOV     ?V0 + 1,#0x0
   \   0000BB   78..         MOV     R0,#?V0 + 0
   \   0000BD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C0   EE           MOV     A,R6
   \   0000C1   2422         ADD     A,#0x22
   \   0000C3   F582         MOV     DPL,A
   \   0000C5   EF           MOV     A,R7
   \   0000C6   3400         ADDC    A,#0x0
   \   0000C8   F583         MOV     DPH,A
   \   0000CA   E0           MOVX    A,@DPTR
   \   0000CB   2404         ADD     A,#0x4
   \   0000CD   FC           MOV     R4,A
   \   0000CE   A3           INC     DPTR
   \   0000CF   E0           MOVX    A,@DPTR
   \   0000D0   3400         ADDC    A,#0x0
   \   0000D2   FD           MOV     R5,A
   \   0000D3   7406         MOV     A,#0x6
   \   0000D5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D8   AA82         MOV     R2,DPL
   \   0000DA   AB83         MOV     R3,DPH
   \   0000DC   12....       LCALL   ??memcpy?relay
   \   0000DF   7402         MOV     A,#0x2
   \   0000E1   12....       LCALL   ?DEALLOC_XSTACK8
    599                data[4]='\0';
   \   0000E4   7408         MOV     A,#0x8
   \   0000E6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E9   7400         MOV     A,#0x0
   \   0000EB   F0           MOVX    @DPTR,A
    600                sscanf((char*)data, "%4d", &dataLens ); 
   \   0000EC                ; Setup parameters for call to function sscanf
   \   0000EC   85..82       MOV     DPL,?XSP + 0
   \   0000EF   85..83       MOV     DPH,?XSP + 1
   \   0000F2   8582..       MOV     ?V0 + 0,DPL
   \   0000F5   8583..       MOV     ?V0 + 1,DPH
   \   0000F8   78..         MOV     R0,#?V0 + 0
   \   0000FA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FD   7C..         MOV     R4,#`?<Constant "%4d">` & 0xff
   \   0000FF   7D..         MOV     R5,#(`?<Constant "%4d">` >> 8) & 0xff
   \   000101   7406         MOV     A,#0x6
   \   000103   12....       LCALL   ?XSTACK_DISP0_8
   \   000106   AA82         MOV     R2,DPL
   \   000108   AB83         MOV     R3,DPH
   \   00010A   12....       LCALL   ??sscanf?relay
   \   00010D   7402         MOV     A,#0x2
   \   00010F   12....       LCALL   ?DEALLOC_XSTACK8
    601                memcpy(data,pkt->cmd.Data+8,dataLens-8);
   \   000112                ; Setup parameters for call to function memcpy
   \   000112   85..82       MOV     DPL,?XSP + 0
   \   000115   85..83       MOV     DPH,?XSP + 1
   \   000118   E0           MOVX    A,@DPTR
   \   000119   24F8         ADD     A,#-0x8
   \   00011B   F5..         MOV     ?V0 + 0,A
   \   00011D   A3           INC     DPTR
   \   00011E   E0           MOVX    A,@DPTR
   \   00011F   34FF         ADDC    A,#-0x1
   \   000121   F5..         MOV     ?V0 + 1,A
   \   000123   78..         MOV     R0,#?V0 + 0
   \   000125   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000128   EE           MOV     A,R6
   \   000129   2422         ADD     A,#0x22
   \   00012B   F582         MOV     DPL,A
   \   00012D   EF           MOV     A,R7
   \   00012E   3400         ADDC    A,#0x0
   \   000130   F583         MOV     DPH,A
   \   000132   E0           MOVX    A,@DPTR
   \   000133   2408         ADD     A,#0x8
   \   000135   FC           MOV     R4,A
   \   000136   A3           INC     DPTR
   \   000137   E0           MOVX    A,@DPTR
   \   000138   3400         ADDC    A,#0x0
   \   00013A   FD           MOV     R5,A
   \   00013B   7406         MOV     A,#0x6
   \   00013D   12....       LCALL   ?XSTACK_DISP0_8
   \   000140   AA82         MOV     R2,DPL
   \   000142   AB83         MOV     R3,DPH
   \   000144   12....       LCALL   ??memcpy?relay
   \   000147   7402         MOV     A,#0x2
   \   000149   12....       LCALL   ?DEALLOC_XSTACK8
    602                data[dataLens-8]='\0';
   \   00014C   85..82       MOV     DPL,?XSP + 0
   \   00014F   85..83       MOV     DPH,?XSP + 1
   \   000152   E0           MOVX    A,@DPTR
   \   000153   F8           MOV     R0,A
   \   000154   A3           INC     DPTR
   \   000155   E0           MOVX    A,@DPTR
   \   000156   F9           MOV     R1,A
   \   000157   7404         MOV     A,#0x4
   \   000159   12....       LCALL   ?XSTACK_DISP0_8
   \   00015C   E582         MOV     A,DPL
   \   00015E   28           ADD     A,R0
   \   00015F   F8           MOV     R0,A
   \   000160   E583         MOV     A,DPH
   \   000162   39           ADDC    A,R1
   \   000163   F9           MOV     R1,A
   \   000164   E8           MOV     A,R0
   \   000165   24F8         ADD     A,#-0x8
   \   000167   F582         MOV     DPL,A
   \   000169   E9           MOV     A,R1
   \   00016A   34FF         ADDC    A,#-0x1
   \   00016C   F583         MOV     DPH,A
   \   00016E   7400         MOV     A,#0x0
   \   000170   F0           MOVX    @DPTR,A
    603          
    604                
    605                //sprintf(buff, "%s", pkt->cmd.Data);
    606                HalLcdWriteString(data, HAL_LCD_LINE_4); //LCD显示
                                         ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   000171                ; Setup parameters for call to function HalLcdWriteString
   \   000171   7904         MOV     R1,#0x4
   \   000173   7404         MOV     A,#0x4
   \   000175   12....       LCALL   ?XSTACK_DISP0_8
   \   000178   AA82         MOV     R2,DPL
   \   00017A   AB83         MOV     R3,DPH
   \   00017C   12....       LCALL   ??HalLcdWriteString?relay
    607                printf("%s", data);
   \   00017F                ; Setup parameters for call to function printf
   \   00017F   7404         MOV     A,#0x4
   \   000181   12....       LCALL   ?XSTACK_DISP0_8
   \   000184   8582..       MOV     ?V0 + 0,DPL
   \   000187   8583..       MOV     ?V0 + 1,DPH
   \   00018A   78..         MOV     R0,#?V0 + 0
   \   00018C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00018F   7A..         MOV     R2,#`?<Constant "%s">` & 0xff
   \   000191   7B..         MOV     R3,#(`?<Constant "%s">` >> 8) & 0xff
   \   000193   12....       LCALL   ??printf?relay
   \   000196   7402         MOV     A,#0x2
   \   000198   12....       LCALL   ?DEALLOC_XSTACK8
    608                //SampleApp_getIEEEAddr(buff);
    609                //HalLcdWriteString(buff, HAL_LCD_LINE_4); //LCD显示
    610                switch(dataID_int)
   \   00019B   7402         MOV     A,#0x2
   \   00019D   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A0   E0           MOVX    A,@DPTR
   \   0001A1   F5..         MOV     ?V0 + 0,A
   \   0001A3   A3           INC     DPTR
   \   0001A4   E0           MOVX    A,@DPTR
   \   0001A5   F5..         MOV     ?V0 + 1,A
   \   0001A7   78..         MOV     R0,#?V0 + 0
   \   0001A9   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_ProcessMSGCmd>_1`:
   \   0001AC   E903         DW        1001
   \   0001AE   03           DB        3
   \   0001AF   ....         DW        ??SampleApp_ProcessMSGCmd_2
   \   0001B1   ....         DW        ??SampleApp_ProcessMSGCmd_3
   \   0001B3   ....         DW        ??SampleApp_ProcessMSGCmd_2
   \   0001B5   ....         DW        ??SampleApp_ProcessMSGCmd_4
   \   0001B7   ....         DW        ??SampleApp_ProcessMSGCmd_5
    611                {
    612                case 1003://终端向协调器发送IEEE事件，此处自动填写shortAddr映射表DevicesShortAddr，DevicesIEEEAddr
    613                  {
    614                    for(int i=0;i<sizeof(DevicesIEEEAddr)/sizeof(DevicesIEEEAddr[0]);i++)
   \                     ??SampleApp_ProcessMSGCmd_4:
   \   0001B9   75..00       MOV     ?V0 + 0,#0x0
   \   0001BC   75..00       MOV     ?V0 + 1,#0x0
   \                     ??SampleApp_ProcessMSGCmd_6:
   \   0001BF   C3           CLR     C
   \   0001C0   E5..         MOV     A,?V0 + 0
   \   0001C2   9404         SUBB    A,#0x4
   \   0001C4   E5..         MOV     A,?V0 + 1
   \   0001C6   9400         SUBB    A,#0x0
   \   0001C8   4003         JC      $+5
   \   0001CA   02....       LJMP    ??SampleApp_ProcessMSGCmd_2 & 0xFFFF
    615                    {
    616                      if(strncmp((char*)data,(char*)DevicesIEEEAddr[i],16)==0)
   \   0001CD                ; Setup parameters for call to function strncmp
   \   0001CD   75..10       MOV     ?V0 + 2,#0x10
   \   0001D0   75..00       MOV     ?V0 + 3,#0x0
   \   0001D3   78..         MOV     R0,#?V0 + 2
   \   0001D5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001D8   A8..         MOV     R0,?V0 + 0
   \   0001DA   A9..         MOV     R1,?V0 + 1
   \   0001DC   E8           MOV     A,R0
   \   0001DD   75F011       MOV     B,#0x11
   \   0001E0   A4           MUL     AB
   \   0001E1   C8           XCH     A,R0
   \   0001E2   AAF0         MOV     R2,B
   \   0001E4   75F000       MOV     B,#0x0
   \   0001E7   A4           MUL     AB
   \   0001E8   2A           ADD     A,R2
   \   0001E9   FA           MOV     R2,A
   \   0001EA   75F011       MOV     B,#0x11
   \   0001ED   E5..         MOV     A,?V0 + 1
   \   0001EF   A4           MUL     AB
   \   0001F0   2A           ADD     A,R2
   \   0001F1   F9           MOV     R1,A
   \   0001F2   74..         MOV     A,#DevicesIEEEAddr & 0xff
   \   0001F4   28           ADD     A,R0
   \   0001F5   FC           MOV     R4,A
   \   0001F6   74..         MOV     A,#(DevicesIEEEAddr >> 8) & 0xff
   \   0001F8   39           ADDC    A,R1
   \   0001F9   FD           MOV     R5,A
   \   0001FA   7406         MOV     A,#0x6
   \   0001FC   12....       LCALL   ?XSTACK_DISP0_8
   \   0001FF   AA82         MOV     R2,DPL
   \   000201   AB83         MOV     R3,DPH
   \   000203   12....       LCALL   ??strncmp?relay
   \   000206   7402         MOV     A,#0x2
   \   000208   12....       LCALL   ?DEALLOC_XSTACK8
   \   00020B   8A..         MOV     ?V0 + 2,R2
   \   00020D   8B..         MOV     ?V0 + 3,R3
   \   00020F   E5..         MOV     A,?V0 + 2
   \   000211   45..         ORL     A,?V0 + 3
   \   000213   6003         JZ      $+5
   \   000215   02....       LJMP    ??SampleApp_ProcessMSGCmd_7 & 0xFFFF
    617                      {
    618                        DevicesShortAddr[i]=pkt->srcAddr.addr.shortAddr;
   \   000218   8E82         MOV     DPL,R6
   \   00021A   8F83         MOV     DPH,R7
   \   00021C   A3           INC     DPTR
   \   00021D   A3           INC     DPTR
   \   00021E   A3           INC     DPTR
   \   00021F   A3           INC     DPTR
   \   000220   A3           INC     DPTR
   \   000221   A3           INC     DPTR
   \   000222   E0           MOVX    A,@DPTR
   \   000223   FA           MOV     R2,A
   \   000224   A3           INC     DPTR
   \   000225   E0           MOVX    A,@DPTR
   \   000226   FB           MOV     R3,A
   \   000227   A8..         MOV     R0,?V0 + 0
   \   000229   A9..         MOV     R1,?V0 + 1
   \   00022B   E8           MOV     A,R0
   \   00022C   75F002       MOV     B,#0x2
   \   00022F   A4           MUL     AB
   \   000230   C8           XCH     A,R0
   \   000231   ACF0         MOV     R4,B
   \   000233   75F000       MOV     B,#0x0
   \   000236   A4           MUL     AB
   \   000237   2C           ADD     A,R4
   \   000238   FC           MOV     R4,A
   \   000239   75F002       MOV     B,#0x2
   \   00023C   E5..         MOV     A,?V0 + 1
   \   00023E   A4           MUL     AB
   \   00023F   2C           ADD     A,R4
   \   000240   F9           MOV     R1,A
   \   000241   74..         MOV     A,#DevicesShortAddr & 0xff
   \   000243   28           ADD     A,R0
   \   000244   F582         MOV     DPL,A
   \   000246   74..         MOV     A,#(DevicesShortAddr >> 8) & 0xff
   \   000248   39           ADDC    A,R1
   \   000249   F583         MOV     DPH,A
   \   00024B   EA           MOV     A,R2
   \   00024C   F0           MOVX    @DPTR,A
   \   00024D   A3           INC     DPTR
   \   00024E   EB           MOV     A,R3
   \   00024F   F0           MOVX    @DPTR,A
    619                        sprintf((char*)data,"device %d linked",i);
   \   000250                ; Setup parameters for call to function sprintf
   \   000250   78..         MOV     R0,#?V0 + 0
   \   000252   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000255   7C..         MOV     R4,#`?<Constant "device %d linked">` & 0xff
   \   000257   7D..         MOV     R5,#(`?<Constant "device %d linked">` >> 8) & 0xff
   \   000259   7406         MOV     A,#0x6
   \   00025B   12....       LCALL   ?XSTACK_DISP0_8
   \   00025E   AA82         MOV     R2,DPL
   \   000260   AB83         MOV     R3,DPH
   \   000262   12....       LCALL   ??sprintf?relay
   \   000265   7402         MOV     A,#0x2
   \   000267   12....       LCALL   ?DEALLOC_XSTACK8
    620                        //HalLcdWriteString((char*)tmpData,i+1);
    621                        //SampleApp_getIEEEAddr(data);
    622                        //              SampleApp_SendPointToPointMessage(DevicesShortAddr[i],0x1004,tmpData,16);
    623          #ifdef ZDO_COORDINATOR
    624                        if(onenet_login_ok==2)
   \   00026A   90....       MOV     DPTR,#onenet_login_ok
   \   00026D   E0           MOVX    A,@DPTR
   \   00026E   6402         XRL     A,#0x2
   \   000270   7057         JNZ     ??SampleApp_ProcessMSGCmd_8
    625                        {
    626                          sprintf(mqtt_message, "{\"flow\":201,\"msg\":\"%s Linked\"}",DevicesIEEEAddr[i]);
                                         ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   000272                ; Setup parameters for call to function sprintf
   \   000272   E5..         MOV     A,?V0 + 0
   \   000274   75F011       MOV     B,#0x11
   \   000277   A4           MUL     AB
   \   000278   C5..         XCH     A,?V0 + 0
   \   00027A   A8F0         MOV     R0,B
   \   00027C   75F000       MOV     B,#0x0
   \   00027F   A4           MUL     AB
   \   000280   28           ADD     A,R0
   \   000281   F8           MOV     R0,A
   \   000282   75F011       MOV     B,#0x11
   \   000285   E5..         MOV     A,?V0 + 1
   \   000287   A4           MUL     AB
   \   000288   28           ADD     A,R0
   \   000289   F5..         MOV     ?V0 + 1,A
   \   00028B   74..         MOV     A,#DevicesIEEEAddr & 0xff
   \   00028D   25..         ADD     A,?V0 + 0
   \   00028F   F5..         MOV     ?V0 + 0,A
   \   000291   74..         MOV     A,#(DevicesIEEEAddr >> 8) & 0xff
   \   000293   35..         ADDC    A,?V0 + 1
   \   000295   F5..         MOV     ?V0 + 1,A
   \   000297   78..         MOV     R0,#?V0 + 0
   \   000299   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00029C   7C..         MOV     R4,#`?<Constant "{\\"flow\\":201,\\"msg\\":\\"%s...">` & 0xff
   \   00029E   7D..         MOV     R5,#(`?<Constant "{\\"flow\\":201,\\"msg\\":\\"%s...">` >> 8) & 0xff
   \   0002A0   7A..         MOV     R2,#mqtt_message & 0xff
   \   0002A2   7B..         MOV     R3,#(mqtt_message >> 8) & 0xff
   \   0002A4   12....       LCALL   ??sprintf?relay
   \   0002A7   7402         MOV     A,#0x2
   \   0002A9   12....       LCALL   ?DEALLOC_XSTACK8
    627                        OneNet_publish_topic(topics_post, mqtt_message);
                                                    ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

                OneNet_publish_topic(topics_post, mqtt_message);
                                                  ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",627  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"
   \   0002AC                ; Setup parameters for call to function OneNet_publish_topic
   \   0002AC   7C..         MOV     R4,#mqtt_message & 0xff
   \   0002AE   7D..         MOV     R5,#(mqtt_message >> 8) & 0xff
   \   0002B0   7A..         MOV     R2,#topics_post & 0xff
   \   0002B2   7B..         MOV     R3,#(topics_post >> 8) & 0xff
   \   0002B4   12....       LCALL   ??OneNet_publish_topic?relay
   \   0002B7   E9           MOV     A,R1
    628                        }
    629          #endif
    630                        break;
   \   0002B8   800F         SJMP    ??SampleApp_ProcessMSGCmd_8
    631                      }
    632                    }
   \                     ??SampleApp_ProcessMSGCmd_7:
   \   0002BA   E5..         MOV     A,?V0 + 0
   \   0002BC   2401         ADD     A,#0x1
   \   0002BE   F5..         MOV     ?V0 + 0,A
   \   0002C0   E5..         MOV     A,?V0 + 1
   \   0002C2   3400         ADDC    A,#0x0
   \   0002C4   F5..         MOV     ?V0 + 1,A
   \   0002C6   02....       LJMP    ??SampleApp_ProcessMSGCmd_6 & 0xFFFF
    633                  }break;
   \                     ??SampleApp_ProcessMSGCmd_8:
   \   0002C9   02....       LJMP    ??SampleApp_ProcessMSGCmd_2 & 0xFFFF
    634                case 1001://心跳包数据事件
    635                  {
    636                    for(int i=0;i<sizeof(devicesOnline)/sizeof(devicesOnline[0]);i++)
   \                     ??SampleApp_ProcessMSGCmd_3:
   \   0002CC   7800         MOV     R0,#0x0
   \   0002CE   7900         MOV     R1,#0x0
   \                     ??SampleApp_ProcessMSGCmd_9:
   \   0002D0   C3           CLR     C
   \   0002D1   E8           MOV     A,R0
   \   0002D2   9404         SUBB    A,#0x4
   \   0002D4   E9           MOV     A,R1
   \   0002D5   9400         SUBB    A,#0x0
   \   0002D7   5071         JNC     ??SampleApp_ProcessMSGCmd_10
    637                    {
    638                      if(pkt->srcAddr.addr.shortAddr == DevicesShortAddr[i])
   \   0002D9   8E82         MOV     DPL,R6
   \   0002DB   8F83         MOV     DPH,R7
   \   0002DD   A3           INC     DPTR
   \   0002DE   A3           INC     DPTR
   \   0002DF   A3           INC     DPTR
   \   0002E0   A3           INC     DPTR
   \   0002E1   A3           INC     DPTR
   \   0002E2   A3           INC     DPTR
   \   0002E3   E0           MOVX    A,@DPTR
   \   0002E4   FC           MOV     R4,A
   \   0002E5   A3           INC     DPTR
   \   0002E6   E0           MOVX    A,@DPTR
   \   0002E7   FD           MOV     R5,A
   \   0002E8   E8           MOV     A,R0
   \   0002E9   FA           MOV     R2,A
   \   0002EA   E9           MOV     A,R1
   \   0002EB   FB           MOV     R3,A
   \   0002EC   EA           MOV     A,R2
   \   0002ED   75F002       MOV     B,#0x2
   \   0002F0   A4           MUL     AB
   \   0002F1   CA           XCH     A,R2
   \   0002F2   85F0..       MOV     ?V0 + 0,B
   \   0002F5   75F000       MOV     B,#0x0
   \   0002F8   A4           MUL     AB
   \   0002F9   25..         ADD     A,?V0 + 0
   \   0002FB   F5..         MOV     ?V0 + 0,A
   \   0002FD   75F002       MOV     B,#0x2
   \   000300   EB           MOV     A,R3
   \   000301   A4           MUL     AB
   \   000302   25..         ADD     A,?V0 + 0
   \   000304   FB           MOV     R3,A
   \   000305   74..         MOV     A,#DevicesShortAddr & 0xff
   \   000307   2A           ADD     A,R2
   \   000308   F582         MOV     DPL,A
   \   00030A   74..         MOV     A,#(DevicesShortAddr >> 8) & 0xff
   \   00030C   3B           ADDC    A,R3
   \   00030D   F583         MOV     DPH,A
   \   00030F   E0           MOVX    A,@DPTR
   \   000310   6C           XRL     A,R4
   \   000311   7003         JNZ     ??SampleApp_ProcessMSGCmd_11
   \   000313   A3           INC     DPTR
   \   000314   E0           MOVX    A,@DPTR
   \   000315   6D           XRL     A,R5
   \                     ??SampleApp_ProcessMSGCmd_11:
   \   000316   7028         JNZ     ??SampleApp_ProcessMSGCmd_12
    639                      {
    640                        devicesOnline[i]=1;//发现心跳终端来信，即设置对应在线状态为在线
   \   000318   E8           MOV     A,R0
   \   000319   75F002       MOV     B,#0x2
   \   00031C   A4           MUL     AB
   \   00031D   C8           XCH     A,R0
   \   00031E   AAF0         MOV     R2,B
   \   000320   75F000       MOV     B,#0x0
   \   000323   A4           MUL     AB
   \   000324   2A           ADD     A,R2
   \   000325   FA           MOV     R2,A
   \   000326   75F002       MOV     B,#0x2
   \   000329   E9           MOV     A,R1
   \   00032A   A4           MUL     AB
   \   00032B   2A           ADD     A,R2
   \   00032C   F9           MOV     R1,A
   \   00032D   74..         MOV     A,#devicesOnline & 0xff
   \   00032F   28           ADD     A,R0
   \   000330   F582         MOV     DPL,A
   \   000332   74..         MOV     A,#(devicesOnline >> 8) & 0xff
   \   000334   39           ADDC    A,R1
   \   000335   F583         MOV     DPH,A
   \   000337   7401         MOV     A,#0x1
   \   000339   F0           MOVX    @DPTR,A
   \   00033A   A3           INC     DPTR
   \   00033B   7400         MOV     A,#0x0
   \   00033D   F0           MOVX    @DPTR,A
    641                        break;
   \   00033E   800A         SJMP    ??SampleApp_ProcessMSGCmd_10
    642                      }
    643                    }
   \                     ??SampleApp_ProcessMSGCmd_12:
   \   000340   E8           MOV     A,R0
   \   000341   2401         ADD     A,#0x1
   \   000343   F8           MOV     R0,A
   \   000344   E9           MOV     A,R1
   \   000345   3400         ADDC    A,#0x0
   \   000347   F9           MOV     R1,A
   \   000348   8086         SJMP    ??SampleApp_ProcessMSGCmd_9
    644                    
    645                  }break;
   \                     ??SampleApp_ProcessMSGCmd_10:
   \   00034A   8076         SJMP    ??SampleApp_ProcessMSGCmd_2
    646                case 1002://协调器向终端发送按键消息
    647                  {
    648                    
    649                  }break;
    650                case 1004://终端收到协调器向终端转发的mqtt消息
    651                  {
    652                    if(NULL!=strstr(data,"switch1,1"))//判断消息设置开关switch1命令为开
                                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessMSGCmd_5:
   \   00034C                ; Setup parameters for call to function strstr
   \   00034C   7C..         MOV     R4,#`?<Constant "switch1,1">` & 0xff
   \   00034E   7D..         MOV     R5,#(`?<Constant "switch1,1">` >> 8) & 0xff
   \   000350   7404         MOV     A,#0x4
   \   000352   12....       LCALL   ?XSTACK_DISP0_8
   \   000355   AA82         MOV     R2,DPL
   \   000357   AB83         MOV     R3,DPH
   \   000359   12....       LCALL   ??strstr?relay
   \   00035C   8A..         MOV     ?V0 + 0,R2
   \   00035E   8B..         MOV     ?V0 + 1,R3
   \   000360   E5..         MOV     A,?V0 + 0
   \   000362   45..         ORL     A,?V0 + 1
   \   000364   6004         JZ      ??SampleApp_ProcessMSGCmd_13
    653                    {
    654                      P0_5 = 1;
   \   000366   D285         SETB    0x80.5
   \   000368   8058         SJMP    ??SampleApp_ProcessMSGCmd_2
    655                    }
    656                    else if(NULL!=strstr(data,"switch1,0"))//判断消息设置开关switch1命令为关
                                                ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessMSGCmd_13:
   \   00036A                ; Setup parameters for call to function strstr
   \   00036A   7C..         MOV     R4,#`?<Constant "switch1,0">` & 0xff
   \   00036C   7D..         MOV     R5,#(`?<Constant "switch1,0">` >> 8) & 0xff
   \   00036E   7404         MOV     A,#0x4
   \   000370   12....       LCALL   ?XSTACK_DISP0_8
   \   000373   AA82         MOV     R2,DPL
   \   000375   AB83         MOV     R3,DPH
   \   000377   12....       LCALL   ??strstr?relay
   \   00037A   8A..         MOV     ?V0 + 0,R2
   \   00037C   8B..         MOV     ?V0 + 1,R3
   \   00037E   E5..         MOV     A,?V0 + 0
   \   000380   45..         ORL     A,?V0 + 1
   \   000382   6004         JZ      ??SampleApp_ProcessMSGCmd_14
    657                    {
    658                      P0_5 = 0;
   \   000384   C285         CLR     0x80.5
   \   000386   803A         SJMP    ??SampleApp_ProcessMSGCmd_2
    659                    }
    660                    else if(NULL!=strstr(data,"switch2,1"))//判断消息设置开关switch2命令为关开
                                                ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessMSGCmd_14:
   \   000388                ; Setup parameters for call to function strstr
   \   000388   7C..         MOV     R4,#`?<Constant "switch2,1">` & 0xff
   \   00038A   7D..         MOV     R5,#(`?<Constant "switch2,1">` >> 8) & 0xff
   \   00038C   7404         MOV     A,#0x4
   \   00038E   12....       LCALL   ?XSTACK_DISP0_8
   \   000391   AA82         MOV     R2,DPL
   \   000393   AB83         MOV     R3,DPH
   \   000395   12....       LCALL   ??strstr?relay
   \   000398   8A..         MOV     ?V0 + 0,R2
   \   00039A   8B..         MOV     ?V0 + 1,R3
   \   00039C   E5..         MOV     A,?V0 + 0
   \   00039E   45..         ORL     A,?V0 + 1
   \   0003A0   6004         JZ      ??SampleApp_ProcessMSGCmd_15
    661                    {
    662                      P0_7 = 1;
   \   0003A2   D287         SETB    0x80.7
   \   0003A4   801C         SJMP    ??SampleApp_ProcessMSGCmd_2
    663                    }
    664                    else if(NULL!=strstr(data,"switch2,0"))//判断消息设置开关switch2命令为关
                                                ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_ProcessMSGCmd_15:
   \   0003A6                ; Setup parameters for call to function strstr
   \   0003A6   7C..         MOV     R4,#`?<Constant "switch2,0">` & 0xff
   \   0003A8   7D..         MOV     R5,#(`?<Constant "switch2,0">` >> 8) & 0xff
   \   0003AA   7404         MOV     A,#0x4
   \   0003AC   12....       LCALL   ?XSTACK_DISP0_8
   \   0003AF   AA82         MOV     R2,DPL
   \   0003B1   AB83         MOV     R3,DPH
   \   0003B3   12....       LCALL   ??strstr?relay
   \   0003B6   8A..         MOV     ?V0 + 0,R2
   \   0003B8   8B..         MOV     ?V0 + 1,R3
   \   0003BA   E5..         MOV     A,?V0 + 0
   \   0003BC   45..         ORL     A,?V0 + 1
   \   0003BE   6002         JZ      ??SampleApp_ProcessMSGCmd_2
    665                    {
    666                      P0_7 = 0;
   \   0003C0   C287         CLR     0x80.7
    667                    }
    668                  }break;
    669                }
    670          #ifdef ZDO_COORDINATOR
    671                if(onenet_login_ok==3)
   \                     ??SampleApp_ProcessMSGCmd_2:
   \   0003C2   90....       MOV     DPTR,#onenet_login_ok
   \   0003C5   E0           MOVX    A,@DPTR
   \   0003C6   6403         XRL     A,#0x3
   \   0003C8   7020         JNZ     ??SampleApp_ProcessMSGCmd_0
    672                {
    673                  //发送温湿度数据到onenet
    674                  //    OneNet_SendData(end_temp, end_hum);
    675                  
    676                  sprintf(mqtt_message, 
                                 ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
    677                          "{\"method\":\"thing.service.property.set\",\"id\":\"630262306\",\"params\":{\
    678                            \"code\":\"%s\"\
    679                },\"version\":\"1.0.0\"}",
    680                data);
   \   0003CA                ; Setup parameters for call to function sprintf
   \   0003CA   7404         MOV     A,#0x4
   \   0003CC   12....       LCALL   ?XSTACK_DISP0_8
   \   0003CF   8582..       MOV     ?V0 + 0,DPL
   \   0003D2   8583..       MOV     ?V0 + 1,DPH
   \   0003D5   78..         MOV     R0,#?V0 + 0
   \   0003D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003DA   7C..         MOV     R4,#`?<Constant "{\\"method\\":\\"thing.serv...">_1` & 0xff
   \   0003DC   7D..         MOV     R5,#(`?<Constant "{\\"method\\":\\"thing.serv...">_1` >> 8) & 0xff
   \   0003DE   7A..         MOV     R2,#mqtt_message & 0xff
   \   0003E0   7B..         MOV     R3,#(mqtt_message >> 8) & 0xff
   \   0003E2   12....       LCALL   ??sprintf?relay
   \   0003E5   7402         MOV     A,#0x2
   \   0003E7   12....       LCALL   ?DEALLOC_XSTACK8
    681                //mqtt_publish_topic(topics_post, mqtt_message);
    682                
    683                //  OneNet_publish_topic();
    684                }
    685          #endif
    686              }break;
    687              
    688            case SAMPLEAPP_PERIODIC_CLUSTERID:
    689              
    690              break;
    691              
    692            default:
    693              break;
    694            }
    695          }
   \                     ??SampleApp_ProcessMSGCmd_0:
   \   0003EA   74CC         MOV     A,#-0x34
   \   0003EC   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003EF   7F04         MOV     R7,#0x4
   \   0003F1   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   0003F4                REQUIRE _A_P0
    696          
    697          #ifdef ZDO_COORDINATOR
    698          
    699          //发送MQTT数据

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    700          void ESP8266_SendData(char* buff, int len)
   \                     ESP8266_SendData:
    701          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
    702            if(len==0) return;
   \   00000D   EE           MOV     A,R6
   \   00000E   4F           ORL     A,R7
   \   00000F   600D         JZ      ??ESP8266_SendData_0
    703            
    704            HalUARTWrite(0,buff, len);
                                  ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "unsigned char *"
   \   000011                ; Setup parameters for call to function HalUARTWrite
   \   000011   EE           MOV     A,R6
   \   000012   FC           MOV     R4,A
   \   000013   EF           MOV     A,R7
   \   000014   FD           MOV     R5,A
   \   000015   AA..         MOV     R2,?V0 + 0
   \   000017   AB..         MOV     R3,?V0 + 1
   \   000019   7900         MOV     R1,#0x0
   \   00001B   12....       LCALL   ??HalUARTWrite?relay
    705          }
   \                     ??ESP8266_SendData_0:
   \   00001E   7F02         MOV     R7,#0x2
   \   000020   02....       LJMP    ?BANKED_LEAVE_XDATA
    706          
    707          
    708          //接收到下发命令，或者接收到订阅的消息
    709          //topic:收到的主题
    710          //cmd::主题对应的内容

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    711          void mqtt_rx(uint8* topic, uint8* cmd)
   \                     mqtt_rx:
    712          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 300
   \   000005   7582D4       MOV     DPL,#-0x2c
   \   000008   7583FE       MOV     DPH,#-0x2
   \   00000B   12....       LCALL   ?ADD_XSTACK_DISP0_16
   \   00000E   8A..         MOV     ?V0 + 2,R2
   \   000010   8B..         MOV     ?V0 + 3,R3
   \   000012   8C..         MOV     ?V0 + 0,R4
   \   000014   8D..         MOV     ?V0 + 1,R5
    713            
    714            /*
    715            /a1xaMw4YerO/device/user/receive
    716            {
    717          "msg":"balabala",
    718            "flow":201  //201表示数据流转方向为设备2流向设备1
    719          }
    720            */
    721            
    722             HalLcdWriteString((char*)topic, HAL_LCD_LINE_1); //LCD显示
   \   000016                ; Setup parameters for call to function HalLcdWriteString
   \   000016   7901         MOV     R1,#0x1
   \   000018   AA..         MOV     R2,?V0 + 2
   \   00001A   AB..         MOV     R3,?V0 + 3
   \   00001C   12....       LCALL   ??HalLcdWriteString?relay
    723            HalLcdWriteString((char*)cmd, HAL_LCD_LINE_2); //LCD显示
   \   00001F                ; Setup parameters for call to function HalLcdWriteString
   \   00001F   7902         MOV     R1,#0x2
   \   000021   AA..         MOV     R2,?V0 + 0
   \   000023   AB..         MOV     R3,?V0 + 1
   \   000025   12....       LCALL   ??HalLcdWriteString?relay
    724            if(topic == NULL || cmd==NULL) return;
   \   000028   E5..         MOV     A,?V0 + 2
   \   00002A   45..         ORL     A,?V0 + 3
   \   00002C   6006         JZ      ??mqtt_rx_0
   \   00002E   E5..         MOV     A,?V0 + 0
   \   000030   45..         ORL     A,?V0 + 1
   \   000032   7003         JNZ     ??mqtt_rx_1
   \                     ??mqtt_rx_0:
   \   000034   02....       LJMP    ??mqtt_rx_2 & 0xFFFF
    725            uint8 buff[100]={0};
   \                     ??mqtt_rx_1:
   \   000037   90....       MOV     DPTR,#`?<Constant {0}>_3`
   \   00003A   C082         PUSH    DPL
   \   00003C   C083         PUSH    DPH
   \   00003E   74C8         MOV     A,#-0x38
   \   000040   12....       LCALL   ?XSTACK_DISP0_8
   \   000043   AC82         MOV     R4,DPL
   \   000045   AD83         MOV     R5,DPH
   \   000047   D083         POP     DPH
   \   000049   D082         POP     DPL
   \   00004B   7464         MOV     A,#0x64
   \   00004D   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    726            uint8 method[100]={0};
   \   000050   90....       MOV     DPTR,#`?<Constant {0}>_4`
   \   000053   C082         PUSH    DPL
   \   000055   C083         PUSH    DPH
   \   000057   7464         MOV     A,#0x64
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   AC82         MOV     R4,DPL
   \   00005E   AD83         MOV     R5,DPH
   \   000060   D083         POP     DPH
   \   000062   D082         POP     DPL
   \   000064   7464         MOV     A,#0x64
   \   000066   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    727            uint8 msg[100]={0};
   \   000069   90....       MOV     DPTR,#`?<Constant {0}>_5`
   \   00006C   C082         PUSH    DPL
   \   00006E   C083         PUSH    DPH
   \   000070   85..82       MOV     DPL,?XSP + 0
   \   000073   85..83       MOV     DPH,?XSP + 1
   \   000076   AC82         MOV     R4,DPL
   \   000078   AD83         MOV     R5,DPH
   \   00007A   D083         POP     DPH
   \   00007C   D082         POP     DPL
   \   00007E   7464         MOV     A,#0x64
   \   000080   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    728            uint8* p_buff = NULL;
   \   000083   7E00         MOV     R6,#0x0
   \   000085   7F00         MOV     R7,#0x0
    729            memcpy(buff,topic,strlen(topic)+1);
                                            ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000087                ; Setup parameters for call to function memcpy
   \   000087                ; Setup parameters for call to function strlen
   \   000087   AA..         MOV     R2,?V0 + 2
   \   000089   AB..         MOV     R3,?V0 + 3
   \   00008B   12....       LCALL   ??strlen?relay
   \   00008E   8A..         MOV     ?V0 + 4,R2
   \   000090   8B..         MOV     ?V0 + 5,R3
   \   000092   E5..         MOV     A,?V0 + 4
   \   000094   2401         ADD     A,#0x1
   \   000096   F5..         MOV     ?V0 + 4,A
   \   000098   E5..         MOV     A,?V0 + 5
   \   00009A   3400         ADDC    A,#0x0
   \   00009C   F5..         MOV     ?V0 + 5,A
   \   00009E   78..         MOV     R0,#?V0 + 4
   \   0000A0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A3   AC..         MOV     R4,?V0 + 2
   \   0000A5   AD..         MOV     R5,?V0 + 3
   \   0000A7   74CA         MOV     A,#-0x36
   \   0000A9   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AC   AA82         MOV     R2,DPL
   \   0000AE   AB83         MOV     R3,DPH
   \   0000B0   12....       LCALL   ??memcpy?relay
   \   0000B3   7402         MOV     A,#0x2
   \   0000B5   12....       LCALL   ?DEALLOC_XSTACK8
    730            p_buff = strrchr(buff,'/')+1;
                                    ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

    p_buff = strrchr(buff,'/')+1;
           ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",730  Warning[Pe513]: 
          a value of type "char *" cannot be assigned to an entity of type
          "unsigned char *"
   \   0000B8                ; Setup parameters for call to function strrchr
   \   0000B8   7C2F         MOV     R4,#0x2f
   \   0000BA   7D00         MOV     R5,#0x0
   \   0000BC   74C8         MOV     A,#-0x38
   \   0000BE   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C1   AA82         MOV     R2,DPL
   \   0000C3   AB83         MOV     R3,DPH
   \   0000C5   12....       LCALL   ??strrchr?relay
   \   0000C8   8A82         MOV     DPL,R2
   \   0000CA   8B83         MOV     DPH,R3
   \   0000CC   A3           INC     DPTR
   \   0000CD   AE82         MOV     R6,DPL
   \   0000CF   AF83         MOV     R7,DPH
    731            memcpy(method,p_buff,strlen(p_buff)+1);
                                               ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0000D1                ; Setup parameters for call to function memcpy
   \   0000D1                ; Setup parameters for call to function strlen
   \   0000D1   EE           MOV     A,R6
   \   0000D2   FA           MOV     R2,A
   \   0000D3   EF           MOV     A,R7
   \   0000D4   FB           MOV     R3,A
   \   0000D5   12....       LCALL   ??strlen?relay
   \   0000D8   8A..         MOV     ?V0 + 4,R2
   \   0000DA   8B..         MOV     ?V0 + 5,R3
   \   0000DC   E5..         MOV     A,?V0 + 4
   \   0000DE   2401         ADD     A,#0x1
   \   0000E0   F5..         MOV     ?V0 + 4,A
   \   0000E2   E5..         MOV     A,?V0 + 5
   \   0000E4   3400         ADDC    A,#0x0
   \   0000E6   F5..         MOV     ?V0 + 5,A
   \   0000E8   78..         MOV     R0,#?V0 + 4
   \   0000EA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000ED   EE           MOV     A,R6
   \   0000EE   FC           MOV     R4,A
   \   0000EF   EF           MOV     A,R7
   \   0000F0   FD           MOV     R5,A
   \   0000F1   7466         MOV     A,#0x66
   \   0000F3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F6   AA82         MOV     R2,DPL
   \   0000F8   AB83         MOV     R3,DPH
   \   0000FA   12....       LCALL   ??memcpy?relay
   \   0000FD   7402         MOV     A,#0x2
   \   0000FF   12....       LCALL   ?DEALLOC_XSTACK8
    732          
    733            
    734            if(0==strcmp(method,"receive"))
                                ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000102                ; Setup parameters for call to function strcmp
   \   000102   7C..         MOV     R4,#`?<Constant "receive">` & 0xff
   \   000104   7D..         MOV     R5,#(`?<Constant "receive">` >> 8) & 0xff
   \   000106   7464         MOV     A,#0x64
   \   000108   12....       LCALL   ?XSTACK_DISP0_8
   \   00010B   AA82         MOV     R2,DPL
   \   00010D   AB83         MOV     R3,DPH
   \   00010F   12....       LCALL   ??strcmp?relay
   \   000112   8A..         MOV     ?V0 + 4,R2
   \   000114   8B..         MOV     ?V0 + 5,R3
   \   000116   E5..         MOV     A,?V0 + 4
   \   000118   45..         ORL     A,?V0 + 5
   \   00011A   7052         JNZ     ??mqtt_rx_2
    735            {
    736          //          memcpy(MqttRecMsg,cmd,strlen(cmd));  
    737          //          osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_COOR_CHECK_MQTT_EVT,1000);
    738          //          //不知道啥原因，一旦发送消息触发SAMPLEAPP_COOR_CHECK_MQTT_EVT事件，似乎协调器就会死机无法继续发送消息至终端，按键事件也无法发送
    739          //          HalLcdWriteString((char*)MqttRecMsg, HAL_LCD_LINE_3);
    740              if(MqttRecMsg[0]=='\0')
   \   00011C   90....       MOV     DPTR,#MqttRecMsg
   \   00011F   E0           MOVX    A,@DPTR
   \   000120   703C         JNZ     ??mqtt_rx_3
    741                  {
    742                    memcpy(MqttRecMsg,cmd,strlen(cmd));  
                                                        ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

    uint8 msg[100]={0};
          ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",727  Warning[Pe177]: 
          variable "msg" was declared but never referenced
   \   000122                ; Setup parameters for call to function memcpy
   \   000122                ; Setup parameters for call to function strlen
   \   000122   AA..         MOV     R2,?V0 + 0
   \   000124   AB..         MOV     R3,?V0 + 1
   \   000126   12....       LCALL   ??strlen?relay
   \   000129   8A..         MOV     ?V0 + 4,R2
   \   00012B   8B..         MOV     ?V0 + 5,R3
   \   00012D   78..         MOV     R0,#?V0 + 4
   \   00012F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000132   AC..         MOV     R4,?V0 + 0
   \   000134   AD..         MOV     R5,?V0 + 1
   \   000136   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   000138   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   00013A   12....       LCALL   ??memcpy?relay
   \   00013D   7402         MOV     A,#0x2
   \   00013F   12....       LCALL   ?DEALLOC_XSTACK8
    743                    osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_COOR_CHECK_MQTT_EVT,10 );
   \   000142                ; Setup parameters for call to function osal_start_timerEx
   \   000142   7C0A         MOV     R4,#0xa
   \   000144   7D00         MOV     R5,#0x0
   \   000146   7A20         MOV     R2,#0x20
   \   000148   7B00         MOV     R3,#0x0
   \   00014A   90....       MOV     DPTR,#SampleApp_TaskID
   \   00014D   E0           MOVX    A,@DPTR
   \   00014E   F9           MOV     R1,A
   \   00014F   12....       LCALL   ??osal_start_timerEx?relay
   \   000152   E9           MOV     A,R1
    744                    HalLcdWriteString((char*)MqttRecMsg, HAL_LCD_LINE_3);
   \   000153                ; Setup parameters for call to function HalLcdWriteString
   \   000153   7903         MOV     R1,#0x3
   \   000155   7A..         MOV     R2,#MqttRecMsg & 0xff
   \   000157   7B..         MOV     R3,#(MqttRecMsg >> 8) & 0xff
   \   000159   12....       LCALL   ??HalLcdWriteString?relay
   \   00015C   8010         SJMP    ??mqtt_rx_2
    745                  }
    746                  else{
    747                    //osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_COOR_CHECK_MQTT_EVT,5 );
    748                  Response2mqtt("too many msg, hold on");
   \                     ??mqtt_rx_3:
   \   00015E                ; Setup parameters for call to function Response2mqtt
   \   00015E   7A..         MOV     R2,#`?<Constant "too many msg, hold on">` & 0xff
   \   000160   7B..         MOV     R3,#(`?<Constant "too many msg, hold on">` >> 8) & 0xff
   \   000162   12....       LCALL   ??Response2mqtt?relay
    749                  HalLcdWriteString("too many msg", HAL_LCD_LINE_4);
   \   000165                ; Setup parameters for call to function HalLcdWriteString
   \   000165   7904         MOV     R1,#0x4
   \   000167   7A..         MOV     R2,#`?<Constant "too many msg">` & 0xff
   \   000169   7B..         MOV     R3,#(`?<Constant "too many msg">` >> 8) & 0xff
   \   00016B   12....       LCALL   ??HalLcdWriteString?relay
    750                  }
    751            }
    752           
    753          
    754            //HalLcdWriteString((char*)topic, HAL_LCD_LINE_1); //LCD显示
    755            //HalLcdWriteString((char*)msg, HAL_LCD_LINE_2); //LCD显示
    756          
    757          }
   \                     ??mqtt_rx_2:
   \   00016E   92F0         MOV     B.0,C
   \   000170   75822C       MOV     DPL,#0x2c
   \   000173   758301       MOV     DPH,#0x1
   \   000176   12....       LCALL   ?ADD_XSTACK_DISP0_16
   \   000179   A2F0         MOV     C,B.0
   \   00017B   7F06         MOV     R7,#0x6
   \   00017D   02....       LJMP    ?BANKED_LEAVE_XDATA
    758          
    759          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    760          void Response2mqtt(uint8* returnMsg)
   \                     Response2mqtt:
    761          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    762              sprintf(mqtt_message,"{\"msg\":\"%s\",\"flow\":201}",returnMsg);  
                             ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   000009                ; Setup parameters for call to function sprintf
   \   000009   78..         MOV     R0,#?V0 + 0
   \   00000B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00000E   7C..         MOV     R4,#`?<Constant "{\\"msg\\":\\"%s\\",\\"flow\\":201}">` & 0xff
   \   000010   7D..         MOV     R5,#(`?<Constant "{\\"msg\\":\\"%s\\",\\"flow\\":201}">` >> 8) & 0xff
   \   000012   7A..         MOV     R2,#mqtt_message & 0xff
   \   000014   7B..         MOV     R3,#(mqtt_message >> 8) & 0xff
   \   000016   12....       LCALL   ??sprintf?relay
   \   000019   7402         MOV     A,#0x2
   \   00001B   12....       LCALL   ?DEALLOC_XSTACK8
    763                  
    764                //发布主题
    765                mqtt_publish_topic(topics_post, mqtt_message);
                                          ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

        mqtt_publish_topic(topics_post, mqtt_message);
                                        ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",765  Warning[Pe167]: 
          argument of type "unsigned char *" is incompatible with parameter of
          type "char const *"
   \   00001E                ; Setup parameters for call to function mqtt_publish_topic
   \   00001E   7C..         MOV     R4,#mqtt_message & 0xff
   \   000020   7D..         MOV     R5,#(mqtt_message >> 8) & 0xff
   \   000022   7A..         MOV     R2,#topics_post & 0xff
   \   000024   7B..         MOV     R3,#(topics_post >> 8) & 0xff
   \   000026   12....       LCALL   ??mqtt_publish_topic?relay
    766                
    767          }
   \   000029   7F02         MOV     R7,#0x2
   \   00002B   02....       LJMP    ?BANKED_LEAVE_XDATA
    768          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    769          bool OneNet_publish_topic(const char *topic, const char *msg)
   \                     OneNet_publish_topic:
    770          { 
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
    771            //uint8 buff[100]={0};
    772            
    773            //sprintf(buff, "topic:%s,msg:%s", topic, msg);
    774            
    775            /*  发布主题为"hello_topic_public"，消息为温度和湿度 */
    776            return mqtt_publish_topic(topic, msg);
   \   00000D                ; Setup parameters for call to function mqtt_publish_topic
   \   00000D   EE           MOV     A,R6
   \   00000E   FC           MOV     R4,A
   \   00000F   EF           MOV     A,R7
   \   000010   FD           MOV     R5,A
   \   000011   AA..         MOV     R2,?V0 + 0
   \   000013   AB..         MOV     R3,?V0 + 1
   \   000015   12....       LCALL   ??mqtt_publish_topic?relay
   \   000018   E4           CLR     A
   \   000019   33           RLC     A
   \   00001A   F9           MOV     R1,A
   \   00001B   7F02         MOV     R7,#0x2
   \   00001D   02....       LJMP    ?BANKED_LEAVE_XDATA
    777          }
    778          
    779          
    780          
    781          /*********************************************************************
    782          * @fn      SampleApp_CallBack
    783          *
    784          * @brief   Send data OTA.
    785          *
    786          * @param   port - UART port.
    787          * @param   event - the UART port event flag.
    788          *
    789          * @return  none
    790          */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    791          uint32 lastReadMs=0;
   \                     lastReadMs:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    792          void SampleApp_CallBack(uint8 port, uint8 event)
   \                     SampleApp_CallBack:
    793          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
    794            (void)port;
    795            
    796            if(0==onenet_login_ok)
   \   000009   90....       MOV     DPTR,#onenet_login_ok
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   7027         JNZ     ??SampleApp_CallBack_0
    797            {
    798              HalUARTRead(SAMPLE_APP_PORT, SampleApp_RxBuf, SAMPLE_APP_RX_MAX);
   \   00000F                ; Setup parameters for call to function HalUARTRead
   \   00000F   7C2C         MOV     R4,#0x2c
   \   000011   7D01         MOV     R5,#0x1
   \   000013   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   000015   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   000017   7900         MOV     R1,#0x0
   \   000019   12....       LCALL   ??HalUARTRead?relay
    799              SampleApp_RxLen=0;
   \   00001C   90....       MOV     DPTR,#SampleApp_RxLen
   \   00001F   7400         MOV     A,#0x0
   \   000021   F0           MOVX    @DPTR,A
   \   000022   A3           INC     DPTR
   \   000023   7400         MOV     A,#0x0
   \   000025   F0           MOVX    @DPTR,A
    800              osal_memset(SampleApp_RxBuf, 0, SAMPLE_APP_RX_MAX);
   \   000026                ; Setup parameters for call to function osal_memset
   \   000026   7C2C         MOV     R4,#0x2c
   \   000028   7D01         MOV     R5,#0x1
   \   00002A   7900         MOV     R1,#0x0
   \   00002C   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   00002E   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   000030   12....       LCALL   ??osal_memset?relay
   \   000033   02....       LJMP    ??SampleApp_CallBack_1 & 0xFFFF
    801            }
    802            else if(1==onenet_login_ok)//onenet注册成功 0:未注册，1：注册中　2：注册成功
   \                     ??SampleApp_CallBack_0:
   \   000036   90....       MOV     DPTR,#onenet_login_ok
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   6401         XRL     A,#0x1
   \   00003C   6003         JZ      $+5
   \   00003E   02....       LJMP    ??SampleApp_CallBack_2 & 0xFFFF
    803            {
    804              //一个一个字节读
    805              SampleApp_RxLen += HalUARTRead(SAMPLE_APP_PORT, SampleApp_RxBuf+SampleApp_RxLen, 4);
   \   000041                ; Setup parameters for call to function HalUARTRead
   \   000041   7C04         MOV     R4,#0x4
   \   000043   7D00         MOV     R5,#0x0
   \   000045   90....       MOV     DPTR,#SampleApp_RxLen
   \   000048   E0           MOVX    A,@DPTR
   \   000049   24..         ADD     A,#SampleApp_RxBuf & 0xff
   \   00004B   FA           MOV     R2,A
   \   00004C   A3           INC     DPTR
   \   00004D   E0           MOVX    A,@DPTR
   \   00004E   34..         ADDC    A,#(SampleApp_RxBuf >> 8) & 0xff
   \   000050   FB           MOV     R3,A
   \   000051   7900         MOV     R1,#0x0
   \   000053   12....       LCALL   ??HalUARTRead?relay
   \   000056   8A..         MOV     ?V0 + 0,R2
   \   000058   8B..         MOV     ?V0 + 1,R3
   \   00005A   A8..         MOV     R0,?V0 + 0
   \   00005C   A9..         MOV     R1,?V0 + 1
   \   00005E   90....       MOV     DPTR,#SampleApp_RxLen
   \   000061   E0           MOVX    A,@DPTR
   \   000062   28           ADD     A,R0
   \   000063   F0           MOVX    @DPTR,A
   \   000064   A3           INC     DPTR
   \   000065   E0           MOVX    A,@DPTR
   \   000066   39           ADDC    A,R1
   \   000067   F0           MOVX    @DPTR,A
    806              
    807              //判断是否是注册成功
    808              if(SampleApp_RxLen>=4)
   \   000068   90....       MOV     DPTR,#SampleApp_RxLen
   \   00006B   C3           CLR     C
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   9404         SUBB    A,#0x4
   \   00006F   A3           INC     DPTR
   \   000070   E0           MOVX    A,@DPTR
   \   000071   9400         SUBB    A,#0x0
   \   000073   4079         JC      ??SampleApp_CallBack_3
    809              {
    810                debug("rx len=%d(%x,%x,%x,%x)\r\n", SampleApp_RxLen,SampleApp_RxBuf[0],SampleApp_RxBuf[1],SampleApp_RxBuf[2],SampleApp_RxBuf[3]);
   \   000075                ; Setup parameters for call to function debug
   \   000075   90....       MOV     DPTR,#SampleApp_RxBuf + 3
   \   000078   E0           MOVX    A,@DPTR
   \   000079   F5..         MOV     ?V0 + 0,A
   \   00007B   75..00       MOV     ?V0 + 1,#0x0
   \   00007E   78..         MOV     R0,#?V0 + 0
   \   000080   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000083   90....       MOV     DPTR,#SampleApp_RxBuf + 2
   \   000086   E0           MOVX    A,@DPTR
   \   000087   F5..         MOV     ?V0 + 0,A
   \   000089   75..00       MOV     ?V0 + 1,#0x0
   \   00008C   78..         MOV     R0,#?V0 + 0
   \   00008E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000091   90....       MOV     DPTR,#SampleApp_RxBuf + 1
   \   000094   E0           MOVX    A,@DPTR
   \   000095   F5..         MOV     ?V0 + 0,A
   \   000097   75..00       MOV     ?V0 + 1,#0x0
   \   00009A   78..         MOV     R0,#?V0 + 0
   \   00009C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009F   90....       MOV     DPTR,#SampleApp_RxBuf
   \   0000A2   E0           MOVX    A,@DPTR
   \   0000A3   F5..         MOV     ?V0 + 0,A
   \   0000A5   75..00       MOV     ?V0 + 1,#0x0
   \   0000A8   78..         MOV     R0,#?V0 + 0
   \   0000AA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AD   90....       MOV     DPTR,#SampleApp_RxLen
   \   0000B0   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000B3   7A..         MOV     R2,#`?<Constant "rx len=%d(%x,%x,%x,%x)\\r\\n">` & 0xff
   \   0000B5   7B..         MOV     R3,#(`?<Constant "rx len=%d(%x,%x,%x,%x)\\r\\n">` >> 8) & 0xff
   \   0000B7   12....       LCALL   ??debug?relay
   \   0000BA   740A         MOV     A,#0xa
   \   0000BC   12....       LCALL   ?DEALLOC_XSTACK8
    811                
    812                //等待接入响应
    813                if(MQTT_UnPacketRecv(SampleApp_RxBuf) == MQTT_PKT_CONNACK)
   \   0000BF                ; Setup parameters for call to function MQTT_UnPacketRecv
   \   0000BF   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   0000C1   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   0000C3   12....       LCALL   ??MQTT_UnPacketRecv?relay
   \   0000C6   E9           MOV     A,R1
   \   0000C7   6402         XRL     A,#0x2
   \   0000C9   7023         JNZ     ??SampleApp_CallBack_3
    814                {
    815                  if(0==MQTT_UnPacketConnectAck(SampleApp_RxBuf))
   \   0000CB                ; Setup parameters for call to function MQTT_UnPacketConnectAck
   \   0000CB   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   0000CD   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   0000CF   12....       LCALL   ??MQTT_UnPacketConnectAck?relay
   \   0000D2   E9           MOV     A,R1
   \   0000D3   7019         JNZ     ??SampleApp_CallBack_3
    816                  {
    817                    onenet_login_ok=2;//注册成功
   \   0000D5   90....       MOV     DPTR,#onenet_login_ok
   \   0000D8   7402         MOV     A,#0x2
   \   0000DA   F0           MOVX    @DPTR,A
    818                    SampleApp_RxLen=0;
   \   0000DB   90....       MOV     DPTR,#SampleApp_RxLen
   \   0000DE   7400         MOV     A,#0x0
   \   0000E0   F0           MOVX    @DPTR,A
   \   0000E1   A3           INC     DPTR
   \   0000E2   7400         MOV     A,#0x0
   \   0000E4   F0           MOVX    @DPTR,A
    819                    
    820                    //请求订阅主题
    821                    mqtt_subscribe_topic(g_mqtt_topics_set, 1);
                                                ^
Warning[Pe167]: argument of type "signed char **" is incompatible with
          parameter of type "signed char const **"

  static uint8 SampleApp_MsgID;
               ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",120  Warning[Pe177]: 
          variable "SampleApp_MsgID" was declared but never referenced

  static void SampleApp_Send_P2P_Message( void );
              ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",161  Warning[Pe177]: 
          function "SampleApp_Send_P2P_Message" was declared but never
          referenced
   \   0000E5                ; Setup parameters for call to function mqtt_subscribe_topic
   \   0000E5   7901         MOV     R1,#0x1
   \   0000E7   7A..         MOV     R2,#g_mqtt_topics_set & 0xff
   \   0000E9   7B..         MOV     R3,#(g_mqtt_topics_set >> 8) & 0xff
   \   0000EB   12....       LCALL   ??mqtt_subscribe_topic?relay
    822                  }
    823                }
    824              }
    825              
    826              //数组满，清0
    827              if(SampleApp_RxLen>=SAMPLE_APP_RX_MAX)
   \                     ??SampleApp_CallBack_3:
   \   0000EE   90....       MOV     DPTR,#SampleApp_RxLen
   \   0000F1   C3           CLR     C
   \   0000F2   E0           MOVX    A,@DPTR
   \   0000F3   942C         SUBB    A,#0x2c
   \   0000F5   A3           INC     DPTR
   \   0000F6   E0           MOVX    A,@DPTR
   \   0000F7   9401         SUBB    A,#0x1
   \   0000F9   5003         JNC     $+5
   \   0000FB   02....       LJMP    ??SampleApp_CallBack_1 & 0xFFFF
    828              {
    829                SampleApp_RxLen=0;
   \   0000FE   90....       MOV     DPTR,#SampleApp_RxLen
   \   000101   7400         MOV     A,#0x0
   \   000103   F0           MOVX    @DPTR,A
   \   000104   A3           INC     DPTR
   \   000105   7400         MOV     A,#0x0
   \   000107   F0           MOVX    @DPTR,A
   \   000108   02....       LJMP    ??SampleApp_CallBack_1 & 0xFFFF
    830              }
    831            }
    832            else if(2==onenet_login_ok)
   \                     ??SampleApp_CallBack_2:
   \   00010B   90....       MOV     DPTR,#onenet_login_ok
   \   00010E   E0           MOVX    A,@DPTR
   \   00010F   6402         XRL     A,#0x2
   \   000111   6003         JZ      $+5
   \   000113   02....       LJMP    ??SampleApp_CallBack_1 & 0xFFFF
    833            {
    834              //如果是注册成功，读服务器的控制命令
    835              
    836              uint32 curMs=osal_GetSystemClock();
   \   000116                ; Setup parameters for call to function osal_GetSystemClock
   \   000116   12....       LCALL   ??osal_GetSystemClock?relay
   \   000119   8A..         MOV     ?V0 + 4,R2
   \   00011B   8B..         MOV     ?V0 + 5,R3
   \   00011D   8C..         MOV     ?V0 + 6,R4
   \   00011F   8D..         MOV     ?V0 + 7,R5
    837              
    838              if((curMs-lastReadMs)<1000) return;
   \   000121   85....       MOV     ?V0 + 0,?V0 + 4
   \   000124   85....       MOV     ?V0 + 1,?V0 + 5
   \   000127   85....       MOV     ?V0 + 2,?V0 + 6
   \   00012A   85....       MOV     ?V0 + 3,?V0 + 7
   \   00012D   90....       MOV     DPTR,#lastReadMs
   \   000130   78..         MOV     R0,#?V0 + 0
   \   000132   12....       LCALL   ?L_SUB_X
   \   000135   90....       MOV     DPTR,#__Constant_3e8
   \   000138   78..         MOV     R0,#?V0 + 0
   \   00013A   12....       LCALL   ?UL_GE_X
   \   00013D   5070         JNC     ??SampleApp_CallBack_1
    839              
    840              lastReadMs=curMs;
   \   00013F   90....       MOV     DPTR,#lastReadMs
   \   000142   78..         MOV     R0,#?V0 + 4
   \   000144   12....       LCALL   ?L_MOV_TO_X
    841              SampleApp_RxLen=0;
   \   000147   90....       MOV     DPTR,#SampleApp_RxLen
   \   00014A   7400         MOV     A,#0x0
   \   00014C   F0           MOVX    @DPTR,A
   \   00014D   A3           INC     DPTR
   \   00014E   7400         MOV     A,#0x0
   \   000150   F0           MOVX    @DPTR,A
    842              osal_memset(SampleApp_RxBuf, 0, SAMPLE_APP_RX_MAX+1);
   \   000151                ; Setup parameters for call to function osal_memset
   \   000151   7C2D         MOV     R4,#0x2d
   \   000153   7D01         MOV     R5,#0x1
   \   000155   7900         MOV     R1,#0x0
   \   000157   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   000159   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   00015B   12....       LCALL   ??osal_memset?relay
    843              SampleApp_RxLen = HalUARTRead(SAMPLE_APP_PORT, SampleApp_RxBuf, SAMPLE_APP_RX_MAX);
   \   00015E                ; Setup parameters for call to function HalUARTRead
   \   00015E   7C2C         MOV     R4,#0x2c
   \   000160   7D01         MOV     R5,#0x1
   \   000162   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   000164   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   000166   7900         MOV     R1,#0x0
   \   000168   12....       LCALL   ??HalUARTRead?relay
   \   00016B   90....       MOV     DPTR,#SampleApp_RxLen
   \   00016E   EA           MOV     A,R2
   \   00016F   F0           MOVX    @DPTR,A
   \   000170   A3           INC     DPTR
   \   000171   EB           MOV     A,R3
   \   000172   F0           MOVX    @DPTR,A
    844              
    845              
    846              
    847              if(SampleApp_RxLen>0)
   \   000173   90....       MOV     DPTR,#SampleApp_RxLen
   \   000176   E0           MOVX    A,@DPTR
   \   000177   F8           MOV     R0,A
   \   000178   A3           INC     DPTR
   \   000179   E0           MOVX    A,@DPTR
   \   00017A   F9           MOV     R1,A
   \   00017B   E8           MOV     A,R0
   \   00017C   49           ORL     A,R1
   \   00017D   6030         JZ      ??SampleApp_CallBack_1
    848              {
    849                debug("rx len=%d.\r\n", SampleApp_RxLen);
   \   00017F                ; Setup parameters for call to function debug
   \   00017F   90....       MOV     DPTR,#SampleApp_RxLen
   \   000182   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000185   7A..         MOV     R2,#`?<Constant "rx len=%d.\\r\\n">` & 0xff
   \   000187   7B..         MOV     R3,#(`?<Constant "rx len=%d.\\r\\n">` >> 8) & 0xff
   \   000189   12....       LCALL   ??debug?relay
   \   00018C   7402         MOV     A,#0x2
   \   00018E   12....       LCALL   ?DEALLOC_XSTACK8
    850                
    851                OneNet_RevPro(SampleApp_RxBuf);// /sys/a1VZAPhhRWF/zigbee-coor/thing/service/property/set {"method":...}
   \   000191                ; Setup parameters for call to function OneNet_RevPro
   \   000191   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   000193   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   000195   12....       LCALL   ??OneNet_RevPro?relay
    852                SampleApp_RxLen=0;
   \   000198   90....       MOV     DPTR,#SampleApp_RxLen
   \   00019B   7400         MOV     A,#0x0
   \   00019D   F0           MOVX    @DPTR,A
   \   00019E   A3           INC     DPTR
   \   00019F   7400         MOV     A,#0x0
   \   0001A1   F0           MOVX    @DPTR,A
    853                osal_memset(SampleApp_RxBuf, 0, SAMPLE_APP_RX_MAX+1);
   \   0001A2                ; Setup parameters for call to function osal_memset
   \   0001A2   7C2D         MOV     R4,#0x2d
   \   0001A4   7D01         MOV     R5,#0x1
   \   0001A6   7900         MOV     R1,#0x0
   \   0001A8   7A..         MOV     R2,#SampleApp_RxBuf & 0xff
   \   0001AA   7B..         MOV     R3,#(SampleApp_RxBuf >> 8) & 0xff
   \   0001AC   12....       LCALL   ??osal_memset?relay
    854              }
    855            }
    856            
    857          }
   \                     ??SampleApp_CallBack_1:
   \   0001AF   7F08         MOV     R7,#0x8
   \   0001B1   02....       LJMP    ?BANKED_LEAVE_XDATA
    858          
    859          #else
    860          
    861          /*********************************************************************
    862          * @fn      SampleApp_Send_P2P_Message
    863          *
    864          * @brief   point to point.
    865          *
    866          * @param   none
    867          *
    868          * @return  none
    869          */
    870          void SampleApp_Send_P2P_Message( void )
    871          {
    872            uint8 str[5]={0};
    873            uint8 strTemp[20]={0};
    874            int len=0;
    875            
    876            DHT11();             //获取温湿度
    877            
    878            str[0] = wendu;//温度
    879            str[1] = shidu;//湿度
    880            len=2;
    881            
    882            sprintf(strTemp, "T&H:%d %d", str[0],str[1]);
    883            HalLcdWriteString(strTemp, HAL_LCD_LINE_3); //LCD显示
    884            
    885            HalUARTWrite(0, strTemp, osal_strlen(strTemp));           //串口输出提示信息
    886            HalUARTWrite(0, "\r\n",2);
    887            
    888            //无线发送到协调器
    889            if ( AF_DataRequest( &SampleApp_P2P_DstAddr, &SampleApp_epDesc,
    890                                SAMPLEAPP_P2P_CLUSTERID,
    891                                len,
    892                                str,
    893                                &SampleApp_MsgID,
    894                                AF_DISCV_ROUTE,
    895                                AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
    896            {
    897            }
    898            else
    899            {
    900              // Error occurred in request to send.
    901            }
    902          }
    903          
    904          void SampleApp_CallBack(uint8 port, uint8 event)
    905          {
    906            (void)port;
    907            
    908            HalUARTRead(SAMPLE_APP_PORT, SampleApp_RxBuf, 1);
    909            
    910          }
    911          
    912          
    913          #endif
    914          
    915          
    916          //调试信息输出

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    917          void debug(uint8 * msg, ...)
   \                     debug:
    918          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    919          #if 0
    920            uint8 len=0;
    921            char info[100] = {0};
    922            va_list args;
    923            
    924            if(msg==NULL) return;
    925            
    926            va_start(args, msg);
    927            vsprintf(info, (const char*)msg, args);
    928            va_end(args);
    929            
    930            len=osal_strlen((char *)info);
    931            if(len==0) return;
    932            
    933            
    934            HalUARTWrite(0,info, len);//串口0发送
    935          #endif
    936          }
   \   000000   02....       LJMP    ?BRET
    937          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    938          void SampleApp_getIEEEAddr(uint8* IEEEAddr)//length of IEEEAddr should be Z_EXTADDR_LEN*2
   \                     SampleApp_getIEEEAddr:
    939          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
    940          
    941            uint8 i;
    942            uint8 *xad;
    943            //uint8 lcd_buf[Z_EXTADDR_LEN*2+1];
    944            
    945            // Display the extended address.
    946            xad = aExtendedAddress + Z_EXTADDR_LEN - 1;
   \   000005   78..         MOV     R0,#(aExtendedAddress + 7) & 0xff
   \   000007   79..         MOV     R1,#((aExtendedAddress + 7) >> 8) & 0xff
    947            
    948            for (i = 0; i < Z_EXTADDR_LEN*2; xad--)
   \   000009   7E00         MOV     R6,#0x0
   \                     ??SampleApp_getIEEEAddr_0:
   \   00000B   EE           MOV     A,R6
   \   00000C   C3           CLR     C
   \   00000D   9410         SUBB    A,#0x10
   \   00000F   5077         JNC     ??SampleApp_getIEEEAddr_1
    949            {
    950              uint8 ch;
    951              ch = (*xad >> 4) & 0x0F;
   \   000011   8882         MOV     DPL,R0
   \   000013   8983         MOV     DPH,R1
   \   000015   E0           MOVX    A,@DPTR
   \   000016   C4           SWAP    A
   \   000017   540F         ANL     A,#0xf
   \   000019   FF           MOV     R7,A
    952              IEEEAddr[i++] = ch + (( ch < 10 ) ? '0' : '7');
   \   00001A   8E..         MOV     ?V0 + 2,R6
   \   00001C   7401         MOV     A,#0x1
   \   00001E   25..         ADD     A,?V0 + 2
   \   000020   FE           MOV     R6,A
   \   000021   EF           MOV     A,R7
   \   000022   C3           CLR     C
   \   000023   940A         SUBB    A,#0xa
   \   000025   5006         JNC     ??SampleApp_getIEEEAddr_2
   \   000027   7C30         MOV     R4,#0x30
   \   000029   7D00         MOV     R5,#0x0
   \   00002B   8004         SJMP    ??SampleApp_getIEEEAddr_3
   \                     ??SampleApp_getIEEEAddr_2:
   \   00002D   7C37         MOV     R4,#0x37
   \   00002F   7D00         MOV     R5,#0x0
   \                     ??SampleApp_getIEEEAddr_3:
   \   000031   EC           MOV     A,R4
   \   000032   2F           ADD     A,R7
   \   000033   C0E0         PUSH    A
   \   000035   85....       MOV     ?V0 + 0,?V0 + 2
   \   000038   75..00       MOV     ?V0 + 1,#0x0
   \   00003B   EA           MOV     A,R2
   \   00003C   25..         ADD     A,?V0 + 0
   \   00003E   F582         MOV     DPL,A
   \   000040   EB           MOV     A,R3
   \   000041   35..         ADDC    A,?V0 + 1
   \   000043   F583         MOV     DPH,A
   \   000045   D0E0         POP     A
   \   000047   F0           MOVX    @DPTR,A
    953              ch = *xad & 0x0F;
   \   000048   8882         MOV     DPL,R0
   \   00004A   8983         MOV     DPH,R1
   \   00004C   E0           MOVX    A,@DPTR
   \   00004D   540F         ANL     A,#0xf
   \   00004F   FF           MOV     R7,A
    954              IEEEAddr[i++] = ch + (( ch < 10 ) ? '0' : '7');
   \   000050   8E..         MOV     ?V0 + 3,R6
   \   000052   7401         MOV     A,#0x1
   \   000054   25..         ADD     A,?V0 + 3
   \   000056   FE           MOV     R6,A
   \   000057   EF           MOV     A,R7
   \   000058   C3           CLR     C
   \   000059   940A         SUBB    A,#0xa
   \   00005B   5006         JNC     ??SampleApp_getIEEEAddr_4
   \   00005D   7C30         MOV     R4,#0x30
   \   00005F   7D00         MOV     R5,#0x0
   \   000061   8004         SJMP    ??SampleApp_getIEEEAddr_5
   \                     ??SampleApp_getIEEEAddr_4:
   \   000063   7C37         MOV     R4,#0x37
   \   000065   7D00         MOV     R5,#0x0
   \                     ??SampleApp_getIEEEAddr_5:
   \   000067   EC           MOV     A,R4
   \   000068   2F           ADD     A,R7
   \   000069   C0E0         PUSH    A
   \   00006B   85....       MOV     ?V0 + 0,?V0 + 3
   \   00006E   75..00       MOV     ?V0 + 1,#0x0
   \   000071   EA           MOV     A,R2
   \   000072   25..         ADD     A,?V0 + 0
   \   000074   F582         MOV     DPL,A
   \   000076   EB           MOV     A,R3
   \   000077   35..         ADDC    A,?V0 + 1
   \   000079   F583         MOV     DPH,A
   \   00007B   D0E0         POP     A
   \   00007D   F0           MOVX    @DPTR,A
    955            }
   \   00007E   E8           MOV     A,R0
   \   00007F   24FF         ADD     A,#-0x1
   \   000081   F8           MOV     R0,A
   \   000082   E9           MOV     A,R1
   \   000083   34FF         ADDC    A,#-0x1
   \   000085   F9           MOV     R1,A
   \   000086   8083         SJMP    ??SampleApp_getIEEEAddr_0
    956            IEEEAddr[Z_EXTADDR_LEN*2] = '\0';
   \                     ??SampleApp_getIEEEAddr_1:
   \   000088   EA           MOV     A,R2
   \   000089   2410         ADD     A,#0x10
   \   00008B   F582         MOV     DPL,A
   \   00008D   EB           MOV     A,R3
   \   00008E   3400         ADDC    A,#0x0
   \   000090   F583         MOV     DPH,A
   \   000092   7400         MOV     A,#0x0
   \   000094   F0           MOVX    @DPTR,A
    957          }
   \   000095   7F04         MOV     R7,#0x4
   \   000097   02....       LJMP    ?BANKED_LEAVE_XDATA
    958          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    959          int SampleApp_SendPointToPointMessage(uint16 ReceiveAddr,uint16 DataId,uint8* SendData,uint16 Lens )//ReceiveAddr为接受设备的地址，DataId为数据识别码，4位16进制码，Lens仅写SendData长度即可
   \                     SampleApp_SendPointToPointMessage:
    960          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 200
   \   000005   7438         MOV     A,#0x38
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
   \   00000E   8C..         MOV     ?V0 + 6,R4
   \   000010   8D..         MOV     ?V0 + 7,R5
   \   000012   74D8         MOV     A,#-0x28
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V0 + 4,A
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 5,A
   \   00001E   74DA         MOV     A,#-0x26
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   E0           MOVX    A,@DPTR
   \   000024   FE           MOV     R6,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   FF           MOV     R7,A
    961            //uint8 data[10]={'0','1','2','3','4','5','6','7','8','9'};//定义发送内容
    962            //uint8 data[10]="0123456789";//上述方式二选一 
    963            SampleApp_P2P_DstAddr.addr.shortAddr = ReceiveAddr;
   \   000028   90....       MOV     DPTR,#SampleApp_P2P_DstAddr
   \   00002B   E5..         MOV     A,?V0 + 0
   \   00002D   F0           MOVX    @DPTR,A
   \   00002E   A3           INC     DPTR
   \   00002F   E5..         MOV     A,?V0 + 1
   \   000031   F0           MOVX    @DPTR,A
    964            uint8 FinalSendData[200]={0};
   \   000032   90....       MOV     DPTR,#`?<Constant {0}>_6`
   \   000035   C082         PUSH    DPL
   \   000037   C083         PUSH    DPH
   \   000039   85..82       MOV     DPL,?XSP + 0
   \   00003C   85..83       MOV     DPH,?XSP + 1
   \   00003F   AC82         MOV     R4,DPL
   \   000041   AD83         MOV     R5,DPH
   \   000043   D083         POP     DPH
   \   000045   D082         POP     DPL
   \   000047   74C8         MOV     A,#-0x38
   \   000049   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    965            sprintf((char*)FinalSendData,"%4x%4d%s",DataId,Lens+8,(char*)SendData);
   \   00004C                ; Setup parameters for call to function sprintf
   \   00004C   78..         MOV     R0,#?V0 + 4
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051   EE           MOV     A,R6
   \   000052   2408         ADD     A,#0x8
   \   000054   F5..         MOV     ?V0 + 2,A
   \   000056   EF           MOV     A,R7
   \   000057   3400         ADDC    A,#0x0
   \   000059   F5..         MOV     ?V0 + 3,A
   \   00005B   78..         MOV     R0,#?V0 + 2
   \   00005D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000060   78..         MOV     R0,#?V0 + 6
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000065   7C..         MOV     R4,#`?<Constant "%4x%4d%s">` & 0xff
   \   000067   7D..         MOV     R5,#(`?<Constant "%4x%4d%s">` >> 8) & 0xff
   \   000069   7406         MOV     A,#0x6
   \   00006B   12....       LCALL   ?XSTACK_DISP0_8
   \   00006E   AA82         MOV     R2,DPL
   \   000070   AB83         MOV     R3,DPH
   \   000072   12....       LCALL   ??sprintf?relay
   \   000075   7406         MOV     A,#0x6
   \   000077   12....       LCALL   ?DEALLOC_XSTACK8
    966            printf("FinalSendData:%s\n",FinalSendData);
   \   00007A                ; Setup parameters for call to function printf
   \   00007A   85..82       MOV     DPL,?XSP + 0
   \   00007D   85..83       MOV     DPH,?XSP + 1
   \   000080   8582..       MOV     ?V0 + 2,DPL
   \   000083   8583..       MOV     ?V0 + 3,DPH
   \   000086   78..         MOV     R0,#?V0 + 2
   \   000088   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008B   7A..         MOV     R2,#`?<Constant "FinalSendData:%s\\n">` & 0xff
   \   00008D   7B..         MOV     R3,#(`?<Constant "FinalSendData:%s\\n">` >> 8) & 0xff
   \   00008F   12....       LCALL   ??printf?relay
   \   000092   7402         MOV     A,#0x2
   \   000094   12....       LCALL   ?DEALLOC_XSTACK8
    967            int result = AF_DataRequest(&SampleApp_P2P_DstAddr,&SampleApp_epDesc,
    968                              SAMPLEAPP_P2P_CLUSTERID,
    969                              Lens+8,
    970                              FinalSendData,
    971                              &SampleApp_TransID,
    972                              AF_DISCV_ROUTE,
    973                              AF_DEFAULT_RADIUS);
   \   000097                ; Setup parameters for call to function AF_DataRequest
   \   000097   75..1E       MOV     ?V0 + 2,#0x1e
   \   00009A   78..         MOV     R0,#?V0 + 2
   \   00009C   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00009F   75....       MOV     ?V0 + 2,#SampleApp_TransID & 0xff
   \   0000A2   75....       MOV     ?V0 + 3,#(SampleApp_TransID >> 8) & 0xff
   \   0000A5   78..         MOV     R0,#?V0 + 2
   \   0000A7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AA   7403         MOV     A,#0x3
   \   0000AC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AF   8582..       MOV     ?V0 + 2,DPL
   \   0000B2   8583..       MOV     ?V0 + 3,DPH
   \   0000B5   78..         MOV     R0,#?V0 + 2
   \   0000B7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000BA   EE           MOV     A,R6
   \   0000BB   2408         ADD     A,#0x8
   \   0000BD   F5..         MOV     ?V0 + 2,A
   \   0000BF   EF           MOV     A,R7
   \   0000C0   3400         ADDC    A,#0x0
   \   0000C2   F5..         MOV     ?V0 + 3,A
   \   0000C4   78..         MOV     R0,#?V0 + 2
   \   0000C6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C9   75..01       MOV     ?V0 + 2,#0x1
   \   0000CC   75..00       MOV     ?V0 + 3,#0x0
   \   0000CF   78..         MOV     R0,#?V0 + 2
   \   0000D1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D4   7920         MOV     R1,#0x20
   \   0000D6   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   0000D8   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   0000DA   7A..         MOV     R2,#SampleApp_P2P_DstAddr & 0xff
   \   0000DC   7B..         MOV     R3,#(SampleApp_P2P_DstAddr >> 8) & 0xff
   \   0000DE   12....       LCALL   ??AF_DataRequest?relay
   \   0000E1   7409         MOV     A,#0x9
   \   0000E3   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000E6   E9           MOV     A,R1
   \   0000E7   F5..         MOV     ?V0 + 2,A
   \   0000E9   75..00       MOV     ?V0 + 3,#0x0
    974            if(result == afStatus_SUCCESS)
   \   0000EC   E5..         MOV     A,?V0 + 2
   \   0000EE   45..         ORL     A,?V0 + 3
   \   0000F0   7006         JNZ     ??SampleApp_SendPointToPointMessage_0
    975            {
    976              return 0;
   \   0000F2   7A00         MOV     R2,#0x0
   \   0000F4   7B00         MOV     R3,#0x0
   \   0000F6   8015         SJMP    ??SampleApp_SendPointToPointMessage_1
    977            }
    978            else
    979            {
    980              printf("%d",result);
   \                     ??SampleApp_SendPointToPointMessage_0:
   \   0000F8                ; Setup parameters for call to function printf
   \   0000F8   78..         MOV     R0,#?V0 + 2
   \   0000FA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FD   7A..         MOV     R2,#`?<Constant "%d">` & 0xff
   \   0000FF   7B..         MOV     R3,#(`?<Constant "%d">` >> 8) & 0xff
   \   000101   12....       LCALL   ??printf?relay
   \   000104   7402         MOV     A,#0x2
   \   000106   12....       LCALL   ?DEALLOC_XSTACK8
    981              return result;
   \   000109   AA..         MOV     R2,?V0 + 2
   \   00010B   AB..         MOV     R3,?V0 + 3
   \                     ??SampleApp_SendPointToPointMessage_1:
   \   00010D   74C8         MOV     A,#-0x38
   \   00010F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000112   7F08         MOV     R7,#0x8
   \   000114   02....       LJMP    ?BANKED_LEAVE_XDATA
    982              // Error occurred in request to send.
    983            }
    984          }

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for SampleApp_epDesc>`:
   \   000000   0B           DB 11
   \   000001   ....         DW SampleApp_TaskID
   \   000003   ....         DW SampleApp_SimpleDesc
   \   000005   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for DevicesIEEEAddr>`:
   \   000000   30303132     DB "00124B0006F7E953"
   \            34423030
   \            30364637
   \            45393533
   \            00      
   \   000011   30303132     DB "00124B0006F78A1F"
   \            34423030
   \            30364637
   \            38413146
   \            00      
   \   000022   30303132     DB "00124B0006F7EAFD"
   \            34423030
   \            30364637
   \            45414644
   \            00      
   \   000033   30303132     DB "00124B001FBE1D86"
   \            34423030
   \            31464245
   \            31443836
   \            00      

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for DevicesShortAddr>`:
   \   000000   FFFF         DW 65535
   \   000002   FFFF         DW 65535
   \   000004   FFFF         DW 65535
   \   000006   FFFF         DW 65535

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for NwkAddr>`:
   \   000000   FFFF         DW 65535

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessMSGCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessMSGCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??ESP8266_SendData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    ESP8266_SendData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??mqtt_rx?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    mqtt_rx

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Response2mqtt?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Response2mqtt

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??OneNet_publish_topic?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    OneNet_publish_topic

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_CallBack?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_CallBack

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??debug?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    debug

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_getIEEEAddr?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_getIEEEAddr

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendPointToPointMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendPointToPointMessage

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "/a1sIpEvOQhQ/device/u...">`:
   \   000000   2F613173     DB "/a1sIpEvOQhQ/device/user/transfer"
   \            49704576
   \            4F516851
   \            2F646576
   \            6963652F
   \            75736572
   \            2F747261
   \            6E736665
   \            7200    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "/a1sIpEvOQhQ/device/u...">_1`:
   \   000000   2F613173     DB "/a1sIpEvOQhQ/device/user/receive"
   \            49704576
   \            4F516851
   \            2F646576
   \            6963652F
   \            75736572
   \            2F726563
   \            65697665
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 1">`:
   \   000000   47726F75     DB "Group 1"
   \            70203100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SampleApp">`:
   \   000000   53616D70     DB "SampleApp"
   \            6C654170
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "1002 msg">`:
   \   000000   31303032     DB "1002 msg"
   \            206D7367
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "1004 msg">`:
   \   000000   31303034     DB "1004 msg"
   \            206D7367
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "{\\"method\\":\\"thing.serv...">`:
   \   000000   7B226D65     DB 7BH, 22H, 6DH, 65H, 74H, 68H, 6FH, 64H
   \            74686F64
   \   000008   223A2274     DB 22H, 3AH, 22H, 74H, 68H, 69H, 6EH, 67H
   \            68696E67
   \   000010   2E736572     DB 2EH, 73H, 65H, 72H, 76H, 69H, 63H, 65H
   \            76696365
   \   000018   2E70726F     DB 2EH, 70H, 72H, 6FH, 70H, 65H, 72H, 74H
   \            70657274
   \   000020   792E7365     DB 79H, 2EH, 73H, 65H, 74H, 22H, 2CH, 22H
   \            74222C22
   \   000028   6964223A     DB 69H, 64H, 22H, 3AH, 22H, 36H, 33H, 30H
   \            22363330
   \   000030   32363233     DB 32H, 36H, 32H, 33H, 30H, 36H, 22H, 2CH
   \            3036222C
   \   000038   22706172     DB 22H, 70H, 61H, 72H, 61H, 6DH, 73H, 22H
   \            616D7322
   \   000040   3A7B2020     DB 3AH, 7BH, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000048   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000050   20202263     DB 20H, 20H, 22H, 63H, 6FH, 64H, 65H, 22H
   \            6F646522
   \   000058   3A322C20     DB 3AH, 32H, 2CH, 20H, 20H, 20H, 20H, 7DH
   \            2020207D
   \   000060   2C227665     DB 2CH, 22H, 76H, 65H, 72H, 73H, 69H, 6FH
   \            7273696F
   \   000068   6E223A22     DB 6EH, 22H, 3AH, 22H, 31H, 2EH, 30H, 2EH
   \            312E302E
   \   000070   30227D00     DB 30H, 22H, 7DH, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "get coord">`:
   \   000000   67657420     DB "get coord"
   \            636F6F72
   \            6400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "lost coord">`:
   \   000000   6C6F7374     DB "lost coord"
   \            20636F6F
   \            726400  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "{\\"flow\\":201,         ...">`:
   \   000000   7B22666C     DB 7BH, 22H, 66H, 6CH, 6FH, 77H, 22H, 3AH
   \            6F77223A
   \   000008   3230312C     DB 32H, 30H, 31H, 2CH, 20H, 20H, 20H, 20H
   \            20202020
   \   000010   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 22H, 6DH
   \            2020226D
   \   000018   7367223A     DB 73H, 67H, 22H, 3AH, 7BH, 20H, 20H, 20H
   \            7B202020
   \   000020   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000028   20202020     DB 20H, 20H, 20H, 20H, 20H, 22H, 64H, 65H
   \            20226465
   \   000030   7631223A     DB 76H, 31H, 22H, 3AH, 25H, 64H, 2CH, 20H
   \            25642C20
   \   000038   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000040   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000048   20226465     DB 20H, 22H, 64H, 65H, 76H, 32H, 22H, 3AH
   \            7632223A
   \   000050   25642C20     DB 25H, 64H, 2CH, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000058   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000060   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 22H
   \            20202022
   \   000068   64657633     DB 64H, 65H, 76H, 33H, 22H, 3AH, 25H, 64H
   \            223A2564
   \   000070   2C202020     DB 2CH, 20H, 20H, 20H, 20H, 7DH, 7DH, 0
   \            207D7D00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0
   \            000000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "device%d %d">`:
   \   000000   64657669     DB "device%d %d"
   \            63652564
   \            20256400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>_1`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "MqttRecMsg:%s\\n">`:
   \   000000   4D717474     DB "MqttRecMsg:%s\012"
   \            5265634D
   \            73673A25
   \            730A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\"}">`:
   \   000000   227D00       DB "\"}"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\"msg\\":\\"">`:
   \   000000   226D7367     DB "\"msg\":\""
   \            223A2200

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\",\\"flow\\"">`:
   \   000000   222C2266     DB "\",\"flow\""
   \            6C6F7722
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "dev0,">`:
   \   000000   64657630     DB "dev0,"
   \            2C00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "dev1,">`:
   \   000000   64657631     DB "dev1,"
   \            2C00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "dev2,">`:
   \   000000   64657632     DB "dev2,"
   \            2C00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "dev3,">`:
   \   000000   64657633     DB "dev3,"
   \            2C00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>_2`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000039   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000041   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000049   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000051   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000059   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000061   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000069   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000071   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000079   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000081   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000089   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000091   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000099   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000A1   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000A9   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000B1   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000B9   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000C1   00000000     DB 0, 0, 0, 0, 0, 0, 0
   \            000000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%4d">`:
   \   000000   25346400     DB "%4d"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%s">`:
   \   000000   257300       DB "%s"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "device %d linked">`:
   \   000000   64657669     DB "device %d linked"
   \            63652025
   \            64206C69
   \            6E6B6564
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "{\\"flow\\":201,\\"msg\\":\\"%s...">`:
   \   000000   7B22666C     DB "{\"flow\":201,\"msg\":\"%s Linked\"}"
   \            6F77223A
   \            3230312C
   \            226D7367
   \            223A2225
   \            73204C69
   \            6E6B6564
   \            227D00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "switch1,1">`:
   \   000000   73776974     DB "switch1,1"
   \            6368312C
   \            3100    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "switch1,0">`:
   \   000000   73776974     DB "switch1,0"
   \            6368312C
   \            3000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "switch2,1">`:
   \   000000   73776974     DB "switch2,1"
   \            6368322C
   \            3100    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "switch2,0">`:
   \   000000   73776974     DB "switch2,0"
   \            6368322C
   \            3000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "{\\"method\\":\\"thing.serv...">_1`:
   \   000000   7B226D65     DB 7BH, 22H, 6DH, 65H, 74H, 68H, 6FH, 64H
   \            74686F64
   \   000008   223A2274     DB 22H, 3AH, 22H, 74H, 68H, 69H, 6EH, 67H
   \            68696E67
   \   000010   2E736572     DB 2EH, 73H, 65H, 72H, 76H, 69H, 63H, 65H
   \            76696365
   \   000018   2E70726F     DB 2EH, 70H, 72H, 6FH, 70H, 65H, 72H, 74H
   \            70657274
   \   000020   792E7365     DB 79H, 2EH, 73H, 65H, 74H, 22H, 2CH, 22H
   \            74222C22
   \   000028   6964223A     DB 69H, 64H, 22H, 3AH, 22H, 36H, 33H, 30H
   \            22363330
   \   000030   32363233     DB 32H, 36H, 32H, 33H, 30H, 36H, 22H, 2CH
   \            3036222C
   \   000038   22706172     DB 22H, 70H, 61H, 72H, 61H, 6DH, 73H, 22H
   \            616D7322
   \   000040   3A7B2020     DB 3AH, 7BH, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000048   20202020     DB 20H, 20H, 20H, 20H, 20H, 20H, 20H, 20H
   \            20202020
   \   000050   20202020     DB 20H, 20H, 20H, 20H, 22H, 63H, 6FH, 64H
   \            22636F64
   \   000058   65223A22     DB 65H, 22H, 3AH, 22H, 25H, 73H, 22H, 20H
   \            25732220
   \   000060   20202020     DB 20H, 20H, 20H, 20H, 20H, 7DH, 2CH, 22H
   \            207D2C22
   \   000068   76657273     DB 76H, 65H, 72H, 73H, 69H, 6FH, 6EH, 22H
   \            696F6E22
   \   000070   3A22312E     DB 3AH, 22H, 31H, 2EH, 30H, 2EH, 30H, 22H
   \            302E3022
   \   000078   7D00         DB 7DH, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>_3`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000039   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000041   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000049   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000051   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000059   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000061   000000       DB 0, 0, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>_4`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000039   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000041   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000049   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000051   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000059   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000061   000000       DB 0, 0, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>_5`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000039   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000041   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000049   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000051   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000059   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000061   000000       DB 0, 0, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "receive">`:
   \   000000   72656365     DB "receive"
   \            69766500

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "too many msg, hold on">`:
   \   000000   746F6F20     DB "too many msg, hold on"
   \            6D616E79
   \            206D7367
   \            2C20686F
   \            6C64206F
   \            6E00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "too many msg">`:
   \   000000   746F6F20     DB "too many msg"
   \            6D616E79
   \            206D7367
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "{\\"msg\\":\\"%s\\",\\"flow\\":201}">`:
   \   000000   7B226D73     DB "{\"msg\":\"%s\",\"flow\":201}"
   \            67223A22
   \            2573222C
   \            22666C6F
   \            77223A32
   \            30317D00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "rx len=%d(%x,%x,%x,%x)\\r\\n">`:
   \   000000   7278206C     DB "rx len=%d(%x,%x,%x,%x)\015\012"
   \            656E3D25
   \            64282578
   \            2C25782C
   \            25782C25
   \            78290D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "rx len=%d.\\r\\n">`:
   \   000000   7278206C     DB "rx len=%d.\015\012"
   \            656E3D25
   \            642E0D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>_6`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000039   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000041   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000049   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000051   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000059   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000061   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000069   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000071   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000079   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000081   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000089   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000091   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000099   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000A1   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000A9   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000B1   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000B9   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000C1   00000000     DB 0, 0, 0, 0, 0, 0, 0
   \            000000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%4x%4d%s">`:
   \   000000   25347825     DB "%4x%4d%s"
   \            34642573
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "FinalSendData:%s\\n">`:
   \   000000   46696E61     DB "FinalSendData:%s\012"
   \            6C53656E
   \            64446174
   \            613A2573
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%d">`:
   \   000000   256400       DB "%d"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e8:
   \   000000   E8030000     DD 1000

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     ESP8266_SendData                   0      0     10
       -> HalUARTWrite                  0      0     20
     OneNet_publish_topic               0      0    226
       -> mqtt_publish_topic            0      0     20
     Response2mqtt                      0      0    326
       -> sprintf                       0      0     24
       -> mqtt_publish_topic            0      0     20
     SampleApp_CallBack                 0      0     26
       -> HalUARTRead                   0      0     32
       -> osal_memset                   0      0     32
       -> HalUARTRead                   0      0     32
       -> debug                         0      0     52
       -> MQTT_UnPacketRecv             0      0     32
       -> MQTT_UnPacketConnectAck       0      0     32
       -> mqtt_subscribe_topic          0      0     32
       -> osal_GetSystemClock           0      0     32
       -> osal_memset                   0      0     32
       -> HalUARTRead                   0      0     32
       -> debug                         0      0     36
       -> OneNet_RevPro                 0      0     32
       -> osal_memset                   0      0     32
     SampleApp_HandleKeys               0      0    135
       -> SampleApp_SendPointToPointMessage
                                        0      0     28
       -> SampleApp_SendPointToPointMessage
                                        0      0     28
       -> sprintf                       0      0     20
       -> mqtt_publish_topic            0      0     20
     SampleApp_Init                     0      0     14
       -> MT_UartInit                   0      0     22
       -> MT_UartRegisterTaskID         0      0     22
       -> afRegister                    0      0     22
       -> RegisterForKeys               0      0     22
       -> sprintf                       0      0     22
       -> sprintf                       0      0     22
       -> osal_memcpy                   0      0     28
       -> aps_AddGroup                  0      0     22
       -> HalLcdWriteString             0      0     22
       -> NLME_GetShortAddr             0      0     22
       -> NLME_GetExtAddr               0      0     26
       -> memcpy                        0      0     26
     SampleApp_ProcessEvent             2      0    127
       -> osal_msg_receive              0      0    242
       -> SampleApp_HandleKeys          0      0    242
       -> SampleApp_ProcessMSGCmd       0      0    242
       -> HalLcdWriteString             0      0    242
       -> SampleApp_getIEEEAddr         0      0    242
       -> HalLcdWriteString             0      0    242
       -> SampleApp_SendPointToPointMessage
                                        0      0    250
       -> HalLcdWriteString             0      0    242
       -> osal_start_timerEx            0      0    242
       -> osal_start_timerEx            0      0    242
       -> osal_msg_deallocate           0      0    242
       -> osal_msg_receive              0      0    242
       -> osal_start_timerEx            0      0    242
       -> OneNet_DevLink                0      0    242
       -> HalLedBlink                   0      0    242
       -> osal_start_timerEx            0      0    242
       -> onenet_mqtt_send_heart        0      0    242
       -> osal_start_timerEx            0      0    242
       -> sprintf                       0      0    254
       -> sprintf                       0      0    250
       -> osal_start_timerEx            0      0    242
       -> printf                        0      0    246
       -> strstr                        0      0    242
       -> strstr                        0      0    242
       -> strstr                        0      0    242
       -> strstr                        0      0    246
       -> memcpy                        0      0    246
       -> strstr                        0      0    242
       -> strstr                        0      0    242
       -> strstr                        0      0    242
       -> strstr                        0      0    246
       -> memcpy                        0      0    246
       -> strstr                        0      0    242
       -> strlen                        0      0    242
       -> SampleApp_SendPointToPointMessage
                                        0      0    250
       -> printf                        0      0    242
       -> strstr                        0      0    242
       -> strlen                        0      0    242
       -> SampleApp_SendPointToPointMessage
                                        0      0    250
       -> printf                        0      0    242
       -> strstr                        0      0    242
       -> strlen                        0      0    242
       -> SampleApp_SendPointToPointMessage
                                        0      0    250
       -> printf                        0      0    242
       -> strstr                        0      0    242
       -> strlen                        0      0    242
       -> SampleApp_SendPointToPointMessage
                                        0      0    250
       -> printf                        0      0    242
       -> osal_memset                   0      0    242
     SampleApp_ProcessMSGCmd            2      0    339
       -> memcpy                        0      0    436
       -> sscanf                        0      0    436
       -> memcpy                        0      0    436
       -> sscanf                        0      0    436
       -> memcpy                        0      0    436
       -> HalLcdWriteString             0      0    432
       -> printf                        0      0    436
       -> strncmp                       0      0    436
       -> sprintf                       0      0    436
       -> sprintf                       0      0    436
       -> OneNet_publish_topic          0      0    432
       -> strstr                        0      0    432
       -> strstr                        0      0    432
       -> strstr                        0      0    432
       -> strstr                        0      0    432
       -> sprintf                       0      0    436
     SampleApp_SendPointToPointMessage
                                        2      0    350
       -> sprintf                       0      0    444
       -> printf                        0      0    436
       -> AF_DataRequest                0      0    450
       -> printf                        0      0    436
     SampleApp_getIEEEAddr              1      0    133
     debug                              0      0     26
     mqtt_rx                            2      0    316
       -> HalLcdWriteString             0      0    628
       -> HalLcdWriteString             0      0    628
       -> strlen                        0      0    628
       -> memcpy                        0      0    632
       -> strrchr                       0      0    628
       -> strlen                        0      0    628
       -> memcpy                        0      0    632
       -> strcmp                        0      0    628
       -> strlen                        0      0    628
       -> memcpy                        0      0    632
       -> osal_start_timerEx            0      0    628
       -> HalLcdWriteString             0      0    628
       -> Response2mqtt                 0      0    628
       -> HalLcdWriteString             0      0    628


   Segment part sizes:

     Function/Label                              Bytes
     --------------                              -----
     _A_P0                                          1
     _A_P1                                          1
     SampleApp_ClusterList                          6
     SampleApp_SimpleDesc                          12
     SampleApp_epDesc                               6
     SampleApp_NwkState                             1
     SampleApp_TaskID                               1
     SampleApp_P2P_DstAddr                         12
     SampleApp_Periodic_DstAddr                    12
     SampleApp_Group                               18
     DevicesIEEEAddr                               68
     DevicesShortAddr                               8
     devicesOnline                                  8
     devicesOnlineStatus                            8
     flag_COOR_CHECK_or_ENDDEV_HEART_BEAT_EVT
                                                    1
     MqttRecMsg                                   200
     NwkAddr                                        2
     MacAddr                                        8
     SampleApp_TransID                              1
     SampleApp_RxBuf                              301
     SampleApp_RxLen                                2
     onenet_login_ok                                1
     end_temp                                       1
     end_hum                                        1
     g_mqtt_topics_set                             10
     topics_buff                                   60
     topics_post                                  100
     mqtt_message                                 200
     SampleApp_Init                               228
     SampleApp_HandleKeys                         138
     SampleApp_ProcessEvent                      1678
     SampleApp_ProcessMSGCmd                     1012
     ESP8266_SendData                              35
     mqtt_rx                                      384
     Response2mqtt                                 46
     OneNet_publish_topic                          32
     lastReadMs                                     4
     SampleApp_CallBack                           436
     debug                                          3
     SampleApp_getIEEEAddr                        154
     SampleApp_SendPointToPointMessage
                                                  279
     ?<Initializer for SampleApp_epDesc>            6
     ?<Initializer for DevicesIEEEAddr>            68
     ?<Initializer for DevicesShortAddr>            8
     ?<Initializer for NwkAddr>                     2
     ??SampleApp_Init?relay                         6
     ??SampleApp_HandleKeys?relay                   6
     ??SampleApp_ProcessEvent?relay                 6
     ??SampleApp_ProcessMSGCmd?relay                6
     ??ESP8266_SendData?relay                       6
     ??mqtt_rx?relay                                6
     ??Response2mqtt?relay                          6
     ??OneNet_publish_topic?relay                   6
     ??SampleApp_CallBack?relay                     6
     ??debug?relay                                  6
     ??SampleApp_getIEEEAddr?relay                  6
     ??SampleApp_SendPointToPointMessage?relay      6
     ?<Constant "/a1sIpEvOQhQ/device/u...">        34
     ?<Constant "/a1sIpEvOQhQ/device/u...">_1      33
     ?<Constant "Group 1">                          8
     ?<Constant "SampleApp">                       10
     ?<Constant "1002 msg">                         9
     ?<Constant "1004 msg">                         9
     ?<Constant "{\"method\":\"thing.serv...">    116
     ?<Constant "get coord">                       10
     ?<Constant "lost coord">                      11
     ?<Constant "{\"flow\":201,         ...">     120
     ?<Constant {0}>                               40
     ?<Constant "device%d %d">                     12
     ?<Constant {0}>_1                             50
     ?<Constant "MqttRecMsg:%s\n">                 15
     ?<Constant "\"}">                              3
     ?<Constant "\"msg\":\"">                       8
     ?<Constant "\",\"flow\"">                      9
     ?<Constant "dev0,">                            6
     ?<Constant "dev1,">                            6
     ?<Constant "dev2,">                            6
     ?<Constant "dev3,">                            6
     ?<Constant {0}>_2                            200
     ?<Constant "%4d">                              4
     ?<Constant "%s">                               3
     ?<Constant "device %d linked">                17
     ?<Constant "{\"flow\":201,\"msg\":\"%s...">   31
     ?<Constant "switch1,1">                       10
     ?<Constant "switch1,0">                       10
     ?<Constant "switch2,1">                       10
     ?<Constant "switch2,0">                       10
     ?<Constant "{\"method\":\"thing.serv...">_1  122
     ?<Constant {0}>_3                            100
     ?<Constant {0}>_4                            100
     ?<Constant {0}>_5                            100
     ?<Constant "receive">                          8
     ?<Constant "too many msg, hold on">           22
     ?<Constant "too many msg">                    13
     ?<Constant "{\"msg\":\"%s\",\"flow\":201}">   24
     ?<Constant "rx len=%d(%x,%x,%x,%x)\r\n">      25
     ?<Constant "rx len=%d.\r\n">                  13
     ?<Constant {0}>_6                            200
     ?<Constant "%4x%4d%s">                         9
     ?<Constant "FinalSendData:%s\n">              18
     ?<Constant "%d">                               3
     __Constant_3e8                                 4

 
 4 425 bytes in segment BANKED_CODE
    72 bytes in segment BANK_RELAYS
     2 bytes in segment SFR_AN
    84 bytes in segment XDATA_I
    84 bytes in segment XDATA_ID
 1 595 bytes in segment XDATA_ROM_C
   950 bytes in segment XDATA_Z
 
 4 581 bytes of CODE  memory
 1 591 bytes of CONST memory (+ 4 bytes shared)
     0 bytes of DATA  memory (+ 2 bytes shared)
 1 034 bytes of XDATA memory

Errors: none
Warnings: 51
