###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         23/Jan/2022  21:24:44 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\Source\MqttKit.c      #
#    Command line       =  -f e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wCoord.cfg (-DCPU32MHZ            #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          Tools\CC2530DB\f8wConfig.cfg (-DZIGBEEPRO          #
#                          -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR       #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 e:\imtht\Documents\Code\Zig #
#                          bee\ZStack-2.5.1a\Projects\zstack\Samples\SampleAp #
#                          p\Source\MqttKit.c -D ZTOOL_P1 -D xMT_TASK -D      #
#                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                    #
#                          LCD_SUPPORTED=DEBUG -lC e:\imtht\Documents\Code\Zi #
#                          gbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleA #
#                          pp\CC2530DB\CoordinatorEB\List\ -lA                #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\List\ --diag_suppress Pe001,Pa010 -o             #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\Obj\ -e --no_cse --no_unroll --no_inline         #
#                          --no_code_motion --no_tbaa --debug --core=plain    #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I e:\imtht\Documents\Code\Zi #
#                          gbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleA #
#                          pp\CC2530DB\ -I e:\imtht\Documents\Code\Zigbee\ZSt #
#                          ack-2.5.1a\Projects\zstack\Samples\SampleApp\CC253 #
#                          0DB\..\Source\ -I e:\imtht\Documents\Code\Zigbee\Z #
#                          Stack-2.5.1a\Projects\zstack\Samples\SampleApp\CC2 #
#                          530DB\..\..\..\ZMain\TI2530DB\ -I                  #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\hal\include\ -I                      #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\hal\target\CC2530EB\ -I              #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\include\ -I                      #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\high_level\ -I                   #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\low_level\srf04\ -I              #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mac\low_level\srf04\single_chip\ -I  #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\mt\ -I e:\imtht\Documents\Code\Zigbe #
#                          e\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\ #
#                          CC2530DB\..\..\..\..\..\Components\osal\include\   #
#                          -I e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          ..\..\Components\services\saddr\ -I                #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\services\sdata\ -I                   #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\af\ -I                         #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\nwk\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\sapi\ -I                       #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\sec\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\sys\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\stack\zdo\ -I                        #
#                          e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\ #
#                          ..\Components\zmac\ -I e:\imtht\Documents\Code\Zig #
#                          bee\ZStack-2.5.1a\Projects\zstack\Samples\SampleAp #
#                          p\CC2530DB\..\..\..\..\..\Components\zmac\f8w\ -On #
#    List file          =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\List\MqttKit.lst                                 #
#    Object file        =  e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Proje #
#                          cts\zstack\Samples\SampleApp\CC2530DB\CoordinatorE #
#                          B\Obj\MqttKit.r51                                  #
#                                                                             #
#                                                                             #
###############################################################################

e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c
      1          /**
      2          	************************************************************
      3          	************************************************************
      4          	************************************************************
      5          	*	文件名： 	MqttKit.c
      6          	*
      7          	*	作者： 		
      8          	*
      9          	*	日期： 		2018-04-27
     10          	*
     11          	*	版本： 		V1.4
     12          	*
     13          	*	说明： 		MQTT协议
     14          	*
     15          	*	修改记录：	V1.1：解决MQTT_PacketSubscribe订阅不为2个topic
     16          	*						个数时协议错误的bug
     17          	*				V1.2：修复MQTT_PacketCmdResp的bug
     18          	*				V1.3：将strncpy替换为memcpy，解决潜在bug
     19          	*				V1.4：修复	MQTT_PacketPublishAck
     20          	*							MQTT_PacketPublishRel
     21          	*							函数封包错误的bug
     22          	*				V1.5：增加	MQTT_UnPacketCmd
     23          	*							MQTT_UnPacketPublish
     24          	*							接口对消息内容长度的提取参数
     25          	************************************************************
     26          	************************************************************
     27          	************************************************************
     28          **/
     29          
     30          //协议头文件
     31          #include "MqttKit.h"
     32          #include "mqtt.h"
     33          
     34          //C库
     35          #include <string.h>
     36          
     37          
     38          #define CMD_TOPIC_PREFIX		"$creq"
     39          
     40          
     41          //==========================================================
     42          //	函数名称：	EDP_NewBuffer
     43          //
     44          //	函数功能：	申请内存
     45          //
     46          //	入口参数：	edpPacket：包结构体
     47          //				size：大小
     48          //
     49          //	返回参数：	无
     50          //
     51          //	说明：		1.可使用动态分配来分配内存
     52          //				2.可使用局部或全局数组来指定内存
     53          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     54          void MQTT_NewBuffer(MQTT_PACKET_STRUCTURE *mqttPacket, uint32 size)
   \                     MQTT_NewBuffer:
     55          {	
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   7414         MOV     A,#0x14
   \   00000B   12....       LCALL   ?XSTACK_DISP0_8
   \   00000E   78..         MOV     R0,#?V0 + 4
   \   000010   12....       LCALL   ?L_MOV_X
     56          	uint32 i = 0;
   \   000013   90....       MOV     DPTR,#__Constant_0
   \   000016   78..         MOV     R0,#?V0 + 8
   \   000018   12....       LCALL   ?L_MOV_X
     57          
     58          	mqttPacket->_memFlag = MEM_FLAG_STATIC;
   \   00001B   8E82         MOV     DPL,R6
   \   00001D   8F83         MOV     DPH,R7
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   A3           INC     DPTR
   \   000023   A3           INC     DPTR
   \   000024   A3           INC     DPTR
   \   000025   A3           INC     DPTR
   \   000026   A3           INC     DPTR
   \   000027   A3           INC     DPTR
   \   000028   A3           INC     DPTR
   \   000029   7402         MOV     A,#0x2
   \   00002B   F0           MOVX    @DPTR,A
     59          	
     60          	for(i = 0; i < mqttPacket->_size; i++)
   \   00002C   90....       MOV     DPTR,#__Constant_0
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?L_MOV_X
   \   000034   85....       MOV     ?V0 + 8,?V0 + 0
   \   000037   85....       MOV     ?V0 + 9,?V0 + 1
   \   00003A   85....       MOV     ?V0 + 10,?V0 + 2
   \   00003D   85....       MOV     ?V0 + 11,?V0 + 3
   \                     ??MQTT_NewBuffer_0:
   \   000040   8E82         MOV     DPL,R6
   \   000042   8F83         MOV     DPH,R7
   \   000044   A3           INC     DPTR
   \   000045   A3           INC     DPTR
   \   000046   A3           INC     DPTR
   \   000047   A3           INC     DPTR
   \   000048   A3           INC     DPTR
   \   000049   A3           INC     DPTR
   \   00004A   78..         MOV     R0,#?V0 + 8
   \   00004C   12....       LCALL   ?UL_GE_X
   \   00004F   4023         JC      ??MQTT_NewBuffer_1
     61          		mqttPacket->_data[i] = 0;
   \   000051   85....       MOV     ?V0 + 0,?V0 + 8
   \   000054   85....       MOV     ?V0 + 1,?V0 + 9
   \   000057   8E82         MOV     DPL,R6
   \   000059   8F83         MOV     DPH,R7
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   25..         ADD     A,?V0 + 0
   \   00005E   F8           MOV     R0,A
   \   00005F   A3           INC     DPTR
   \   000060   E0           MOVX    A,@DPTR
   \   000061   35..         ADDC    A,?V0 + 1
   \   000063   8882         MOV     DPL,R0
   \   000065   F583         MOV     DPH,A
   \   000067   7400         MOV     A,#0x0
   \   000069   F0           MOVX    @DPTR,A
   \   00006A   90....       MOV     DPTR,#__Constant_1
   \   00006D   78..         MOV     R0,#?V0 + 8
   \   00006F   12....       LCALL   ?L_ADD_X
   \   000072   80CC         SJMP    ??MQTT_NewBuffer_0
     62          	
     63          	mqttPacket->_len = 0;
   \                     ??MQTT_NewBuffer_1:
   \   000074   90....       MOV     DPTR,#__Constant_0
   \   000077   12....       LCALL   ?XLOAD_R2345
   \   00007A   8E82         MOV     DPL,R6
   \   00007C   8F83         MOV     DPH,R7
   \   00007E   A3           INC     DPTR
   \   00007F   A3           INC     DPTR
   \   000080   12....       LCALL   ?XSTORE_R2345
     64          	
     65          	if(mqttPacket->_size < size)
   \   000083   8E82         MOV     DPL,R6
   \   000085   8F83         MOV     DPH,R7
   \   000087   A3           INC     DPTR
   \   000088   A3           INC     DPTR
   \   000089   A3           INC     DPTR
   \   00008A   A3           INC     DPTR
   \   00008B   A3           INC     DPTR
   \   00008C   A3           INC     DPTR
   \   00008D   78..         MOV     R0,#?V0 + 4
   \   00008F   12....       LCALL   ?UL_GT_X
   \   000092   500B         JNC     ??MQTT_NewBuffer_2
     66          		mqttPacket->_data = NULL;
   \   000094   8E82         MOV     DPL,R6
   \   000096   8F83         MOV     DPH,R7
   \   000098   7400         MOV     A,#0x0
   \   00009A   F0           MOVX    @DPTR,A
   \   00009B   A3           INC     DPTR
   \   00009C   7400         MOV     A,#0x0
   \   00009E   F0           MOVX    @DPTR,A
     67          }
   \                     ??MQTT_NewBuffer_2:
   \   00009F   7F0C         MOV     R7,#0xc
   \   0000A1   02....       LJMP    ?BANKED_LEAVE_XDATA
     68          
     69          //==========================================================
     70          //	函数名称：	MQTT_DeleteBuffer
     71          //
     72          //	函数功能：	释放数据内存
     73          //
     74          //	入口参数：	edpPacket：包结构体
     75          //
     76          //	返回参数：	无
     77          //
     78          //	说明：		
     79          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     80          void MQTT_DeleteBuffer(MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_DeleteBuffer:
     81          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   F8           MOV     R0,A
   \   000007   EB           MOV     A,R3
   \   000008   F9           MOV     R1,A
     82          	mqttPacket->_data = NULL;
   \   000009   8882         MOV     DPL,R0
   \   00000B   8983         MOV     DPH,R1
   \   00000D   7400         MOV     A,#0x0
   \   00000F   F0           MOVX    @DPTR,A
   \   000010   A3           INC     DPTR
   \   000011   7400         MOV     A,#0x0
   \   000013   F0           MOVX    @DPTR,A
     83          	mqttPacket->_len = 0;
   \   000014   90....       MOV     DPTR,#__Constant_0
   \   000017   12....       LCALL   ?XLOAD_R2345
   \   00001A   8882         MOV     DPL,R0
   \   00001C   8983         MOV     DPH,R1
   \   00001E   A3           INC     DPTR
   \   00001F   A3           INC     DPTR
   \   000020   12....       LCALL   ?XSTORE_R2345
     84          	mqttPacket->_size = 0;
   \   000023   90....       MOV     DPTR,#__Constant_0
   \   000026   12....       LCALL   ?XLOAD_R2345
   \   000029   8882         MOV     DPL,R0
   \   00002B   8983         MOV     DPH,R1
   \   00002D   A3           INC     DPTR
   \   00002E   A3           INC     DPTR
   \   00002F   A3           INC     DPTR
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   A3           INC     DPTR
   \   000033   12....       LCALL   ?XSTORE_R2345
     85          	mqttPacket->_memFlag = MEM_FLAG_NULL;
   \   000036   8882         MOV     DPL,R0
   \   000038   8983         MOV     DPH,R1
   \   00003A   A3           INC     DPTR
   \   00003B   A3           INC     DPTR
   \   00003C   A3           INC     DPTR
   \   00003D   A3           INC     DPTR
   \   00003E   A3           INC     DPTR
   \   00003F   A3           INC     DPTR
   \   000040   A3           INC     DPTR
   \   000041   A3           INC     DPTR
   \   000042   A3           INC     DPTR
   \   000043   A3           INC     DPTR
   \   000044   7400         MOV     A,#0x0
   \   000046   F0           MOVX    @DPTR,A
     86          
     87          }
   \   000047   7F01         MOV     R7,#0x1
   \   000049   02....       LJMP    ?BANKED_LEAVE_XDATA
     88          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     89          int32 MQTT_DumpLength(size_t len, uint8 *buf)
   \                     MQTT_DumpLength:
     90          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   8C..         MOV     ?V0 + 0,R4
   \   00000B   8D..         MOV     ?V0 + 1,R5
     91          	
     92          	int32 i = 0;
   \   00000D   90....       MOV     DPTR,#__Constant_0
   \   000010   78..         MOV     R0,#?V0 + 4
   \   000012   12....       LCALL   ?L_MOV_X
     93          	
     94          	for(i = 1; i <= 4; ++i)
   \   000015   90....       MOV     DPTR,#__Constant_1
   \   000018   78..         MOV     R0,#?V0 + 8
   \   00001A   12....       LCALL   ?L_MOV_X
   \   00001D   85....       MOV     ?V0 + 4,?V0 + 8
   \   000020   85....       MOV     ?V0 + 5,?V0 + 9
   \   000023   85....       MOV     ?V0 + 6,?V0 + 10
   \   000026   85....       MOV     ?V0 + 7,?V0 + 11
   \                     ??MQTT_DumpLength_0:
   \   000029   90....       MOV     DPTR,#__Constant_5
   \   00002C   78..         MOV     R0,#?V0 + 4
   \   00002E   12....       LCALL   ?SL_GE_X
   \   000031   4051         JC      ??MQTT_DumpLength_1
     95          	{
     96          		*buf = len % 128;
   \   000033   EE           MOV     A,R6
   \   000034   F8           MOV     R0,A
   \   000035   EF           MOV     A,R7
   \   000036   F9           MOV     R1,A
   \   000037   7A80         MOV     R2,#-0x80
   \   000039   7B00         MOV     R3,#0x0
   \   00003B   12....       LCALL   ?US_DIV_MOD
   \   00003E   EA           MOV     A,R2
   \   00003F   85..82       MOV     DPL,?V0 + 0
   \   000042   85..83       MOV     DPH,?V0 + 1
   \   000045   F0           MOVX    @DPTR,A
     97          		len >>= 7;
   \   000046   8E..         MOV     ?V0 + 2,R6
   \   000048   8F..         MOV     ?V0 + 3,R7
   \   00004A   7407         MOV     A,#0x7
   \   00004C   78..         MOV     R0,#?V0 + 2
   \   00004E   12....       LCALL   ?US_SHR
   \   000051   AE..         MOV     R6,?V0 + 2
   \   000053   AF..         MOV     R7,?V0 + 3
     98          		if(len > 0)
   \   000055   EE           MOV     A,R6
   \   000056   4F           ORL     A,R7
   \   000057   6021         JZ      ??MQTT_DumpLength_2
     99          		{
    100          			*buf |= 128;
   \   000059   85..82       MOV     DPL,?V0 + 0
   \   00005C   85..83       MOV     DPH,?V0 + 1
   \   00005F   E0           MOVX    A,@DPTR
   \   000060   D2E7         SETB    0xE0 /* A   */.7
   \   000062   F0           MOVX    @DPTR,A
    101          			++buf;
   \   000063   85..82       MOV     DPL,?V0 + 0
   \   000066   85..83       MOV     DPH,?V0 + 1
   \   000069   A3           INC     DPTR
   \   00006A   8582..       MOV     ?V0 + 0,DPL
   \   00006D   8583..       MOV     ?V0 + 1,DPH
    102          		}
   \   000070   90....       MOV     DPTR,#__Constant_1
   \   000073   78..         MOV     R0,#?V0 + 4
   \   000075   12....       LCALL   ?L_ADD_X
   \   000078   80AF         SJMP    ??MQTT_DumpLength_0
    103          		else
    104          		{
    105          			return i;
   \                     ??MQTT_DumpLength_2:
   \   00007A   AA..         MOV     R2,?V0 + 4
   \   00007C   AB..         MOV     R3,?V0 + 5
   \   00007E   AC..         MOV     R4,?V0 + 6
   \   000080   AD..         MOV     R5,?V0 + 7
   \   000082   8008         SJMP    ??MQTT_DumpLength_3
    106          		}
    107          	}
    108          
    109          	return -1;
   \                     ??MQTT_DumpLength_1:
   \   000084   7AFF         MOV     R2,#-0x1
   \   000086   7BFF         MOV     R3,#-0x1
   \   000088   7CFF         MOV     R4,#-0x1
   \   00008A   7DFF         MOV     R5,#-0x1
   \                     ??MQTT_DumpLength_3:
   \   00008C   7F0C         MOV     R7,#0xc
   \   00008E   02....       LJMP    ?BANKED_LEAVE_XDATA
    110          }
    111          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    112          int32 MQTT_ReadLength(const uint8 *stream, int32 size, uint32 *len)
   \                     MQTT_ReadLength:
    113          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7402         MOV     A,#0x2
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EA           MOV     A,R2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   EB           MOV     A,R3
   \   000013   F0           MOVX    @DPTR,A
   \   000014   85..82       MOV     DPL,?XSP + 0
   \   000017   85..83       MOV     DPH,?XSP + 1
   \   00001A   EC           MOV     A,R4
   \   00001B   F0           MOVX    @DPTR,A
   \   00001C   A3           INC     DPTR
   \   00001D   ED           MOV     A,R5
   \   00001E   F0           MOVX    @DPTR,A
   \   00001F   741C         MOV     A,#0x1c
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   78..         MOV     R0,#?V0 + 4
   \   000026   12....       LCALL   ?L_MOV_X
    114          	
    115          	int32 i;
    116          	const uint8 *in = stream;
   \   000029   7402         MOV     A,#0x2
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   FE           MOV     R6,A
   \   000030   A3           INC     DPTR
   \   000031   E0           MOVX    A,@DPTR
   \   000032   FF           MOV     R7,A
    117          	uint32 multiplier = 1;
   \   000033   90....       MOV     DPTR,#__Constant_1
   \   000036   78..         MOV     R0,#?V0 + 12
   \   000038   12....       LCALL   ?L_MOV_X
    118          
    119          	*len = 0;
   \   00003B   90....       MOV     DPTR,#__Constant_0
   \   00003E   12....       LCALL   ?XLOAD_R2345
   \   000041   85..82       MOV     DPL,?XSP + 0
   \   000044   85..83       MOV     DPH,?XSP + 1
   \   000047   E0           MOVX    A,@DPTR
   \   000048   F8           MOV     R0,A
   \   000049   A3           INC     DPTR
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   F583         MOV     DPH,A
   \   00004D   8882         MOV     DPL,R0
   \   00004F   12....       LCALL   ?XSTORE_R2345
    120          	for(i = 0; i < size; ++i)
   \   000052   90....       MOV     DPTR,#__Constant_0
   \   000055   78..         MOV     R0,#?V0 + 0
   \   000057   12....       LCALL   ?L_MOV_X
   \   00005A   85....       MOV     ?V0 + 8,?V0 + 0
   \   00005D   85....       MOV     ?V0 + 9,?V0 + 1
   \   000060   85....       MOV     ?V0 + 10,?V0 + 2
   \   000063   85....       MOV     ?V0 + 11,?V0 + 3
   \                     ??MQTT_ReadLength_0:
   \   000066   78..         MOV     R0,#?V0 + 4
   \   000068   79..         MOV     R1,#?V0 + 8
   \   00006A   12....       LCALL   ?SL_GT
   \   00006D   4003         JC      $+5
   \   00006F   02....       LJMP    ??MQTT_ReadLength_1 & 0xFFFF
    121          	{
    122          		*len += (in[i] & 0x7f) * multiplier;
   \   000072   85....       MOV     ?V0 + 0,?V0 + 8
   \   000075   85....       MOV     ?V0 + 1,?V0 + 9
   \   000078   EE           MOV     A,R6
   \   000079   25..         ADD     A,?V0 + 0
   \   00007B   F582         MOV     DPL,A
   \   00007D   EF           MOV     A,R7
   \   00007E   35..         ADDC    A,?V0 + 1
   \   000080   F583         MOV     DPH,A
   \   000082   E0           MOVX    A,@DPTR
   \   000083   F8           MOV     R0,A
   \   000084   7900         MOV     R1,#0x0
   \   000086   547F         ANL     A,#0x7f
   \   000088   F5..         MOV     ?V0 + 0,A
   \   00008A   E9           MOV     A,R1
   \   00008B   5400         ANL     A,#0x0
   \   00008D   F5..         MOV     ?V0 + 1,A
   \   00008F   E5..         MOV     A,?V0 + 1
   \   000091   33           RLC     A
   \   000092   95E0         SUBB    A,0xE0 /* A   */
   \   000094   F5..         MOV     ?V0 + 2,A
   \   000096   F5..         MOV     ?V0 + 3,A
   \   000098   78..         MOV     R0,#?V0 + 0
   \   00009A   79..         MOV     R1,#?V0 + 12
   \   00009C   12....       LCALL   ?L_MUL
   \   00009F   85..82       MOV     DPL,?XSP + 0
   \   0000A2   85..83       MOV     DPH,?XSP + 1
   \   0000A5   E0           MOVX    A,@DPTR
   \   0000A6   F8           MOV     R0,A
   \   0000A7   A3           INC     DPTR
   \   0000A8   E0           MOVX    A,@DPTR
   \   0000A9   F583         MOV     DPH,A
   \   0000AB   8882         MOV     DPL,R0
   \   0000AD   78..         MOV     R0,#?V0 + 0
   \   0000AF   12....       LCALL   ?L_ADD_TO_X
    123          
    124          		if(!(in[i] & 0x80))
   \   0000B2   85....       MOV     ?V0 + 0,?V0 + 8
   \   0000B5   85....       MOV     ?V0 + 1,?V0 + 9
   \   0000B8   EE           MOV     A,R6
   \   0000B9   25..         ADD     A,?V0 + 0
   \   0000BB   F582         MOV     DPL,A
   \   0000BD   EF           MOV     A,R7
   \   0000BE   35..         ADDC    A,?V0 + 1
   \   0000C0   F583         MOV     DPH,A
   \   0000C2   E0           MOVX    A,@DPTR
   \   0000C3   A2E7         MOV     C,0xE0 /* A   */.7
   \   0000C5   4012         JC      ??MQTT_ReadLength_2
    125          		{
    126          			return i + 1;
   \   0000C7   90....       MOV     DPTR,#__Constant_1
   \   0000CA   78..         MOV     R0,#?V0 + 8
   \   0000CC   12....       LCALL   ?L_ADD_X
   \   0000CF   AA..         MOV     R2,?V0 + 8
   \   0000D1   AB..         MOV     R3,?V0 + 9
   \   0000D3   AC..         MOV     R4,?V0 + 10
   \   0000D5   AD..         MOV     R5,?V0 + 11
   \   0000D7   802E         SJMP    ??MQTT_ReadLength_3
    127          		}
    128          
    129          		multiplier <<= 7;
   \                     ??MQTT_ReadLength_2:
   \   0000D9   7407         MOV     A,#0x7
   \   0000DB   78..         MOV     R0,#?V0 + 12
   \   0000DD   12....       LCALL   ?L_SHL
    130          		if(multiplier >= 2097152)		//128 * *128 * *128
   \   0000E0   90....       MOV     DPTR,#__Constant_200000
   \   0000E3   78..         MOV     R0,#?V0 + 12
   \   0000E5   12....       LCALL   ?UL_GE_X
   \   0000E8   500A         JNC     ??MQTT_ReadLength_4
    131          		{
    132          			return -2;					// error, out of range
   \   0000EA   7AFE         MOV     R2,#-0x2
   \   0000EC   7BFF         MOV     R3,#-0x1
   \   0000EE   7CFF         MOV     R4,#-0x1
   \   0000F0   7DFF         MOV     R5,#-0x1
   \   0000F2   8013         SJMP    ??MQTT_ReadLength_3
    133          		}
    134          	}
   \                     ??MQTT_ReadLength_4:
   \   0000F4   90....       MOV     DPTR,#__Constant_1
   \   0000F7   78..         MOV     R0,#?V0 + 8
   \   0000F9   12....       LCALL   ?L_ADD_X
   \   0000FC   02....       LJMP    ??MQTT_ReadLength_0 & 0xFFFF
    135          
    136          	return -1;							// not complete
   \                     ??MQTT_ReadLength_1:
   \   0000FF   7AFF         MOV     R2,#-0x1
   \   000101   7BFF         MOV     R3,#-0x1
   \   000103   7CFF         MOV     R4,#-0x1
   \   000105   7DFF         MOV     R5,#-0x1
   \                     ??MQTT_ReadLength_3:
   \   000107   7404         MOV     A,#0x4
   \   000109   12....       LCALL   ?DEALLOC_XSTACK8
   \   00010C   7F10         MOV     R7,#0x10
   \   00010E   02....       LJMP    ?BANKED_LEAVE_XDATA
    137          
    138          }
    139          
    140          //==========================================================
    141          //	函数名称：	MQTT_UnPacketRecv
    142          //
    143          //	函数功能：	MQTT数据接收类型判断
    144          //
    145          //	入口参数：	dataPtr：接收的数据指针
    146          //
    147          //	返回参数：	0-成功		其他-失败原因
    148          //
    149          //	说明：		
    150          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    151          uint8 MQTT_UnPacketRecv(uint8 *dataPtr)
   \                     MQTT_UnPacketRecv:
    152          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    153          	
    154          	uint8 status = 255;
   \   00000E   75..FF       MOV     ?V0 + 0,#-0x1
    155          	uint8 type = dataPtr[0] >> 4;				//类型检查
   \   000011   8E82         MOV     DPL,R6
   \   000013   8F83         MOV     DPH,R7
   \   000015   E0           MOVX    A,@DPTR
   \   000016   C4           SWAP    A
   \   000017   540F         ANL     A,#0xf
   \   000019   F5..         MOV     ?V0 + 1,A
    156          	
    157          	if(type < 1 || type > 14)
   \   00001B   E5..         MOV     A,?V0 + 1
   \   00001D   C3           CLR     C
   \   00001E   9401         SUBB    A,#0x1
   \   000020   4007         JC      ??MQTT_UnPacketRecv_0
   \   000022   E5..         MOV     A,?V0 + 1
   \   000024   C3           CLR     C
   \   000025   940F         SUBB    A,#0xf
   \   000027   4005         JC      ??MQTT_UnPacketRecv_1
    158          		return status;
   \                     ??MQTT_UnPacketRecv_0:
   \   000029   A9..         MOV     R1,?V0 + 0
   \   00002B   02....       LJMP    ??MQTT_UnPacketRecv_2 & 0xFFFF
    159          	
    160          	if(type == MQTT_PKT_PUBLISH)
   \                     ??MQTT_UnPacketRecv_1:
   \   00002E   7403         MOV     A,#0x3
   \   000030   65..         XRL     A,?V0 + 1
   \   000032   6003         JZ      $+5
   \   000034   02....       LJMP    ??MQTT_UnPacketRecv_3 & 0xFFFF
    161          	{
    162          		uint8 *msgPtr;
    163          		uint32 remain_len = 0;
   \   000037   90....       MOV     DPTR,#__Constant_0
   \   00003A   12....       LCALL   ?XLOAD_R2345
   \   00003D   85..82       MOV     DPL,?XSP + 0
   \   000040   85..83       MOV     DPH,?XSP + 1
   \   000043   12....       LCALL   ?XSTORE_R2345
    164          		
    165          		msgPtr = dataPtr + MQTT_ReadLength(dataPtr + 1, 4, &remain_len) + 1;
   \   000046                ; Setup parameters for call to function MQTT_ReadLength
   \   000046   90....       MOV     DPTR,#__Constant_4
   \   000049   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00004C   7404         MOV     A,#0x4
   \   00004E   12....       LCALL   ?XSTACK_DISP0_8
   \   000051   AC82         MOV     R4,DPL
   \   000053   AD83         MOV     R5,DPH
   \   000055   8E82         MOV     DPL,R6
   \   000057   8F83         MOV     DPH,R7
   \   000059   A3           INC     DPTR
   \   00005A   AA82         MOV     R2,DPL
   \   00005C   AB83         MOV     R3,DPH
   \   00005E   12....       LCALL   ??MQTT_ReadLength?relay
   \   000061   7404         MOV     A,#0x4
   \   000063   12....       LCALL   ?DEALLOC_XSTACK8
   \   000066   8A..         MOV     ?V0 + 4,R2
   \   000068   8B..         MOV     ?V0 + 5,R3
   \   00006A   8C..         MOV     ?V0 + 6,R4
   \   00006C   8D..         MOV     ?V0 + 7,R5
   \   00006E   EE           MOV     A,R6
   \   00006F   25..         ADD     A,?V0 + 4
   \   000071   F582         MOV     DPL,A
   \   000073   EF           MOV     A,R7
   \   000074   35..         ADDC    A,?V0 + 5
   \   000076   F583         MOV     DPH,A
   \   000078   A3           INC     DPTR
   \   000079   8582..       MOV     ?V0 + 2,DPL
   \   00007C   8583..       MOV     ?V0 + 3,DPH
    166          		
    167          		if(remain_len < 2 || dataPtr[0] & 0x01)					//retain
   \   00007F   85..82       MOV     DPL,?XSP + 0
   \   000082   85..83       MOV     DPH,?XSP + 1
   \   000085   C082         PUSH    DPL
   \   000087   C083         PUSH    DPH
   \   000089   90....       MOV     DPTR,#__Constant_2
   \   00008C   78..         MOV     R0,#?V0 + 4
   \   00008E   12....       LCALL   ?L_MOV_X
   \   000091   D083         POP     DPH
   \   000093   D082         POP     DPL
   \   000095   78..         MOV     R0,#?V0 + 4
   \   000097   12....       LCALL   ?UL_GT_X
   \   00009A   4009         JC      ??MQTT_UnPacketRecv_4
   \   00009C   8E82         MOV     DPL,R6
   \   00009E   8F83         MOV     DPH,R7
   \   0000A0   E0           MOVX    A,@DPTR
   \   0000A1   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000A3   5004         JNC     ??MQTT_UnPacketRecv_5
    168          			return 255;
   \                     ??MQTT_UnPacketRecv_4:
   \   0000A5   79FF         MOV     R1,#-0x1
   \   0000A7   8070         SJMP    ??MQTT_UnPacketRecv_2
    169          		
    170          		if(remain_len < ((uint16)msgPtr[0] << 8 | msgPtr[1]) + 2)
   \                     ??MQTT_UnPacketRecv_5:
   \   0000A9   85..82       MOV     DPL,?XSP + 0
   \   0000AC   85..83       MOV     DPH,?XSP + 1
   \   0000AF   C082         PUSH    DPL
   \   0000B1   C083         PUSH    DPH
   \   0000B3   85..82       MOV     DPL,?V0 + 2
   \   0000B6   85..83       MOV     DPH,?V0 + 3
   \   0000B9   E0           MOVX    A,@DPTR
   \   0000BA   F8           MOV     R0,A
   \   0000BB   7900         MOV     R1,#0x0
   \   0000BD   E4           CLR     A
   \   0000BE   C8           XCH     A,R0
   \   0000BF   F9           MOV     R1,A
   \   0000C0   85..82       MOV     DPL,?V0 + 2
   \   0000C3   85..83       MOV     DPH,?V0 + 3
   \   0000C6   A3           INC     DPTR
   \   0000C7   E0           MOVX    A,@DPTR
   \   0000C8   FA           MOV     R2,A
   \   0000C9   7B00         MOV     R3,#0x0
   \   0000CB   E8           MOV     A,R0
   \   0000CC   4A           ORL     A,R2
   \   0000CD   F8           MOV     R0,A
   \   0000CE   E9           MOV     A,R1
   \   0000CF   4B           ORL     A,R3
   \   0000D0   F9           MOV     R1,A
   \   0000D1   E8           MOV     A,R0
   \   0000D2   2402         ADD     A,#0x2
   \   0000D4   F5..         MOV     ?V0 + 4,A
   \   0000D6   E9           MOV     A,R1
   \   0000D7   3400         ADDC    A,#0x0
   \   0000D9   F5..         MOV     ?V0 + 5,A
   \   0000DB   E4           CLR     A
   \   0000DC   F5..         MOV     ?V0 + 6,A
   \   0000DE   F5..         MOV     ?V0 + 7,A
   \   0000E0   D083         POP     DPH
   \   0000E2   D082         POP     DPL
   \   0000E4   78..         MOV     R0,#?V0 + 4
   \   0000E6   12....       LCALL   ?UL_GT_X
   \   0000E9   5004         JNC     ??MQTT_UnPacketRecv_6
    171          			return 255;
   \   0000EB   79FF         MOV     R1,#-0x1
   \   0000ED   802A         SJMP    ??MQTT_UnPacketRecv_2
    172          		
    173          		if(strstr((int8 *)msgPtr + 2, CMD_TOPIC_PREFIX) != NULL)	//如果是命令下发
                 		          ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char const *"
   \                     ??MQTT_UnPacketRecv_6:
   \   0000EF                ; Setup parameters for call to function strstr
   \   0000EF   7C..         MOV     R4,#`?<Constant "$creq">` & 0xff
   \   0000F1   7D..         MOV     R5,#(`?<Constant "$creq">` >> 8) & 0xff
   \   0000F3   E5..         MOV     A,?V0 + 2
   \   0000F5   2402         ADD     A,#0x2
   \   0000F7   FA           MOV     R2,A
   \   0000F8   E5..         MOV     A,?V0 + 3
   \   0000FA   3400         ADDC    A,#0x0
   \   0000FC   FB           MOV     R3,A
   \   0000FD   12....       LCALL   ??strstr?relay
   \   000100   8A..         MOV     ?V0 + 4,R2
   \   000102   8B..         MOV     ?V0 + 5,R3
   \   000104   E5..         MOV     A,?V0 + 4
   \   000106   45..         ORL     A,?V0 + 5
   \   000108   6005         JZ      ??MQTT_UnPacketRecv_7
    174          			status = MQTT_PKT_CMD;
   \   00010A   75..0F       MOV     ?V0 + 0,#0xf
   \   00010D   8008         SJMP    ??MQTT_UnPacketRecv_8
    175          		else
    176          			status = MQTT_PKT_PUBLISH;
   \                     ??MQTT_UnPacketRecv_7:
   \   00010F   75..03       MOV     ?V0 + 0,#0x3
   \   000112   8003         SJMP    ??MQTT_UnPacketRecv_8
    177          	}
    178          	else
    179          		status = type;
   \                     ??MQTT_UnPacketRecv_3:
   \   000114   85....       MOV     ?V0 + 0,?V0 + 1
    180          	
    181          	return status;
   \                     ??MQTT_UnPacketRecv_8:
   \   000117   A9..         MOV     R1,?V0 + 0
   \                     ??MQTT_UnPacketRecv_2:
   \   000119   7404         MOV     A,#0x4
   \   00011B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00011E   7F08         MOV     R7,#0x8
   \   000120   02....       LJMP    ?BANKED_LEAVE_XDATA
    182          
    183          }
    184          
    185          //==========================================================
    186          //	函数名称：	MQTT_PacketConnect
    187          //
    188          //	函数功能：	连接消息组包
    189          //
    190          //	入口参数：	user：用户名：产品ID
    191          //				password：密码：鉴权信息或apikey
    192          //				devid：设备ID
    193          //				cTime：连接保持时间
    194          //				clean_session：离线消息清除标志
    195          //				qos：重发标志
    196          //				will_topic：异常离线topic
    197          //				will_msg：异常离线消息
    198          //				will_retain：消息推送标志
    199          //				mqttPacket：包指针
    200          //
    201          //	返回参数：	0-成功		其他-失败
    202          //
    203          //	说明：		
    204          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    205          uint8 MQTT_PacketConnect(const int8 *user, const int8 *password, const int8 *devid,
   \                     MQTT_PacketConnect:
    206          						uint16 cTime, uint1 clean_session, uint1 qos,
    207          						const int8 *will_topic, const int8 *will_msg, int32 will_retain,
    208          						MQTT_PACKET_STRUCTURE *mqttPacket)
    209          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 5
   \   000005   74FB         MOV     A,#-0x5
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7402         MOV     A,#0x2
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EA           MOV     A,R2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   EB           MOV     A,R3
   \   000013   F0           MOVX    @DPTR,A
   \   000014   85..82       MOV     DPL,?XSP + 0
   \   000017   85..83       MOV     DPH,?XSP + 1
   \   00001A   EC           MOV     A,R4
   \   00001B   F0           MOVX    @DPTR,A
   \   00001C   A3           INC     DPTR
   \   00001D   ED           MOV     A,R5
   \   00001E   F0           MOVX    @DPTR,A
   \   00001F   E9           MOV     A,R1
   \   000020   C0E0         PUSH    A
   \   000022   7404         MOV     A,#0x4
   \   000024   12....       LCALL   ?XSTACK_DISP0_8
   \   000027   D0E0         POP     A
   \   000029   F0           MOVX    @DPTR,A
   \   00002A   741F         MOV     A,#0x1f
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   E0           MOVX    A,@DPTR
   \   000030   F5..         MOV     ?V0 + 14,A
   \   000032   A3           INC     DPTR
   \   000033   E0           MOVX    A,@DPTR
   \   000034   F5..         MOV     ?V0 + 15,A
   \   000036   742A         MOV     A,#0x2a
   \   000038   12....       LCALL   ?XSTACK_DISP0_8
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   FE           MOV     R6,A
   \   00003D   A3           INC     DPTR
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   FF           MOV     R7,A
    210          	
    211          	uint8 flags = 0;
   \   000040   75..00       MOV     ?V0 + 10,#0x0
    212          	uint8 will_topic_len = 0;
   \   000043   75..00       MOV     ?V0 + 11,#0x0
    213          	uint16 total_len = 15;
   \   000046   75..0F       MOV     ?V0 + 8,#0xf
   \   000049   75..00       MOV     ?V0 + 9,#0x0
    214          	int16 len = 0, devid_len = strlen(devid);
                 	                                  ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   00004C   75..00       MOV     ?V0 + 12,#0x0
   \   00004F   75..00       MOV     ?V0 + 13,#0x0
   \   000052                ; Setup parameters for call to function strlen
   \   000052   741D         MOV     A,#0x1d
   \   000054   12....       LCALL   ?XSTACK_DISP0_8
   \   000057   E0           MOVX    A,@DPTR
   \   000058   FA           MOV     R2,A
   \   000059   A3           INC     DPTR
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   FB           MOV     R3,A
   \   00005C   12....       LCALL   ??strlen?relay
   \   00005F   8A..         MOV     ?V0 + 0,R2
   \   000061   8B..         MOV     ?V0 + 1,R3
   \   000063   85....       MOV     ?V0 + 2,?V0 + 0
   \   000066   85....       MOV     ?V0 + 3,?V0 + 1
    215          	
    216          	if(!devid)
   \   000069   741D         MOV     A,#0x1d
   \   00006B   12....       LCALL   ?XSTACK_DISP0_8
   \   00006E   E0           MOVX    A,@DPTR
   \   00006F   F8           MOV     R0,A
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   F9           MOV     R1,A
   \   000073   E8           MOV     A,R0
   \   000074   49           ORL     A,R1
   \   000075   7005         JNZ     ??MQTT_PacketConnect_0
    217          		return 1;
   \   000077   7901         MOV     R1,#0x1
   \   000079   02....       LJMP    ??MQTT_PacketConnect_1 & 0xFFFF
    218          	
    219          	total_len += devid_len + 2;
   \                     ??MQTT_PacketConnect_0:
   \   00007C   E5..         MOV     A,?V0 + 2
   \   00007E   2402         ADD     A,#0x2
   \   000080   F8           MOV     R0,A
   \   000081   E5..         MOV     A,?V0 + 3
   \   000083   3400         ADDC    A,#0x0
   \   000085   F9           MOV     R1,A
   \   000086   E5..         MOV     A,?V0 + 8
   \   000088   28           ADD     A,R0
   \   000089   F5..         MOV     ?V0 + 8,A
   \   00008B   E5..         MOV     A,?V0 + 9
   \   00008D   39           ADDC    A,R1
   \   00008E   F5..         MOV     ?V0 + 9,A
    220          	
    221          	//断线后，是否清理离线消息：1-清理	0-不清理--------------------------------------------
    222          	if(clean_session)
   \   000090   7404         MOV     A,#0x4
   \   000092   12....       LCALL   ?XSTACK_DISP0_8
   \   000095   E0           MOVX    A,@DPTR
   \   000096   6007         JZ      ??MQTT_PacketConnect_2
    223          	{
    224          		flags |= MQTT_CONNECT_CLEAN_SESSION;
   \   000098   D3           SETB    C
   \   000099   E5..         MOV     A,?V0 + 10
   \   00009B   92E1         MOV     0xE0 /* A   */.1,C
   \   00009D   F5..         MOV     ?V0 + 10,A
    225          	}
    226          	
    227          	//异常掉线情况下，服务器发布的topic------------------------------------------------------
    228          	if(will_topic)
   \                     ??MQTT_PacketConnect_2:
   \   00009F   7422         MOV     A,#0x22
   \   0000A1   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A4   E0           MOVX    A,@DPTR
   \   0000A5   F8           MOV     R0,A
   \   0000A6   A3           INC     DPTR
   \   0000A7   E0           MOVX    A,@DPTR
   \   0000A8   F9           MOV     R1,A
   \   0000A9   E8           MOV     A,R0
   \   0000AA   49           ORL     A,R1
   \   0000AB   604E         JZ      ??MQTT_PacketConnect_3
    229          	{
    230          		flags |= MQTT_CONNECT_WILL_FLAG;
   \   0000AD   D3           SETB    C
   \   0000AE   E5..         MOV     A,?V0 + 10
   \   0000B0   92E2         MOV     0xE0 /* A   */.2,C
   \   0000B2   F5..         MOV     ?V0 + 10,A
    231          		will_topic_len = strlen(will_topic);
                 		                        ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0000B4                ; Setup parameters for call to function strlen
   \   0000B4   7422         MOV     A,#0x22
   \   0000B6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B9   E0           MOVX    A,@DPTR
   \   0000BA   FA           MOV     R2,A
   \   0000BB   A3           INC     DPTR
   \   0000BC   E0           MOVX    A,@DPTR
   \   0000BD   FB           MOV     R3,A
   \   0000BE   12....       LCALL   ??strlen?relay
   \   0000C1   EA           MOV     A,R2
   \   0000C2   F5..         MOV     ?V0 + 11,A
    232          		total_len += 4 + will_topic_len + strlen(will_msg);
                 		                                         ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0000C4   85....       MOV     ?V0 + 0,?V0 + 11
   \   0000C7   75..00       MOV     ?V0 + 1,#0x0
   \   0000CA   E5..         MOV     A,?V0 + 0
   \   0000CC   2404         ADD     A,#0x4
   \   0000CE   F5..         MOV     ?V0 + 0,A
   \   0000D0   E5..         MOV     A,?V0 + 1
   \   0000D2   3400         ADDC    A,#0x0
   \   0000D4   F5..         MOV     ?V0 + 1,A
   \   0000D6                ; Setup parameters for call to function strlen
   \   0000D6   7424         MOV     A,#0x24
   \   0000D8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   FA           MOV     R2,A
   \   0000DD   A3           INC     DPTR
   \   0000DE   E0           MOVX    A,@DPTR
   \   0000DF   FB           MOV     R3,A
   \   0000E0   12....       LCALL   ??strlen?relay
   \   0000E3   8A..         MOV     ?V0 + 4,R2
   \   0000E5   8B..         MOV     ?V0 + 5,R3
   \   0000E7   E5..         MOV     A,?V0 + 0
   \   0000E9   25..         ADD     A,?V0 + 4
   \   0000EB   F8           MOV     R0,A
   \   0000EC   E5..         MOV     A,?V0 + 1
   \   0000EE   35..         ADDC    A,?V0 + 5
   \   0000F0   F9           MOV     R1,A
   \   0000F1   E5..         MOV     A,?V0 + 8
   \   0000F3   28           ADD     A,R0
   \   0000F4   F5..         MOV     ?V0 + 8,A
   \   0000F6   E5..         MOV     A,?V0 + 9
   \   0000F8   39           ADDC    A,R1
   \   0000F9   F5..         MOV     ?V0 + 9,A
    233          	}
    234          	
    235          	//qos级别--主要用于PUBLISH（发布态）消息的，保证消息传递的次数-----------------------------
    236          	switch((unsigned char)qos)
   \                     ??MQTT_PacketConnect_3:
   \   0000FB   7421         MOV     A,#0x21
   \   0000FD   12....       LCALL   ?XSTACK_DISP0_8
   \   000100   E0           MOVX    A,@DPTR
   \   000101   6017         JZ      ??MQTT_PacketConnect_4
   \   000103   14           DEC     A
   \   000104   6005         JZ      ??MQTT_PacketConnect_5
   \   000106   14           DEC     A
   \   000107   6007         JZ      ??MQTT_PacketConnect_6
   \   000109   800A         SJMP    ??MQTT_PacketConnect_7
    237          	{
    238          		case MQTT_QOS_LEVEL0:
    239          			flags |= MQTT_CONNECT_WILL_QOS0;							//最多一次
    240          		break;
    241          		
    242          		case MQTT_QOS_LEVEL1:
    243          			flags |= (MQTT_CONNECT_WILL_FLAG | MQTT_CONNECT_WILL_QOS1);	//最少一次
   \                     ??MQTT_PacketConnect_5:
   \   00010B   43..0C       ORL     ?V0 + 10,#0xc
    244          		break;
   \   00010E   800A         SJMP    ??MQTT_PacketConnect_4
    245          		
    246          		case MQTT_QOS_LEVEL2:
    247          			flags |= (MQTT_CONNECT_WILL_FLAG | MQTT_CONNECT_WILL_QOS2);	//只有一次
   \                     ??MQTT_PacketConnect_6:
   \   000110   43..14       ORL     ?V0 + 10,#0x14
    248          		break;
   \   000113   8005         SJMP    ??MQTT_PacketConnect_4
    249          		
    250          		default:
    251          		return 2;
   \                     ??MQTT_PacketConnect_7:
   \   000115   7902         MOV     R1,#0x2
   \   000117   02....       LJMP    ??MQTT_PacketConnect_1 & 0xFFFF
    252          	}
    253          	
    254          	//主要用于PUBLISH(发布态)的消息，表示服务器要保留这次推送的信息，如果有新的订阅者出现，就把这消息推送给它。如果不设那么推送至当前订阅的就释放了
    255          	if(will_retain)
   \                     ??MQTT_PacketConnect_4:
   \   00011A   7426         MOV     A,#0x26
   \   00011C   12....       LCALL   ?XSTACK_DISP0_8
   \   00011F   78..         MOV     R0,#?V0 + 4
   \   000121   12....       LCALL   ?L_MOV_X
   \   000124   E5..         MOV     A,?V0 + 4
   \   000126   45..         ORL     A,?V0 + 5
   \   000128   45..         ORL     A,?V0 + 6
   \   00012A   45..         ORL     A,?V0 + 7
   \   00012C   6003         JZ      ??MQTT_PacketConnect_8
    256          	{
    257          		flags |= (MQTT_CONNECT_WILL_FLAG | MQTT_CONNECT_WILL_RETAIN);
   \   00012E   43..24       ORL     ?V0 + 10,#0x24
    258          	}
    259          	
    260          	//账号为空 密码为空---------------------------------------------------------------------
    261          	if(!user || !password)
   \                     ??MQTT_PacketConnect_8:
   \   000131   7402         MOV     A,#0x2
   \   000133   12....       LCALL   ?XSTACK_DISP0_8
   \   000136   E0           MOVX    A,@DPTR
   \   000137   F8           MOV     R0,A
   \   000138   A3           INC     DPTR
   \   000139   E0           MOVX    A,@DPTR
   \   00013A   F9           MOV     R1,A
   \   00013B   E8           MOV     A,R0
   \   00013C   49           ORL     A,R1
   \   00013D   600F         JZ      ??MQTT_PacketConnect_9
   \   00013F   85..82       MOV     DPL,?XSP + 0
   \   000142   85..83       MOV     DPH,?XSP + 1
   \   000145   E0           MOVX    A,@DPTR
   \   000146   F8           MOV     R0,A
   \   000147   A3           INC     DPTR
   \   000148   E0           MOVX    A,@DPTR
   \   000149   F9           MOV     R1,A
   \   00014A   E8           MOV     A,R0
   \   00014B   49           ORL     A,R1
   \   00014C   7005         JNZ     ??MQTT_PacketConnect_10
    262          	{
    263          		return 3;
   \                     ??MQTT_PacketConnect_9:
   \   00014E   7903         MOV     R1,#0x3
   \   000150   02....       LJMP    ??MQTT_PacketConnect_1 & 0xFFFF
    264          	}
    265          	flags |= MQTT_CONNECT_USER_NAME | MQTT_CONNECT_PASSORD;
   \                     ??MQTT_PacketConnect_10:
   \   000153   43..C0       ORL     ?V0 + 10,#0xc0
    266          	
    267          	total_len += strlen(user) + strlen(password) + 4;
                 	                    ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"

  	total_len += strlen(user) + strlen(password) + 4;
  	                                   ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",267  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   000156                ; Setup parameters for call to function strlen
   \   000156   7402         MOV     A,#0x2
   \   000158   12....       LCALL   ?XSTACK_DISP0_8
   \   00015B   E0           MOVX    A,@DPTR
   \   00015C   FA           MOV     R2,A
   \   00015D   A3           INC     DPTR
   \   00015E   E0           MOVX    A,@DPTR
   \   00015F   FB           MOV     R3,A
   \   000160   12....       LCALL   ??strlen?relay
   \   000163   8A..         MOV     ?V0 + 4,R2
   \   000165   8B..         MOV     ?V0 + 5,R3
   \   000167   85....       MOV     ?V0 + 0,?V0 + 4
   \   00016A   85....       MOV     ?V0 + 1,?V0 + 5
   \   00016D                ; Setup parameters for call to function strlen
   \   00016D   85..82       MOV     DPL,?XSP + 0
   \   000170   85..83       MOV     DPH,?XSP + 1
   \   000173   E0           MOVX    A,@DPTR
   \   000174   FA           MOV     R2,A
   \   000175   A3           INC     DPTR
   \   000176   E0           MOVX    A,@DPTR
   \   000177   FB           MOV     R3,A
   \   000178   12....       LCALL   ??strlen?relay
   \   00017B   8A..         MOV     ?V0 + 4,R2
   \   00017D   8B..         MOV     ?V0 + 5,R3
   \   00017F   E5..         MOV     A,?V0 + 0
   \   000181   25..         ADD     A,?V0 + 4
   \   000183   F8           MOV     R0,A
   \   000184   E5..         MOV     A,?V0 + 1
   \   000186   35..         ADDC    A,?V0 + 5
   \   000188   F9           MOV     R1,A
   \   000189   E8           MOV     A,R0
   \   00018A   2404         ADD     A,#0x4
   \   00018C   F8           MOV     R0,A
   \   00018D   E9           MOV     A,R1
   \   00018E   3400         ADDC    A,#0x0
   \   000190   F9           MOV     R1,A
   \   000191   E5..         MOV     A,?V0 + 8
   \   000193   28           ADD     A,R0
   \   000194   F5..         MOV     ?V0 + 8,A
   \   000196   E5..         MOV     A,?V0 + 9
   \   000198   39           ADDC    A,R1
   \   000199   F5..         MOV     ?V0 + 9,A
    268          	
    269          	//分配内存-----------------------------------------------------------------------------
    270          	MQTT_NewBuffer(mqttPacket, total_len);
   \   00019B                ; Setup parameters for call to function MQTT_NewBuffer
   \   00019B   85....       MOV     ?V0 + 4,?V0 + 8
   \   00019E   85....       MOV     ?V0 + 5,?V0 + 9
   \   0001A1   E4           CLR     A
   \   0001A2   F5..         MOV     ?V0 + 6,A
   \   0001A4   F5..         MOV     ?V0 + 7,A
   \   0001A6   78..         MOV     R0,#?V0 + 4
   \   0001A8   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0001AB   EE           MOV     A,R6
   \   0001AC   FA           MOV     R2,A
   \   0001AD   EF           MOV     A,R7
   \   0001AE   FB           MOV     R3,A
   \   0001AF   12....       LCALL   ??MQTT_NewBuffer?relay
   \   0001B2   7404         MOV     A,#0x4
   \   0001B4   12....       LCALL   ?DEALLOC_XSTACK8
    271          	if(mqttPacket->_data == NULL)
   \   0001B7   8E82         MOV     DPL,R6
   \   0001B9   8F83         MOV     DPH,R7
   \   0001BB   E0           MOVX    A,@DPTR
   \   0001BC   F8           MOV     R0,A
   \   0001BD   A3           INC     DPTR
   \   0001BE   E0           MOVX    A,@DPTR
   \   0001BF   F9           MOV     R1,A
   \   0001C0   E8           MOV     A,R0
   \   0001C1   49           ORL     A,R1
   \   0001C2   7005         JNZ     ??MQTT_PacketConnect_11
    272          		return 4;
   \   0001C4   7904         MOV     R1,#0x4
   \   0001C6   02....       LJMP    ??MQTT_PacketConnect_1 & 0xFFFF
    273          	
    274          	osal_memset(mqttPacket->_data, 0, total_len);
                 	^
Warning[Pe223]: function "osal_memset" declared implicitly
   \                     ??MQTT_PacketConnect_11:
   \   0001C9                ; Setup parameters for call to function osal_memset
   \   0001C9   78..         MOV     R0,#?V0 + 8
   \   0001CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001CE   7C00         MOV     R4,#0x0
   \   0001D0   7D00         MOV     R5,#0x0
   \   0001D2   8E82         MOV     DPL,R6
   \   0001D4   8F83         MOV     DPH,R7
   \   0001D6   E0           MOVX    A,@DPTR
   \   0001D7   FA           MOV     R2,A
   \   0001D8   A3           INC     DPTR
   \   0001D9   E0           MOVX    A,@DPTR
   \   0001DA   FB           MOV     R3,A
   \   0001DB   12....       LCALL   ??osal_memset?relay
   \   0001DE   7402         MOV     A,#0x2
   \   0001E0   12....       LCALL   ?DEALLOC_XSTACK8
    275          	
    276          /*************************************固定头部***********************************************/
    277          	
    278          	//固定头部----------------------连接请求类型---------------------------------------------
    279          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_CONNECT << 4;
   \   0001E3   8E82         MOV     DPL,R6
   \   0001E5   8F83         MOV     DPH,R7
   \   0001E7   A3           INC     DPTR
   \   0001E8   A3           INC     DPTR
   \   0001E9   78..         MOV     R0,#?V0 + 4
   \   0001EB   12....       LCALL   ?L_MOV_X
   \   0001EE   8E82         MOV     DPL,R6
   \   0001F0   8F83         MOV     DPH,R7
   \   0001F2   E0           MOVX    A,@DPTR
   \   0001F3   25..         ADD     A,?V0 + 4
   \   0001F5   F8           MOV     R0,A
   \   0001F6   A3           INC     DPTR
   \   0001F7   E0           MOVX    A,@DPTR
   \   0001F8   35..         ADDC    A,?V0 + 5
   \   0001FA   8882         MOV     DPL,R0
   \   0001FC   F583         MOV     DPH,A
   \   0001FE   7410         MOV     A,#0x10
   \   000200   F0           MOVX    @DPTR,A
   \   000201   90....       MOV     DPTR,#__Constant_1
   \   000204   78..         MOV     R0,#?V0 + 4
   \   000206   12....       LCALL   ?L_MOV_X
   \   000209   8E82         MOV     DPL,R6
   \   00020B   8F83         MOV     DPH,R7
   \   00020D   A3           INC     DPTR
   \   00020E   A3           INC     DPTR
   \   00020F   78..         MOV     R0,#?V0 + 4
   \   000211   12....       LCALL   ?L_ADD_TO_X
    280          	
    281          	//固定头部----------------------剩余长度值-----------------------------------------------
    282          	len = MQTT_DumpLength(total_len - 5, mqttPacket->_data + mqttPacket->_len);
   \   000214                ; Setup parameters for call to function MQTT_DumpLength
   \   000214   8E82         MOV     DPL,R6
   \   000216   8F83         MOV     DPH,R7
   \   000218   A3           INC     DPTR
   \   000219   A3           INC     DPTR
   \   00021A   78..         MOV     R0,#?V0 + 4
   \   00021C   12....       LCALL   ?L_MOV_X
   \   00021F   8E82         MOV     DPL,R6
   \   000221   8F83         MOV     DPH,R7
   \   000223   E0           MOVX    A,@DPTR
   \   000224   25..         ADD     A,?V0 + 4
   \   000226   FC           MOV     R4,A
   \   000227   A3           INC     DPTR
   \   000228   E0           MOVX    A,@DPTR
   \   000229   35..         ADDC    A,?V0 + 5
   \   00022B   FD           MOV     R5,A
   \   00022C   E5..         MOV     A,?V0 + 8
   \   00022E   24FB         ADD     A,#-0x5
   \   000230   FA           MOV     R2,A
   \   000231   E5..         MOV     A,?V0 + 9
   \   000233   34FF         ADDC    A,#-0x1
   \   000235   FB           MOV     R3,A
   \   000236   12....       LCALL   ??MQTT_DumpLength?relay
   \   000239   8A..         MOV     ?V0 + 4,R2
   \   00023B   8B..         MOV     ?V0 + 5,R3
   \   00023D   8C..         MOV     ?V0 + 6,R4
   \   00023F   8D..         MOV     ?V0 + 7,R5
   \   000241   85....       MOV     ?V0 + 12,?V0 + 4
   \   000244   85....       MOV     ?V0 + 13,?V0 + 5
    283          	if(len < 0)
   \   000247   C3           CLR     C
   \   000248   E5..         MOV     A,?V0 + 12
   \   00024A   9400         SUBB    A,#0x0
   \   00024C   E5..         MOV     A,?V0 + 13
   \   00024E   9400         SUBB    A,#0x0
   \   000250   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000252   65D0         XRL     A,PSW
   \   000254   33           RLC     A
   \   000255   500C         JNC     ??MQTT_PacketConnect_12
    284          	{
    285          		MQTT_DeleteBuffer(mqttPacket);
   \   000257                ; Setup parameters for call to function MQTT_DeleteBuffer
   \   000257   EE           MOV     A,R6
   \   000258   FA           MOV     R2,A
   \   000259   EF           MOV     A,R7
   \   00025A   FB           MOV     R3,A
   \   00025B   12....       LCALL   ??MQTT_DeleteBuffer?relay
    286          		return 5;
   \   00025E   7905         MOV     R1,#0x5
   \   000260   02....       LJMP    ??MQTT_PacketConnect_1 & 0xFFFF
    287          	}
    288          	else
    289          		mqttPacket->_len += len;
   \                     ??MQTT_PacketConnect_12:
   \   000263   85....       MOV     ?V0 + 4,?V0 + 12
   \   000266   E5..         MOV     A,?V0 + 13
   \   000268   F5..         MOV     ?V0 + 5,A
   \   00026A   33           RLC     A
   \   00026B   95E0         SUBB    A,0xE0 /* A   */
   \   00026D   F5..         MOV     ?V0 + 6,A
   \   00026F   F5..         MOV     ?V0 + 7,A
   \   000271   8E82         MOV     DPL,R6
   \   000273   8F83         MOV     DPH,R7
   \   000275   A3           INC     DPTR
   \   000276   A3           INC     DPTR
   \   000277   78..         MOV     R0,#?V0 + 4
   \   000279   12....       LCALL   ?L_ADD_TO_X
    290          	
    291          /*************************************可变头部***********************************************/
    292          	
    293          	//可变头部----------------------协议名长度 和 协议名--------------------------------------
    294          	mqttPacket->_data[mqttPacket->_len++] = 0;
   \   00027C   8E82         MOV     DPL,R6
   \   00027E   8F83         MOV     DPH,R7
   \   000280   A3           INC     DPTR
   \   000281   A3           INC     DPTR
   \   000282   78..         MOV     R0,#?V0 + 4
   \   000284   12....       LCALL   ?L_MOV_X
   \   000287   8E82         MOV     DPL,R6
   \   000289   8F83         MOV     DPH,R7
   \   00028B   E0           MOVX    A,@DPTR
   \   00028C   25..         ADD     A,?V0 + 4
   \   00028E   F8           MOV     R0,A
   \   00028F   A3           INC     DPTR
   \   000290   E0           MOVX    A,@DPTR
   \   000291   35..         ADDC    A,?V0 + 5
   \   000293   8882         MOV     DPL,R0
   \   000295   F583         MOV     DPH,A
   \   000297   7400         MOV     A,#0x0
   \   000299   F0           MOVX    @DPTR,A
   \   00029A   90....       MOV     DPTR,#__Constant_1
   \   00029D   78..         MOV     R0,#?V0 + 4
   \   00029F   12....       LCALL   ?L_MOV_X
   \   0002A2   8E82         MOV     DPL,R6
   \   0002A4   8F83         MOV     DPH,R7
   \   0002A6   A3           INC     DPTR
   \   0002A7   A3           INC     DPTR
   \   0002A8   78..         MOV     R0,#?V0 + 4
   \   0002AA   12....       LCALL   ?L_ADD_TO_X
    295          	mqttPacket->_data[mqttPacket->_len++] = 4;
   \   0002AD   8E82         MOV     DPL,R6
   \   0002AF   8F83         MOV     DPH,R7
   \   0002B1   A3           INC     DPTR
   \   0002B2   A3           INC     DPTR
   \   0002B3   78..         MOV     R0,#?V0 + 4
   \   0002B5   12....       LCALL   ?L_MOV_X
   \   0002B8   8E82         MOV     DPL,R6
   \   0002BA   8F83         MOV     DPH,R7
   \   0002BC   E0           MOVX    A,@DPTR
   \   0002BD   25..         ADD     A,?V0 + 4
   \   0002BF   F8           MOV     R0,A
   \   0002C0   A3           INC     DPTR
   \   0002C1   E0           MOVX    A,@DPTR
   \   0002C2   35..         ADDC    A,?V0 + 5
   \   0002C4   8882         MOV     DPL,R0
   \   0002C6   F583         MOV     DPH,A
   \   0002C8   7404         MOV     A,#0x4
   \   0002CA   F0           MOVX    @DPTR,A
   \   0002CB   90....       MOV     DPTR,#__Constant_1
   \   0002CE   78..         MOV     R0,#?V0 + 4
   \   0002D0   12....       LCALL   ?L_MOV_X
   \   0002D3   8E82         MOV     DPL,R6
   \   0002D5   8F83         MOV     DPH,R7
   \   0002D7   A3           INC     DPTR
   \   0002D8   A3           INC     DPTR
   \   0002D9   78..         MOV     R0,#?V0 + 4
   \   0002DB   12....       LCALL   ?L_ADD_TO_X
    296          	mqttPacket->_data[mqttPacket->_len++] = 'M';
   \   0002DE   8E82         MOV     DPL,R6
   \   0002E0   8F83         MOV     DPH,R7
   \   0002E2   A3           INC     DPTR
   \   0002E3   A3           INC     DPTR
   \   0002E4   78..         MOV     R0,#?V0 + 4
   \   0002E6   12....       LCALL   ?L_MOV_X
   \   0002E9   8E82         MOV     DPL,R6
   \   0002EB   8F83         MOV     DPH,R7
   \   0002ED   E0           MOVX    A,@DPTR
   \   0002EE   25..         ADD     A,?V0 + 4
   \   0002F0   F8           MOV     R0,A
   \   0002F1   A3           INC     DPTR
   \   0002F2   E0           MOVX    A,@DPTR
   \   0002F3   35..         ADDC    A,?V0 + 5
   \   0002F5   8882         MOV     DPL,R0
   \   0002F7   F583         MOV     DPH,A
   \   0002F9   744D         MOV     A,#0x4d
   \   0002FB   F0           MOVX    @DPTR,A
   \   0002FC   90....       MOV     DPTR,#__Constant_1
   \   0002FF   78..         MOV     R0,#?V0 + 4
   \   000301   12....       LCALL   ?L_MOV_X
   \   000304   8E82         MOV     DPL,R6
   \   000306   8F83         MOV     DPH,R7
   \   000308   A3           INC     DPTR
   \   000309   A3           INC     DPTR
   \   00030A   78..         MOV     R0,#?V0 + 4
   \   00030C   12....       LCALL   ?L_ADD_TO_X
    297          	mqttPacket->_data[mqttPacket->_len++] = 'Q';
   \   00030F   8E82         MOV     DPL,R6
   \   000311   8F83         MOV     DPH,R7
   \   000313   A3           INC     DPTR
   \   000314   A3           INC     DPTR
   \   000315   78..         MOV     R0,#?V0 + 4
   \   000317   12....       LCALL   ?L_MOV_X
   \   00031A   8E82         MOV     DPL,R6
   \   00031C   8F83         MOV     DPH,R7
   \   00031E   E0           MOVX    A,@DPTR
   \   00031F   25..         ADD     A,?V0 + 4
   \   000321   F8           MOV     R0,A
   \   000322   A3           INC     DPTR
   \   000323   E0           MOVX    A,@DPTR
   \   000324   35..         ADDC    A,?V0 + 5
   \   000326   8882         MOV     DPL,R0
   \   000328   F583         MOV     DPH,A
   \   00032A   7451         MOV     A,#0x51
   \   00032C   F0           MOVX    @DPTR,A
   \   00032D   90....       MOV     DPTR,#__Constant_1
   \   000330   78..         MOV     R0,#?V0 + 4
   \   000332   12....       LCALL   ?L_MOV_X
   \   000335   8E82         MOV     DPL,R6
   \   000337   8F83         MOV     DPH,R7
   \   000339   A3           INC     DPTR
   \   00033A   A3           INC     DPTR
   \   00033B   78..         MOV     R0,#?V0 + 4
   \   00033D   12....       LCALL   ?L_ADD_TO_X
    298          	mqttPacket->_data[mqttPacket->_len++] = 'T';
   \   000340   8E82         MOV     DPL,R6
   \   000342   8F83         MOV     DPH,R7
   \   000344   A3           INC     DPTR
   \   000345   A3           INC     DPTR
   \   000346   78..         MOV     R0,#?V0 + 4
   \   000348   12....       LCALL   ?L_MOV_X
   \   00034B   8E82         MOV     DPL,R6
   \   00034D   8F83         MOV     DPH,R7
   \   00034F   E0           MOVX    A,@DPTR
   \   000350   25..         ADD     A,?V0 + 4
   \   000352   F8           MOV     R0,A
   \   000353   A3           INC     DPTR
   \   000354   E0           MOVX    A,@DPTR
   \   000355   35..         ADDC    A,?V0 + 5
   \   000357   8882         MOV     DPL,R0
   \   000359   F583         MOV     DPH,A
   \   00035B   7454         MOV     A,#0x54
   \   00035D   F0           MOVX    @DPTR,A
   \   00035E   90....       MOV     DPTR,#__Constant_1
   \   000361   78..         MOV     R0,#?V0 + 4
   \   000363   12....       LCALL   ?L_MOV_X
   \   000366   8E82         MOV     DPL,R6
   \   000368   8F83         MOV     DPH,R7
   \   00036A   A3           INC     DPTR
   \   00036B   A3           INC     DPTR
   \   00036C   78..         MOV     R0,#?V0 + 4
   \   00036E   12....       LCALL   ?L_ADD_TO_X
    299          	mqttPacket->_data[mqttPacket->_len++] = 'T';
   \   000371   8E82         MOV     DPL,R6
   \   000373   8F83         MOV     DPH,R7
   \   000375   A3           INC     DPTR
   \   000376   A3           INC     DPTR
   \   000377   78..         MOV     R0,#?V0 + 4
   \   000379   12....       LCALL   ?L_MOV_X
   \   00037C   8E82         MOV     DPL,R6
   \   00037E   8F83         MOV     DPH,R7
   \   000380   E0           MOVX    A,@DPTR
   \   000381   25..         ADD     A,?V0 + 4
   \   000383   F8           MOV     R0,A
   \   000384   A3           INC     DPTR
   \   000385   E0           MOVX    A,@DPTR
   \   000386   35..         ADDC    A,?V0 + 5
   \   000388   8882         MOV     DPL,R0
   \   00038A   F583         MOV     DPH,A
   \   00038C   7454         MOV     A,#0x54
   \   00038E   F0           MOVX    @DPTR,A
   \   00038F   90....       MOV     DPTR,#__Constant_1
   \   000392   78..         MOV     R0,#?V0 + 4
   \   000394   12....       LCALL   ?L_MOV_X
   \   000397   8E82         MOV     DPL,R6
   \   000399   8F83         MOV     DPH,R7
   \   00039B   A3           INC     DPTR
   \   00039C   A3           INC     DPTR
   \   00039D   78..         MOV     R0,#?V0 + 4
   \   00039F   12....       LCALL   ?L_ADD_TO_X
    300          	
    301          	//可变头部----------------------protocol level 4-----------------------------------------
    302          	mqttPacket->_data[mqttPacket->_len++] = 4;
   \   0003A2   8E82         MOV     DPL,R6
   \   0003A4   8F83         MOV     DPH,R7
   \   0003A6   A3           INC     DPTR
   \   0003A7   A3           INC     DPTR
   \   0003A8   78..         MOV     R0,#?V0 + 4
   \   0003AA   12....       LCALL   ?L_MOV_X
   \   0003AD   8E82         MOV     DPL,R6
   \   0003AF   8F83         MOV     DPH,R7
   \   0003B1   E0           MOVX    A,@DPTR
   \   0003B2   25..         ADD     A,?V0 + 4
   \   0003B4   F8           MOV     R0,A
   \   0003B5   A3           INC     DPTR
   \   0003B6   E0           MOVX    A,@DPTR
   \   0003B7   35..         ADDC    A,?V0 + 5
   \   0003B9   8882         MOV     DPL,R0
   \   0003BB   F583         MOV     DPH,A
   \   0003BD   7404         MOV     A,#0x4
   \   0003BF   F0           MOVX    @DPTR,A
   \   0003C0   90....       MOV     DPTR,#__Constant_1
   \   0003C3   78..         MOV     R0,#?V0 + 4
   \   0003C5   12....       LCALL   ?L_MOV_X
   \   0003C8   8E82         MOV     DPL,R6
   \   0003CA   8F83         MOV     DPH,R7
   \   0003CC   A3           INC     DPTR
   \   0003CD   A3           INC     DPTR
   \   0003CE   78..         MOV     R0,#?V0 + 4
   \   0003D0   12....       LCALL   ?L_ADD_TO_X
    303          	
    304          	//可变头部----------------------连接标志(该函数开头处理的数据)-----------------------------
    305              mqttPacket->_data[mqttPacket->_len++] = flags;
   \   0003D3   E5..         MOV     A,?V0 + 10
   \   0003D5   8E82         MOV     DPL,R6
   \   0003D7   8F83         MOV     DPH,R7
   \   0003D9   A3           INC     DPTR
   \   0003DA   A3           INC     DPTR
   \   0003DB   78..         MOV     R0,#?V0 + 4
   \   0003DD   12....       LCALL   ?L_MOV_X
   \   0003E0   8E82         MOV     DPL,R6
   \   0003E2   8F83         MOV     DPH,R7
   \   0003E4   E0           MOVX    A,@DPTR
   \   0003E5   25..         ADD     A,?V0 + 4
   \   0003E7   F8           MOV     R0,A
   \   0003E8   A3           INC     DPTR
   \   0003E9   E0           MOVX    A,@DPTR
   \   0003EA   35..         ADDC    A,?V0 + 5
   \   0003EC   8882         MOV     DPL,R0
   \   0003EE   F583         MOV     DPH,A
   \   0003F0   E5..         MOV     A,?V0 + 10
   \   0003F2   F0           MOVX    @DPTR,A
   \   0003F3   90....       MOV     DPTR,#__Constant_1
   \   0003F6   78..         MOV     R0,#?V0 + 4
   \   0003F8   12....       LCALL   ?L_MOV_X
   \   0003FB   8E82         MOV     DPL,R6
   \   0003FD   8F83         MOV     DPH,R7
   \   0003FF   A3           INC     DPTR
   \   000400   A3           INC     DPTR
   \   000401   78..         MOV     R0,#?V0 + 4
   \   000403   12....       LCALL   ?L_ADD_TO_X
    306          	
    307          	//可变头部----------------------保持连接的时间(秒)----------------------------------------
    308          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(cTime);
   \   000406   A8..         MOV     R0,?V0 + 14
   \   000408   A9..         MOV     R1,?V0 + 15
   \   00040A   E4           CLR     A
   \   00040B   E5..         MOV     A,?V0 + 15
   \   00040D   A8..         MOV     R0,?V0 + 15
   \   00040F   E5..         MOV     A,?V0 + 15
   \   000411   8E82         MOV     DPL,R6
   \   000413   8F83         MOV     DPH,R7
   \   000415   A3           INC     DPTR
   \   000416   A3           INC     DPTR
   \   000417   78..         MOV     R0,#?V0 + 4
   \   000419   12....       LCALL   ?L_MOV_X
   \   00041C   8E82         MOV     DPL,R6
   \   00041E   8F83         MOV     DPH,R7
   \   000420   E0           MOVX    A,@DPTR
   \   000421   25..         ADD     A,?V0 + 4
   \   000423   F8           MOV     R0,A
   \   000424   A3           INC     DPTR
   \   000425   E0           MOVX    A,@DPTR
   \   000426   35..         ADDC    A,?V0 + 5
   \   000428   8882         MOV     DPL,R0
   \   00042A   F583         MOV     DPH,A
   \   00042C   E5..         MOV     A,?V0 + 15
   \   00042E   F0           MOVX    @DPTR,A
   \   00042F   90....       MOV     DPTR,#__Constant_1
   \   000432   78..         MOV     R0,#?V0 + 4
   \   000434   12....       LCALL   ?L_MOV_X
   \   000437   8E82         MOV     DPL,R6
   \   000439   8F83         MOV     DPH,R7
   \   00043B   A3           INC     DPTR
   \   00043C   A3           INC     DPTR
   \   00043D   78..         MOV     R0,#?V0 + 4
   \   00043F   12....       LCALL   ?L_ADD_TO_X
    309          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(cTime);
   \   000442   E5..         MOV     A,?V0 + 14
   \   000444   8E82         MOV     DPL,R6
   \   000446   8F83         MOV     DPH,R7
   \   000448   A3           INC     DPTR
   \   000449   A3           INC     DPTR
   \   00044A   78..         MOV     R0,#?V0 + 4
   \   00044C   12....       LCALL   ?L_MOV_X
   \   00044F   8E82         MOV     DPL,R6
   \   000451   8F83         MOV     DPH,R7
   \   000453   E0           MOVX    A,@DPTR
   \   000454   25..         ADD     A,?V0 + 4
   \   000456   F8           MOV     R0,A
   \   000457   A3           INC     DPTR
   \   000458   E0           MOVX    A,@DPTR
   \   000459   35..         ADDC    A,?V0 + 5
   \   00045B   8882         MOV     DPL,R0
   \   00045D   F583         MOV     DPH,A
   \   00045F   E5..         MOV     A,?V0 + 14
   \   000461   F0           MOVX    @DPTR,A
   \   000462   90....       MOV     DPTR,#__Constant_1
   \   000465   78..         MOV     R0,#?V0 + 4
   \   000467   12....       LCALL   ?L_MOV_X
   \   00046A   8E82         MOV     DPL,R6
   \   00046C   8F83         MOV     DPH,R7
   \   00046E   A3           INC     DPTR
   \   00046F   A3           INC     DPTR
   \   000470   78..         MOV     R0,#?V0 + 4
   \   000472   12....       LCALL   ?L_ADD_TO_X
    310          	 
    311          /*************************************消息体************************************************/
    312          
    313          	//消息体----------------------------devid长度、devid-------------------------------------
    314          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(devid_len);
   \   000475   A8..         MOV     R0,?V0 + 2
   \   000477   A9..         MOV     R1,?V0 + 3
   \   000479   E4           CLR     A
   \   00047A   E5..         MOV     A,?V0 + 3
   \   00047C   A8..         MOV     R0,?V0 + 3
   \   00047E   E5..         MOV     A,?V0 + 3
   \   000480   8E82         MOV     DPL,R6
   \   000482   8F83         MOV     DPH,R7
   \   000484   A3           INC     DPTR
   \   000485   A3           INC     DPTR
   \   000486   78..         MOV     R0,#?V0 + 4
   \   000488   12....       LCALL   ?L_MOV_X
   \   00048B   8E82         MOV     DPL,R6
   \   00048D   8F83         MOV     DPH,R7
   \   00048F   E0           MOVX    A,@DPTR
   \   000490   25..         ADD     A,?V0 + 4
   \   000492   F8           MOV     R0,A
   \   000493   A3           INC     DPTR
   \   000494   E0           MOVX    A,@DPTR
   \   000495   35..         ADDC    A,?V0 + 5
   \   000497   8882         MOV     DPL,R0
   \   000499   F583         MOV     DPH,A
   \   00049B   E5..         MOV     A,?V0 + 3
   \   00049D   F0           MOVX    @DPTR,A
   \   00049E   90....       MOV     DPTR,#__Constant_1
   \   0004A1   78..         MOV     R0,#?V0 + 4
   \   0004A3   12....       LCALL   ?L_MOV_X
   \   0004A6   8E82         MOV     DPL,R6
   \   0004A8   8F83         MOV     DPH,R7
   \   0004AA   A3           INC     DPTR
   \   0004AB   A3           INC     DPTR
   \   0004AC   78..         MOV     R0,#?V0 + 4
   \   0004AE   12....       LCALL   ?L_ADD_TO_X
    315          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(devid_len);
   \   0004B1   E5..         MOV     A,?V0 + 2
   \   0004B3   8E82         MOV     DPL,R6
   \   0004B5   8F83         MOV     DPH,R7
   \   0004B7   A3           INC     DPTR
   \   0004B8   A3           INC     DPTR
   \   0004B9   78..         MOV     R0,#?V0 + 4
   \   0004BB   12....       LCALL   ?L_MOV_X
   \   0004BE   8E82         MOV     DPL,R6
   \   0004C0   8F83         MOV     DPH,R7
   \   0004C2   E0           MOVX    A,@DPTR
   \   0004C3   25..         ADD     A,?V0 + 4
   \   0004C5   F8           MOV     R0,A
   \   0004C6   A3           INC     DPTR
   \   0004C7   E0           MOVX    A,@DPTR
   \   0004C8   35..         ADDC    A,?V0 + 5
   \   0004CA   8882         MOV     DPL,R0
   \   0004CC   F583         MOV     DPH,A
   \   0004CE   E5..         MOV     A,?V0 + 2
   \   0004D0   F0           MOVX    @DPTR,A
   \   0004D1   90....       MOV     DPTR,#__Constant_1
   \   0004D4   78..         MOV     R0,#?V0 + 4
   \   0004D6   12....       LCALL   ?L_MOV_X
   \   0004D9   8E82         MOV     DPL,R6
   \   0004DB   8F83         MOV     DPH,R7
   \   0004DD   A3           INC     DPTR
   \   0004DE   A3           INC     DPTR
   \   0004DF   78..         MOV     R0,#?V0 + 4
   \   0004E1   12....       LCALL   ?L_ADD_TO_X
    316          	
    317          	strncat((int8 *)mqttPacket->_data + mqttPacket->_len, devid, devid_len);
                 	        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  	strncat((int8 *)mqttPacket->_data + mqttPacket->_len, devid, devid_len);
  	                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",317  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0004E4                ; Setup parameters for call to function strncat
   \   0004E4   78..         MOV     R0,#?V0 + 2
   \   0004E6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004E9   741F         MOV     A,#0x1f
   \   0004EB   12....       LCALL   ?XSTACK_DISP0_8
   \   0004EE   E0           MOVX    A,@DPTR
   \   0004EF   FC           MOV     R4,A
   \   0004F0   A3           INC     DPTR
   \   0004F1   E0           MOVX    A,@DPTR
   \   0004F2   FD           MOV     R5,A
   \   0004F3   8E82         MOV     DPL,R6
   \   0004F5   8F83         MOV     DPH,R7
   \   0004F7   A3           INC     DPTR
   \   0004F8   A3           INC     DPTR
   \   0004F9   78..         MOV     R0,#?V0 + 4
   \   0004FB   12....       LCALL   ?L_MOV_X
   \   0004FE   8E82         MOV     DPL,R6
   \   000500   8F83         MOV     DPH,R7
   \   000502   E0           MOVX    A,@DPTR
   \   000503   25..         ADD     A,?V0 + 4
   \   000505   FA           MOV     R2,A
   \   000506   A3           INC     DPTR
   \   000507   E0           MOVX    A,@DPTR
   \   000508   35..         ADDC    A,?V0 + 5
   \   00050A   FB           MOV     R3,A
   \   00050B   12....       LCALL   ??strncat?relay
   \   00050E   7402         MOV     A,#0x2
   \   000510   12....       LCALL   ?DEALLOC_XSTACK8
    318          	mqttPacket->_len += devid_len;
   \   000513   85....       MOV     ?V0 + 4,?V0 + 2
   \   000516   E5..         MOV     A,?V0 + 3
   \   000518   F5..         MOV     ?V0 + 5,A
   \   00051A   33           RLC     A
   \   00051B   95E0         SUBB    A,0xE0 /* A   */
   \   00051D   F5..         MOV     ?V0 + 6,A
   \   00051F   F5..         MOV     ?V0 + 7,A
   \   000521   8E82         MOV     DPL,R6
   \   000523   8F83         MOV     DPH,R7
   \   000525   A3           INC     DPTR
   \   000526   A3           INC     DPTR
   \   000527   78..         MOV     R0,#?V0 + 4
   \   000529   12....       LCALL   ?L_ADD_TO_X
    319          	
    320          	//消息体----------------------------will_flag 和 will_msg---------------------------------
    321          	if(flags & MQTT_CONNECT_WILL_FLAG)
   \   00052C   E5..         MOV     A,?V0 + 10
   \   00052E   A2E2         MOV     C,0xE0 /* A   */.2
   \   000530   4003         JC      $+5
   \   000532   02....       LJMP    ??MQTT_PacketConnect_13 & 0xFFFF
    322          	{
    323          		unsigned short mLen = 0;
   \   000535   75..00       MOV     ?V0 + 0,#0x0
   \   000538   75..00       MOV     ?V0 + 1,#0x0
    324          		
    325          		if(!will_msg)
   \   00053B   7424         MOV     A,#0x24
   \   00053D   12....       LCALL   ?XSTACK_DISP0_8
   \   000540   E0           MOVX    A,@DPTR
   \   000541   F8           MOV     R0,A
   \   000542   A3           INC     DPTR
   \   000543   E0           MOVX    A,@DPTR
   \   000544   F9           MOV     R1,A
   \   000545   E8           MOV     A,R0
   \   000546   49           ORL     A,R1
   \   000547   700C         JNZ     ??MQTT_PacketConnect_14
    326          			will_msg = "";
   \   000549   7424         MOV     A,#0x24
   \   00054B   12....       LCALL   ?XSTACK_DISP0_8
   \   00054E   74..         MOV     A,#`?<Constant "">` & 0xff
   \   000550   F0           MOVX    @DPTR,A
   \   000551   A3           INC     DPTR
   \   000552   74..         MOV     A,#(`?<Constant "">` >> 8) & 0xff
   \   000554   F0           MOVX    @DPTR,A
    327          		
    328          		mLen = strlen(will_topic);
                 		              ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \                     ??MQTT_PacketConnect_14:
   \   000555                ; Setup parameters for call to function strlen
   \   000555   7422         MOV     A,#0x22
   \   000557   12....       LCALL   ?XSTACK_DISP0_8
   \   00055A   E0           MOVX    A,@DPTR
   \   00055B   FA           MOV     R2,A
   \   00055C   A3           INC     DPTR
   \   00055D   E0           MOVX    A,@DPTR
   \   00055E   FB           MOV     R3,A
   \   00055F   12....       LCALL   ??strlen?relay
   \   000562   8A..         MOV     ?V0 + 4,R2
   \   000564   8B..         MOV     ?V0 + 5,R3
   \   000566   85....       MOV     ?V0 + 0,?V0 + 4
   \   000569   85....       MOV     ?V0 + 1,?V0 + 5
    329          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(mLen);
   \   00056C   A8..         MOV     R0,?V0 + 0
   \   00056E   A9..         MOV     R1,?V0 + 1
   \   000570   E4           CLR     A
   \   000571   E5..         MOV     A,?V0 + 1
   \   000573   A8..         MOV     R0,?V0 + 1
   \   000575   E5..         MOV     A,?V0 + 1
   \   000577   8E82         MOV     DPL,R6
   \   000579   8F83         MOV     DPH,R7
   \   00057B   A3           INC     DPTR
   \   00057C   A3           INC     DPTR
   \   00057D   78..         MOV     R0,#?V0 + 4
   \   00057F   12....       LCALL   ?L_MOV_X
   \   000582   8E82         MOV     DPL,R6
   \   000584   8F83         MOV     DPH,R7
   \   000586   E0           MOVX    A,@DPTR
   \   000587   25..         ADD     A,?V0 + 4
   \   000589   F8           MOV     R0,A
   \   00058A   A3           INC     DPTR
   \   00058B   E0           MOVX    A,@DPTR
   \   00058C   35..         ADDC    A,?V0 + 5
   \   00058E   8882         MOV     DPL,R0
   \   000590   F583         MOV     DPH,A
   \   000592   E5..         MOV     A,?V0 + 1
   \   000594   F0           MOVX    @DPTR,A
   \   000595   90....       MOV     DPTR,#__Constant_1
   \   000598   78..         MOV     R0,#?V0 + 4
   \   00059A   12....       LCALL   ?L_MOV_X
   \   00059D   8E82         MOV     DPL,R6
   \   00059F   8F83         MOV     DPH,R7
   \   0005A1   A3           INC     DPTR
   \   0005A2   A3           INC     DPTR
   \   0005A3   78..         MOV     R0,#?V0 + 4
   \   0005A5   12....       LCALL   ?L_ADD_TO_X
    330          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(mLen);
   \   0005A8   E5..         MOV     A,?V0 + 0
   \   0005AA   8E82         MOV     DPL,R6
   \   0005AC   8F83         MOV     DPH,R7
   \   0005AE   A3           INC     DPTR
   \   0005AF   A3           INC     DPTR
   \   0005B0   78..         MOV     R0,#?V0 + 4
   \   0005B2   12....       LCALL   ?L_MOV_X
   \   0005B5   8E82         MOV     DPL,R6
   \   0005B7   8F83         MOV     DPH,R7
   \   0005B9   E0           MOVX    A,@DPTR
   \   0005BA   25..         ADD     A,?V0 + 4
   \   0005BC   F8           MOV     R0,A
   \   0005BD   A3           INC     DPTR
   \   0005BE   E0           MOVX    A,@DPTR
   \   0005BF   35..         ADDC    A,?V0 + 5
   \   0005C1   8882         MOV     DPL,R0
   \   0005C3   F583         MOV     DPH,A
   \   0005C5   E5..         MOV     A,?V0 + 0
   \   0005C7   F0           MOVX    @DPTR,A
   \   0005C8   90....       MOV     DPTR,#__Constant_1
   \   0005CB   78..         MOV     R0,#?V0 + 4
   \   0005CD   12....       LCALL   ?L_MOV_X
   \   0005D0   8E82         MOV     DPL,R6
   \   0005D2   8F83         MOV     DPH,R7
   \   0005D4   A3           INC     DPTR
   \   0005D5   A3           INC     DPTR
   \   0005D6   78..         MOV     R0,#?V0 + 4
   \   0005D8   12....       LCALL   ?L_ADD_TO_X
    331          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, will_topic, mLen);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, will_topic, mLen);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",331  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0005DB                ; Setup parameters for call to function strncat
   \   0005DB   78..         MOV     R0,#?V0 + 0
   \   0005DD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005E0   7424         MOV     A,#0x24
   \   0005E2   12....       LCALL   ?XSTACK_DISP0_8
   \   0005E5   E0           MOVX    A,@DPTR
   \   0005E6   FC           MOV     R4,A
   \   0005E7   A3           INC     DPTR
   \   0005E8   E0           MOVX    A,@DPTR
   \   0005E9   FD           MOV     R5,A
   \   0005EA   8E82         MOV     DPL,R6
   \   0005EC   8F83         MOV     DPH,R7
   \   0005EE   A3           INC     DPTR
   \   0005EF   A3           INC     DPTR
   \   0005F0   78..         MOV     R0,#?V0 + 4
   \   0005F2   12....       LCALL   ?L_MOV_X
   \   0005F5   8E82         MOV     DPL,R6
   \   0005F7   8F83         MOV     DPH,R7
   \   0005F9   E0           MOVX    A,@DPTR
   \   0005FA   25..         ADD     A,?V0 + 4
   \   0005FC   FA           MOV     R2,A
   \   0005FD   A3           INC     DPTR
   \   0005FE   E0           MOVX    A,@DPTR
   \   0005FF   35..         ADDC    A,?V0 + 5
   \   000601   FB           MOV     R3,A
   \   000602   12....       LCALL   ??strncat?relay
   \   000605   7402         MOV     A,#0x2
   \   000607   12....       LCALL   ?DEALLOC_XSTACK8
    332          		mqttPacket->_len += mLen;
   \   00060A   85....       MOV     ?V0 + 4,?V0 + 0
   \   00060D   85....       MOV     ?V0 + 5,?V0 + 1
   \   000610   E4           CLR     A
   \   000611   F5..         MOV     ?V0 + 6,A
   \   000613   F5..         MOV     ?V0 + 7,A
   \   000615   8E82         MOV     DPL,R6
   \   000617   8F83         MOV     DPH,R7
   \   000619   A3           INC     DPTR
   \   00061A   A3           INC     DPTR
   \   00061B   78..         MOV     R0,#?V0 + 4
   \   00061D   12....       LCALL   ?L_ADD_TO_X
    333          		
    334          		mLen = strlen(will_msg);
                 		              ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   000620                ; Setup parameters for call to function strlen
   \   000620   7424         MOV     A,#0x24
   \   000622   12....       LCALL   ?XSTACK_DISP0_8
   \   000625   E0           MOVX    A,@DPTR
   \   000626   FA           MOV     R2,A
   \   000627   A3           INC     DPTR
   \   000628   E0           MOVX    A,@DPTR
   \   000629   FB           MOV     R3,A
   \   00062A   12....       LCALL   ??strlen?relay
   \   00062D   8A..         MOV     ?V0 + 4,R2
   \   00062F   8B..         MOV     ?V0 + 5,R3
   \   000631   85....       MOV     ?V0 + 0,?V0 + 4
   \   000634   85....       MOV     ?V0 + 1,?V0 + 5
    335          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(mLen);
   \   000637   A8..         MOV     R0,?V0 + 0
   \   000639   A9..         MOV     R1,?V0 + 1
   \   00063B   E4           CLR     A
   \   00063C   E5..         MOV     A,?V0 + 1
   \   00063E   A8..         MOV     R0,?V0 + 1
   \   000640   E5..         MOV     A,?V0 + 1
   \   000642   8E82         MOV     DPL,R6
   \   000644   8F83         MOV     DPH,R7
   \   000646   A3           INC     DPTR
   \   000647   A3           INC     DPTR
   \   000648   78..         MOV     R0,#?V0 + 4
   \   00064A   12....       LCALL   ?L_MOV_X
   \   00064D   8E82         MOV     DPL,R6
   \   00064F   8F83         MOV     DPH,R7
   \   000651   E0           MOVX    A,@DPTR
   \   000652   25..         ADD     A,?V0 + 4
   \   000654   F8           MOV     R0,A
   \   000655   A3           INC     DPTR
   \   000656   E0           MOVX    A,@DPTR
   \   000657   35..         ADDC    A,?V0 + 5
   \   000659   8882         MOV     DPL,R0
   \   00065B   F583         MOV     DPH,A
   \   00065D   E5..         MOV     A,?V0 + 1
   \   00065F   F0           MOVX    @DPTR,A
   \   000660   90....       MOV     DPTR,#__Constant_1
   \   000663   78..         MOV     R0,#?V0 + 4
   \   000665   12....       LCALL   ?L_MOV_X
   \   000668   8E82         MOV     DPL,R6
   \   00066A   8F83         MOV     DPH,R7
   \   00066C   A3           INC     DPTR
   \   00066D   A3           INC     DPTR
   \   00066E   78..         MOV     R0,#?V0 + 4
   \   000670   12....       LCALL   ?L_ADD_TO_X
    336          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(mLen);
   \   000673   E5..         MOV     A,?V0 + 0
   \   000675   8E82         MOV     DPL,R6
   \   000677   8F83         MOV     DPH,R7
   \   000679   A3           INC     DPTR
   \   00067A   A3           INC     DPTR
   \   00067B   78..         MOV     R0,#?V0 + 4
   \   00067D   12....       LCALL   ?L_MOV_X
   \   000680   8E82         MOV     DPL,R6
   \   000682   8F83         MOV     DPH,R7
   \   000684   E0           MOVX    A,@DPTR
   \   000685   25..         ADD     A,?V0 + 4
   \   000687   F8           MOV     R0,A
   \   000688   A3           INC     DPTR
   \   000689   E0           MOVX    A,@DPTR
   \   00068A   35..         ADDC    A,?V0 + 5
   \   00068C   8882         MOV     DPL,R0
   \   00068E   F583         MOV     DPH,A
   \   000690   E5..         MOV     A,?V0 + 0
   \   000692   F0           MOVX    @DPTR,A
   \   000693   90....       MOV     DPTR,#__Constant_1
   \   000696   78..         MOV     R0,#?V0 + 4
   \   000698   12....       LCALL   ?L_MOV_X
   \   00069B   8E82         MOV     DPL,R6
   \   00069D   8F83         MOV     DPH,R7
   \   00069F   A3           INC     DPTR
   \   0006A0   A3           INC     DPTR
   \   0006A1   78..         MOV     R0,#?V0 + 4
   \   0006A3   12....       LCALL   ?L_ADD_TO_X
    337          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, will_msg, mLen);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, will_msg, mLen);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",337  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0006A6                ; Setup parameters for call to function strncat
   \   0006A6   78..         MOV     R0,#?V0 + 0
   \   0006A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0006AB   7426         MOV     A,#0x26
   \   0006AD   12....       LCALL   ?XSTACK_DISP0_8
   \   0006B0   E0           MOVX    A,@DPTR
   \   0006B1   FC           MOV     R4,A
   \   0006B2   A3           INC     DPTR
   \   0006B3   E0           MOVX    A,@DPTR
   \   0006B4   FD           MOV     R5,A
   \   0006B5   8E82         MOV     DPL,R6
   \   0006B7   8F83         MOV     DPH,R7
   \   0006B9   A3           INC     DPTR
   \   0006BA   A3           INC     DPTR
   \   0006BB   78..         MOV     R0,#?V0 + 4
   \   0006BD   12....       LCALL   ?L_MOV_X
   \   0006C0   8E82         MOV     DPL,R6
   \   0006C2   8F83         MOV     DPH,R7
   \   0006C4   E0           MOVX    A,@DPTR
   \   0006C5   25..         ADD     A,?V0 + 4
   \   0006C7   FA           MOV     R2,A
   \   0006C8   A3           INC     DPTR
   \   0006C9   E0           MOVX    A,@DPTR
   \   0006CA   35..         ADDC    A,?V0 + 5
   \   0006CC   FB           MOV     R3,A
   \   0006CD   12....       LCALL   ??strncat?relay
   \   0006D0   7402         MOV     A,#0x2
   \   0006D2   12....       LCALL   ?DEALLOC_XSTACK8
    338          		mqttPacket->_len += mLen;
   \   0006D5   85....       MOV     ?V0 + 4,?V0 + 0
   \   0006D8   85....       MOV     ?V0 + 5,?V0 + 1
   \   0006DB   E4           CLR     A
   \   0006DC   F5..         MOV     ?V0 + 6,A
   \   0006DE   F5..         MOV     ?V0 + 7,A
   \   0006E0   8E82         MOV     DPL,R6
   \   0006E2   8F83         MOV     DPH,R7
   \   0006E4   A3           INC     DPTR
   \   0006E5   A3           INC     DPTR
   \   0006E6   78..         MOV     R0,#?V0 + 4
   \   0006E8   12....       LCALL   ?L_ADD_TO_X
    339          	}
    340          	
    341          	//消息体----------------------------use---------------------------------------------------
    342          	if(flags & MQTT_CONNECT_USER_NAME)
   \                     ??MQTT_PacketConnect_13:
   \   0006EB   E5..         MOV     A,?V0 + 10
   \   0006ED   A2E7         MOV     C,0xE0 /* A   */.7
   \   0006EF   4003         JC      $+5
   \   0006F1   02....       LJMP    ??MQTT_PacketConnect_15 & 0xFFFF
    343          	{
    344          		unsigned short user_len = strlen(user);
                 		                                 ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0006F4                ; Setup parameters for call to function strlen
   \   0006F4   7402         MOV     A,#0x2
   \   0006F6   12....       LCALL   ?XSTACK_DISP0_8
   \   0006F9   E0           MOVX    A,@DPTR
   \   0006FA   FA           MOV     R2,A
   \   0006FB   A3           INC     DPTR
   \   0006FC   E0           MOVX    A,@DPTR
   \   0006FD   FB           MOV     R3,A
   \   0006FE   12....       LCALL   ??strlen?relay
   \   000701   8A..         MOV     ?V0 + 4,R2
   \   000703   8B..         MOV     ?V0 + 5,R3
   \   000705   85....       MOV     ?V0 + 0,?V0 + 4
   \   000708   85....       MOV     ?V0 + 1,?V0 + 5
    345          		
    346          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(user_len);
   \   00070B   A8..         MOV     R0,?V0 + 0
   \   00070D   A9..         MOV     R1,?V0 + 1
   \   00070F   E4           CLR     A
   \   000710   E5..         MOV     A,?V0 + 1
   \   000712   A8..         MOV     R0,?V0 + 1
   \   000714   E5..         MOV     A,?V0 + 1
   \   000716   8E82         MOV     DPL,R6
   \   000718   8F83         MOV     DPH,R7
   \   00071A   A3           INC     DPTR
   \   00071B   A3           INC     DPTR
   \   00071C   78..         MOV     R0,#?V0 + 4
   \   00071E   12....       LCALL   ?L_MOV_X
   \   000721   8E82         MOV     DPL,R6
   \   000723   8F83         MOV     DPH,R7
   \   000725   E0           MOVX    A,@DPTR
   \   000726   25..         ADD     A,?V0 + 4
   \   000728   F8           MOV     R0,A
   \   000729   A3           INC     DPTR
   \   00072A   E0           MOVX    A,@DPTR
   \   00072B   35..         ADDC    A,?V0 + 5
   \   00072D   8882         MOV     DPL,R0
   \   00072F   F583         MOV     DPH,A
   \   000731   E5..         MOV     A,?V0 + 1
   \   000733   F0           MOVX    @DPTR,A
   \   000734   90....       MOV     DPTR,#__Constant_1
   \   000737   78..         MOV     R0,#?V0 + 4
   \   000739   12....       LCALL   ?L_MOV_X
   \   00073C   8E82         MOV     DPL,R6
   \   00073E   8F83         MOV     DPH,R7
   \   000740   A3           INC     DPTR
   \   000741   A3           INC     DPTR
   \   000742   78..         MOV     R0,#?V0 + 4
   \   000744   12....       LCALL   ?L_ADD_TO_X
    347          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(user_len);
   \   000747   E5..         MOV     A,?V0 + 0
   \   000749   8E82         MOV     DPL,R6
   \   00074B   8F83         MOV     DPH,R7
   \   00074D   A3           INC     DPTR
   \   00074E   A3           INC     DPTR
   \   00074F   78..         MOV     R0,#?V0 + 4
   \   000751   12....       LCALL   ?L_MOV_X
   \   000754   8E82         MOV     DPL,R6
   \   000756   8F83         MOV     DPH,R7
   \   000758   E0           MOVX    A,@DPTR
   \   000759   25..         ADD     A,?V0 + 4
   \   00075B   F8           MOV     R0,A
   \   00075C   A3           INC     DPTR
   \   00075D   E0           MOVX    A,@DPTR
   \   00075E   35..         ADDC    A,?V0 + 5
   \   000760   8882         MOV     DPL,R0
   \   000762   F583         MOV     DPH,A
   \   000764   E5..         MOV     A,?V0 + 0
   \   000766   F0           MOVX    @DPTR,A
   \   000767   90....       MOV     DPTR,#__Constant_1
   \   00076A   78..         MOV     R0,#?V0 + 4
   \   00076C   12....       LCALL   ?L_MOV_X
   \   00076F   8E82         MOV     DPL,R6
   \   000771   8F83         MOV     DPH,R7
   \   000773   A3           INC     DPTR
   \   000774   A3           INC     DPTR
   \   000775   78..         MOV     R0,#?V0 + 4
   \   000777   12....       LCALL   ?L_ADD_TO_X
    348          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, user, user_len);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, user, user_len);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",348  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   00077A                ; Setup parameters for call to function strncat
   \   00077A   78..         MOV     R0,#?V0 + 0
   \   00077C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00077F   7404         MOV     A,#0x4
   \   000781   12....       LCALL   ?XSTACK_DISP0_8
   \   000784   E0           MOVX    A,@DPTR
   \   000785   FC           MOV     R4,A
   \   000786   A3           INC     DPTR
   \   000787   E0           MOVX    A,@DPTR
   \   000788   FD           MOV     R5,A
   \   000789   8E82         MOV     DPL,R6
   \   00078B   8F83         MOV     DPH,R7
   \   00078D   A3           INC     DPTR
   \   00078E   A3           INC     DPTR
   \   00078F   78..         MOV     R0,#?V0 + 4
   \   000791   12....       LCALL   ?L_MOV_X
   \   000794   8E82         MOV     DPL,R6
   \   000796   8F83         MOV     DPH,R7
   \   000798   E0           MOVX    A,@DPTR
   \   000799   25..         ADD     A,?V0 + 4
   \   00079B   FA           MOV     R2,A
   \   00079C   A3           INC     DPTR
   \   00079D   E0           MOVX    A,@DPTR
   \   00079E   35..         ADDC    A,?V0 + 5
   \   0007A0   FB           MOV     R3,A
   \   0007A1   12....       LCALL   ??strncat?relay
   \   0007A4   7402         MOV     A,#0x2
   \   0007A6   12....       LCALL   ?DEALLOC_XSTACK8
    349          		mqttPacket->_len += user_len;
   \   0007A9   85....       MOV     ?V0 + 4,?V0 + 0
   \   0007AC   85....       MOV     ?V0 + 5,?V0 + 1
   \   0007AF   E4           CLR     A
   \   0007B0   F5..         MOV     ?V0 + 6,A
   \   0007B2   F5..         MOV     ?V0 + 7,A
   \   0007B4   8E82         MOV     DPL,R6
   \   0007B6   8F83         MOV     DPH,R7
   \   0007B8   A3           INC     DPTR
   \   0007B9   A3           INC     DPTR
   \   0007BA   78..         MOV     R0,#?V0 + 4
   \   0007BC   12....       LCALL   ?L_ADD_TO_X
    350          	}
    351          
    352          	//消息体----------------------------password----------------------------------------------
    353          	if(flags & MQTT_CONNECT_PASSORD)
   \                     ??MQTT_PacketConnect_15:
   \   0007BF   E5..         MOV     A,?V0 + 10
   \   0007C1   A2E6         MOV     C,0xE0 /* A   */.6
   \   0007C3   4003         JC      $+5
   \   0007C5   02....       LJMP    ??MQTT_PacketConnect_16 & 0xFFFF
    354          	{
    355          		unsigned short psw_len = strlen(password);
                 		                                ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0007C8                ; Setup parameters for call to function strlen
   \   0007C8   85..82       MOV     DPL,?XSP + 0
   \   0007CB   85..83       MOV     DPH,?XSP + 1
   \   0007CE   E0           MOVX    A,@DPTR
   \   0007CF   FA           MOV     R2,A
   \   0007D0   A3           INC     DPTR
   \   0007D1   E0           MOVX    A,@DPTR
   \   0007D2   FB           MOV     R3,A
   \   0007D3   12....       LCALL   ??strlen?relay
   \   0007D6   8A..         MOV     ?V0 + 4,R2
   \   0007D8   8B..         MOV     ?V0 + 5,R3
   \   0007DA   85....       MOV     ?V0 + 0,?V0 + 4
   \   0007DD   85....       MOV     ?V0 + 1,?V0 + 5
    356          		
    357          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(psw_len);
   \   0007E0   A8..         MOV     R0,?V0 + 0
   \   0007E2   A9..         MOV     R1,?V0 + 1
   \   0007E4   E4           CLR     A
   \   0007E5   E5..         MOV     A,?V0 + 1
   \   0007E7   A8..         MOV     R0,?V0 + 1
   \   0007E9   E5..         MOV     A,?V0 + 1
   \   0007EB   8E82         MOV     DPL,R6
   \   0007ED   8F83         MOV     DPH,R7
   \   0007EF   A3           INC     DPTR
   \   0007F0   A3           INC     DPTR
   \   0007F1   78..         MOV     R0,#?V0 + 4
   \   0007F3   12....       LCALL   ?L_MOV_X
   \   0007F6   8E82         MOV     DPL,R6
   \   0007F8   8F83         MOV     DPH,R7
   \   0007FA   E0           MOVX    A,@DPTR
   \   0007FB   25..         ADD     A,?V0 + 4
   \   0007FD   F8           MOV     R0,A
   \   0007FE   A3           INC     DPTR
   \   0007FF   E0           MOVX    A,@DPTR
   \   000800   35..         ADDC    A,?V0 + 5
   \   000802   8882         MOV     DPL,R0
   \   000804   F583         MOV     DPH,A
   \   000806   E5..         MOV     A,?V0 + 1
   \   000808   F0           MOVX    @DPTR,A
   \   000809   90....       MOV     DPTR,#__Constant_1
   \   00080C   78..         MOV     R0,#?V0 + 4
   \   00080E   12....       LCALL   ?L_MOV_X
   \   000811   8E82         MOV     DPL,R6
   \   000813   8F83         MOV     DPH,R7
   \   000815   A3           INC     DPTR
   \   000816   A3           INC     DPTR
   \   000817   78..         MOV     R0,#?V0 + 4
   \   000819   12....       LCALL   ?L_ADD_TO_X
    358          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(psw_len);
   \   00081C   E5..         MOV     A,?V0 + 0
   \   00081E   8E82         MOV     DPL,R6
   \   000820   8F83         MOV     DPH,R7
   \   000822   A3           INC     DPTR
   \   000823   A3           INC     DPTR
   \   000824   78..         MOV     R0,#?V0 + 4
   \   000826   12....       LCALL   ?L_MOV_X
   \   000829   8E82         MOV     DPL,R6
   \   00082B   8F83         MOV     DPH,R7
   \   00082D   E0           MOVX    A,@DPTR
   \   00082E   25..         ADD     A,?V0 + 4
   \   000830   F8           MOV     R0,A
   \   000831   A3           INC     DPTR
   \   000832   E0           MOVX    A,@DPTR
   \   000833   35..         ADDC    A,?V0 + 5
   \   000835   8882         MOV     DPL,R0
   \   000837   F583         MOV     DPH,A
   \   000839   E5..         MOV     A,?V0 + 0
   \   00083B   F0           MOVX    @DPTR,A
   \   00083C   90....       MOV     DPTR,#__Constant_1
   \   00083F   78..         MOV     R0,#?V0 + 4
   \   000841   12....       LCALL   ?L_MOV_X
   \   000844   8E82         MOV     DPL,R6
   \   000846   8F83         MOV     DPH,R7
   \   000848   A3           INC     DPTR
   \   000849   A3           INC     DPTR
   \   00084A   78..         MOV     R0,#?V0 + 4
   \   00084C   12....       LCALL   ?L_ADD_TO_X
    359          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, password, psw_len);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, password, psw_len);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",359  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   00084F                ; Setup parameters for call to function strncat
   \   00084F   78..         MOV     R0,#?V0 + 0
   \   000851   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000854   7402         MOV     A,#0x2
   \   000856   12....       LCALL   ?XSTACK_DISP0_8
   \   000859   E0           MOVX    A,@DPTR
   \   00085A   FC           MOV     R4,A
   \   00085B   A3           INC     DPTR
   \   00085C   E0           MOVX    A,@DPTR
   \   00085D   FD           MOV     R5,A
   \   00085E   8E82         MOV     DPL,R6
   \   000860   8F83         MOV     DPH,R7
   \   000862   A3           INC     DPTR
   \   000863   A3           INC     DPTR
   \   000864   78..         MOV     R0,#?V0 + 4
   \   000866   12....       LCALL   ?L_MOV_X
   \   000869   8E82         MOV     DPL,R6
   \   00086B   8F83         MOV     DPH,R7
   \   00086D   E0           MOVX    A,@DPTR
   \   00086E   25..         ADD     A,?V0 + 4
   \   000870   FA           MOV     R2,A
   \   000871   A3           INC     DPTR
   \   000872   E0           MOVX    A,@DPTR
   \   000873   35..         ADDC    A,?V0 + 5
   \   000875   FB           MOV     R3,A
   \   000876   12....       LCALL   ??strncat?relay
   \   000879   7402         MOV     A,#0x2
   \   00087B   12....       LCALL   ?DEALLOC_XSTACK8
    360          		mqttPacket->_len += psw_len;
   \   00087E   85....       MOV     ?V0 + 4,?V0 + 0
   \   000881   85....       MOV     ?V0 + 5,?V0 + 1
   \   000884   E4           CLR     A
   \   000885   F5..         MOV     ?V0 + 6,A
   \   000887   F5..         MOV     ?V0 + 7,A
   \   000889   8E82         MOV     DPL,R6
   \   00088B   8F83         MOV     DPH,R7
   \   00088D   A3           INC     DPTR
   \   00088E   A3           INC     DPTR
   \   00088F   78..         MOV     R0,#?V0 + 4
   \   000891   12....       LCALL   ?L_ADD_TO_X
    361          	}
    362          
    363          	return 0;
   \                     ??MQTT_PacketConnect_16:
   \   000894   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketConnect_1:
   \   000896   7405         MOV     A,#0x5
   \   000898   12....       LCALL   ?DEALLOC_XSTACK8
   \   00089B   7F10         MOV     R7,#0x10
   \   00089D   02....       LJMP    ?BANKED_LEAVE_XDATA
    364          
    365          }
    366          
    367          //==========================================================
    368          //	函数名称：	MQTT_PacketDisConnect
    369          //
    370          //	函数功能：	断开连接消息组包
    371          //
    372          //	入口参数：	mqttPacket：包指针
    373          //
    374          //	返回参数：	0-成功		1-失败
    375          //
    376          //	说明：		
    377          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    378          uint1 MQTT_PacketDisConnect(MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketDisConnect:
    379          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    380          
    381          	MQTT_NewBuffer(mqttPacket, 2);
   \   000009                ; Setup parameters for call to function MQTT_NewBuffer
   \   000009   90....       MOV     DPTR,#__Constant_2
   \   00000C   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000F   EE           MOV     A,R6
   \   000010   FA           MOV     R2,A
   \   000011   EF           MOV     A,R7
   \   000012   FB           MOV     R3,A
   \   000013   12....       LCALL   ??MQTT_NewBuffer?relay
   \   000016   7404         MOV     A,#0x4
   \   000018   12....       LCALL   ?DEALLOC_XSTACK8
    382          	if(mqttPacket->_data == NULL)
   \   00001B   8E82         MOV     DPL,R6
   \   00001D   8F83         MOV     DPH,R7
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   F8           MOV     R0,A
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   F9           MOV     R1,A
   \   000024   E8           MOV     A,R0
   \   000025   49           ORL     A,R1
   \   000026   7004         JNZ     ??MQTT_PacketDisConnect_0
    383          		return 1;
   \   000028   7901         MOV     R1,#0x1
   \   00002A   8064         SJMP    ??MQTT_PacketDisConnect_1
    384          	
    385          /*************************************固定头部***********************************************/
    386          	
    387          	//固定头部----------------------头部消息-------------------------------------------------
    388          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_DISCONNECT << 4;
   \                     ??MQTT_PacketDisConnect_0:
   \   00002C   8E82         MOV     DPL,R6
   \   00002E   8F83         MOV     DPH,R7
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   78..         MOV     R0,#?V0 + 0
   \   000034   12....       LCALL   ?L_MOV_X
   \   000037   8E82         MOV     DPL,R6
   \   000039   8F83         MOV     DPH,R7
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   25..         ADD     A,?V0 + 0
   \   00003E   F8           MOV     R0,A
   \   00003F   A3           INC     DPTR
   \   000040   E0           MOVX    A,@DPTR
   \   000041   35..         ADDC    A,?V0 + 1
   \   000043   8882         MOV     DPL,R0
   \   000045   F583         MOV     DPH,A
   \   000047   74E0         MOV     A,#-0x20
   \   000049   F0           MOVX    @DPTR,A
   \   00004A   90....       MOV     DPTR,#__Constant_1
   \   00004D   78..         MOV     R0,#?V0 + 0
   \   00004F   12....       LCALL   ?L_MOV_X
   \   000052   8E82         MOV     DPL,R6
   \   000054   8F83         MOV     DPH,R7
   \   000056   A3           INC     DPTR
   \   000057   A3           INC     DPTR
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?L_ADD_TO_X
    389          	
    390          	//固定头部----------------------剩余长度值-----------------------------------------------
    391          	mqttPacket->_data[mqttPacket->_len++] = 0;
   \   00005D   8E82         MOV     DPL,R6
   \   00005F   8F83         MOV     DPH,R7
   \   000061   A3           INC     DPTR
   \   000062   A3           INC     DPTR
   \   000063   78..         MOV     R0,#?V0 + 0
   \   000065   12....       LCALL   ?L_MOV_X
   \   000068   8E82         MOV     DPL,R6
   \   00006A   8F83         MOV     DPH,R7
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   25..         ADD     A,?V0 + 0
   \   00006F   F8           MOV     R0,A
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   35..         ADDC    A,?V0 + 1
   \   000074   8882         MOV     DPL,R0
   \   000076   F583         MOV     DPH,A
   \   000078   7400         MOV     A,#0x0
   \   00007A   F0           MOVX    @DPTR,A
   \   00007B   90....       MOV     DPTR,#__Constant_1
   \   00007E   78..         MOV     R0,#?V0 + 0
   \   000080   12....       LCALL   ?L_MOV_X
   \   000083   8E82         MOV     DPL,R6
   \   000085   8F83         MOV     DPH,R7
   \   000087   A3           INC     DPTR
   \   000088   A3           INC     DPTR
   \   000089   78..         MOV     R0,#?V0 + 0
   \   00008B   12....       LCALL   ?L_ADD_TO_X
    392          	
    393          	return 0;
   \   00008E   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketDisConnect_1:
   \   000090   7F04         MOV     R7,#0x4
   \   000092   02....       LJMP    ?BANKED_LEAVE_XDATA
    394          
    395          }
    396          
    397          //==========================================================
    398          //	函数名称：	MQTT_UnPacketConnectAck
    399          //
    400          //	函数功能：	连接消息解包
    401          //
    402          //	入口参数：	rev_data：接收的数据
    403          //
    404          //	返回参数：	1、255-失败		其他-平台的返回码
    405          //
    406          //	说明：		
    407          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    408          uint8 MQTT_UnPacketConnectAck(uint8 *rev_data)
   \                     MQTT_UnPacketConnectAck:
    409          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    410          
    411          	if(rev_data[1] != 2)
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   6402         XRL     A,#0x2
   \   00000C   6004         JZ      ??MQTT_UnPacketConnectAck_0
    412          		return 1;
   \   00000E   7901         MOV     R1,#0x1
   \   000010   8021         SJMP    ??MQTT_UnPacketConnectAck_1
    413          	
    414          	if(rev_data[2] == 0 || rev_data[2] == 1)
   \                     ??MQTT_UnPacketConnectAck_0:
   \   000012   8A82         MOV     DPL,R2
   \   000014   8B83         MOV     DPH,R3
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   600B         JZ      ??MQTT_UnPacketConnectAck_2
   \   00001B   8A82         MOV     DPL,R2
   \   00001D   8B83         MOV     DPH,R3
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   E0           MOVX    A,@DPTR
   \   000022   6401         XRL     A,#0x1
   \   000024   700B         JNZ     ??MQTT_UnPacketConnectAck_3
    415          		return rev_data[3];
   \                     ??MQTT_UnPacketConnectAck_2:
   \   000026   8A82         MOV     DPL,R2
   \   000028   8B83         MOV     DPH,R3
   \   00002A   A3           INC     DPTR
   \   00002B   A3           INC     DPTR
   \   00002C   A3           INC     DPTR
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   F9           MOV     R1,A
   \   00002F   8002         SJMP    ??MQTT_UnPacketConnectAck_1
    416          	else
    417          		return 255;
   \                     ??MQTT_UnPacketConnectAck_3:
   \   000031   79FF         MOV     R1,#-0x1
   \                     ??MQTT_UnPacketConnectAck_1:
   \   000033   D083         POP     DPH
   \   000035   D082         POP     DPL
   \   000037   02....       LJMP    ?BRET
    418          
    419          }
    420          
    421          //==========================================================
    422          //	函数名称：	MQTT_PacketSaveData
    423          //
    424          //	函数功能：	数据点上传组包
    425          //
    426          //	入口参数：	devid：设备ID(可为空)
    427          //				send_buf：json缓存buf
    428          //				send_len：json总长
    429          //				type_bin_head：bin文件的消息头
    430          //				type：类型
    431          //
    432          //	返回参数：	0-成功		1-失败
    433          //
    434          //	说明：		
    435          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    436          uint1 MQTT_PacketSaveData(const int8 *devid, int16 send_len, int8 *type_bin_head, uint8 type, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketSaveData:
    437          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 10,R2
   \   000007   8B..         MOV     ?V0 + 11,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
   \   00000D   89..         MOV     ?V0 + 2,R1
   \   00000F   7414         MOV     A,#0x14
   \   000011   12....       LCALL   ?XSTACK_DISP0_8
   \   000014   E0           MOVX    A,@DPTR
   \   000015   F5..         MOV     ?V0 + 8,A
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   F5..         MOV     ?V0 + 9,A
   \   00001B   7416         MOV     A,#0x16
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   E0           MOVX    A,@DPTR
   \   000021   F5..         MOV     ?V0 + 0,A
   \   000023   A3           INC     DPTR
   \   000024   E0           MOVX    A,@DPTR
   \   000025   F5..         MOV     ?V0 + 1,A
    438          
    439          	if(MQTT_PacketPublish(MQTT_PUBLISH_ID, "$dp", NULL, send_len + 3, MQTT_QOS_LEVEL1, 0, 1, mqttPacket) == 0)
   \   000027                ; Setup parameters for call to function MQTT_PacketPublish
   \   000027   78..         MOV     R0,#?V0 + 0
   \   000029   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002C   90....       MOV     DPTR,#__Constant_1
   \   00002F   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000032   90....       MOV     DPTR,#__Constant_0
   \   000035   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000038   EE           MOV     A,R6
   \   000039   2403         ADD     A,#0x3
   \   00003B   F5..         MOV     ?V0 + 4,A
   \   00003D   EF           MOV     A,R7
   \   00003E   3400         ADDC    A,#0x0
   \   000040   F5..         MOV     ?V0 + 5,A
   \   000042   E5..         MOV     A,?V0 + 5
   \   000044   33           RLC     A
   \   000045   95E0         SUBB    A,0xE0 /* A   */
   \   000047   F5..         MOV     ?V0 + 6,A
   \   000049   F5..         MOV     ?V0 + 7,A
   \   00004B   78..         MOV     R0,#?V0 + 4
   \   00004D   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000050   E4           CLR     A
   \   000051   F5..         MOV     ?V0 + 4,A
   \   000053   F5..         MOV     ?V0 + 5,A
   \   000055   78..         MOV     R0,#?V0 + 4
   \   000057   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005A   7901         MOV     R1,#0x1
   \   00005C   7C..         MOV     R4,#`?<Constant "$dp">` & 0xff
   \   00005E   7D..         MOV     R5,#(`?<Constant "$dp">` >> 8) & 0xff
   \   000060   7A0A         MOV     R2,#0xa
   \   000062   7B00         MOV     R3,#0x0
   \   000064   12....       LCALL   ??MQTT_PacketPublish?relay
   \   000067   7410         MOV     A,#0x10
   \   000069   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006C   E9           MOV     A,R1
   \   00006D   6003         JZ      $+5
   \   00006F   02....       LJMP    ??MQTT_PacketSaveData_0 & 0xFFFF
    440          	{
    441          		mqttPacket->_data[mqttPacket->_len++] = type;					//类型
   \   000072   E5..         MOV     A,?V0 + 2
   \   000074   85..82       MOV     DPL,?V0 + 0
   \   000077   85..83       MOV     DPH,?V0 + 1
   \   00007A   A3           INC     DPTR
   \   00007B   A3           INC     DPTR
   \   00007C   78..         MOV     R0,#?V0 + 4
   \   00007E   12....       LCALL   ?L_MOV_X
   \   000081   85..82       MOV     DPL,?V0 + 0
   \   000084   85..83       MOV     DPH,?V0 + 1
   \   000087   E0           MOVX    A,@DPTR
   \   000088   25..         ADD     A,?V0 + 4
   \   00008A   F8           MOV     R0,A
   \   00008B   A3           INC     DPTR
   \   00008C   E0           MOVX    A,@DPTR
   \   00008D   35..         ADDC    A,?V0 + 5
   \   00008F   8882         MOV     DPL,R0
   \   000091   F583         MOV     DPH,A
   \   000093   E5..         MOV     A,?V0 + 2
   \   000095   F0           MOVX    @DPTR,A
   \   000096   90....       MOV     DPTR,#__Constant_1
   \   000099   78..         MOV     R0,#?V0 + 4
   \   00009B   12....       LCALL   ?L_MOV_X
   \   00009E   85..82       MOV     DPL,?V0 + 0
   \   0000A1   85..83       MOV     DPH,?V0 + 1
   \   0000A4   A3           INC     DPTR
   \   0000A5   A3           INC     DPTR
   \   0000A6   78..         MOV     R0,#?V0 + 4
   \   0000A8   12....       LCALL   ?L_ADD_TO_X
    442          		
    443          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(send_len);
   \   0000AB   EE           MOV     A,R6
   \   0000AC   F8           MOV     R0,A
   \   0000AD   EF           MOV     A,R7
   \   0000AE   F9           MOV     R1,A
   \   0000AF   E4           CLR     A
   \   0000B0   E9           MOV     A,R1
   \   0000B1   F8           MOV     R0,A
   \   0000B2   C0E0         PUSH    A
   \   0000B4   85..82       MOV     DPL,?V0 + 0
   \   0000B7   85..83       MOV     DPH,?V0 + 1
   \   0000BA   A3           INC     DPTR
   \   0000BB   A3           INC     DPTR
   \   0000BC   78..         MOV     R0,#?V0 + 4
   \   0000BE   12....       LCALL   ?L_MOV_X
   \   0000C1   85..82       MOV     DPL,?V0 + 0
   \   0000C4   85..83       MOV     DPH,?V0 + 1
   \   0000C7   E0           MOVX    A,@DPTR
   \   0000C8   25..         ADD     A,?V0 + 4
   \   0000CA   F8           MOV     R0,A
   \   0000CB   A3           INC     DPTR
   \   0000CC   E0           MOVX    A,@DPTR
   \   0000CD   35..         ADDC    A,?V0 + 5
   \   0000CF   8882         MOV     DPL,R0
   \   0000D1   F583         MOV     DPH,A
   \   0000D3   D0E0         POP     A
   \   0000D5   F0           MOVX    @DPTR,A
   \   0000D6   90....       MOV     DPTR,#__Constant_1
   \   0000D9   78..         MOV     R0,#?V0 + 4
   \   0000DB   12....       LCALL   ?L_MOV_X
   \   0000DE   85..82       MOV     DPL,?V0 + 0
   \   0000E1   85..83       MOV     DPH,?V0 + 1
   \   0000E4   A3           INC     DPTR
   \   0000E5   A3           INC     DPTR
   \   0000E6   78..         MOV     R0,#?V0 + 4
   \   0000E8   12....       LCALL   ?L_ADD_TO_X
    444          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(send_len);
   \   0000EB   EE           MOV     A,R6
   \   0000EC   C0E0         PUSH    A
   \   0000EE   85..82       MOV     DPL,?V0 + 0
   \   0000F1   85..83       MOV     DPH,?V0 + 1
   \   0000F4   A3           INC     DPTR
   \   0000F5   A3           INC     DPTR
   \   0000F6   78..         MOV     R0,#?V0 + 4
   \   0000F8   12....       LCALL   ?L_MOV_X
   \   0000FB   85..82       MOV     DPL,?V0 + 0
   \   0000FE   85..83       MOV     DPH,?V0 + 1
   \   000101   E0           MOVX    A,@DPTR
   \   000102   25..         ADD     A,?V0 + 4
   \   000104   F8           MOV     R0,A
   \   000105   A3           INC     DPTR
   \   000106   E0           MOVX    A,@DPTR
   \   000107   35..         ADDC    A,?V0 + 5
   \   000109   8882         MOV     DPL,R0
   \   00010B   F583         MOV     DPH,A
   \   00010D   D0E0         POP     A
   \   00010F   F0           MOVX    @DPTR,A
   \   000110   90....       MOV     DPTR,#__Constant_1
   \   000113   78..         MOV     R0,#?V0 + 4
   \   000115   12....       LCALL   ?L_MOV_X
   \   000118   85..82       MOV     DPL,?V0 + 0
   \   00011B   85..83       MOV     DPH,?V0 + 1
   \   00011E   A3           INC     DPTR
   \   00011F   A3           INC     DPTR
   \   000120   78..         MOV     R0,#?V0 + 4
   \   000122   12....       LCALL   ?L_ADD_TO_X
    445          	}
    446          	else
    447          		return 1;
    448          	
    449          	return 0;
   \   000125   7900         MOV     R1,#0x0
   \   000127   8002         SJMP    ??MQTT_PacketSaveData_1
   \                     ??MQTT_PacketSaveData_0:
   \   000129   7901         MOV     R1,#0x1
   \                     ??MQTT_PacketSaveData_1:
   \   00012B   7F0C         MOV     R7,#0xc
   \   00012D   02....       LJMP    ?BANKED_LEAVE_XDATA
    450          
    451          }
    452          
    453          //==========================================================
    454          //	函数名称：	MQTT_UnPacketCmd
    455          //
    456          //	函数功能：	命令下发解包
    457          //
    458          //	入口参数：	rev_data：接收的数据指针
    459          //				cmdid：cmdid-uuid
    460          //				req：命令
    461          //
    462          //	返回参数：	0-成功		其他-失败原因
    463          //
    464          //	说明：		
    465          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    466          uint8 MQTT_UnPacketCmd(uint8 *rev_data, int8 *cmdid, int8 *req, uint16 *req_len)
   \                     MQTT_UnPacketCmd:
    467          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 10,R2
   \   00000C   8B..         MOV     ?V0 + 11,R3
   \   00000E   8C..         MOV     ?V0 + 8,R4
   \   000010   8D..         MOV     ?V0 + 9,R5
   \   000012   7418         MOV     A,#0x18
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V0 + 2,A
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 3,A
   \   00001E   741A         MOV     A,#0x1a
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F5..         MOV     ?V0 + 0,A
   \   000026   A3           INC     DPTR
   \   000027   E0           MOVX    A,@DPTR
   \   000028   F5..         MOV     ?V0 + 1,A
    468          
    469          	int8 *dataPtr = strchr((int8 *)rev_data + 6, '/');	//加6是跳过头信息
                 	                       ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char const *"

  	int8 *dataPtr = strchr((int8 *)rev_data + 6, '/');	//加6是跳过头信息
  	                ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",469  Warning[Pe144]: 
          a value of type "char *" cannot be used to initialize an entity of
          type "int8 *"
   \   00002A                ; Setup parameters for call to function strchr
   \   00002A   7C2F         MOV     R4,#0x2f
   \   00002C   7D00         MOV     R5,#0x0
   \   00002E   E5..         MOV     A,?V0 + 10
   \   000030   2406         ADD     A,#0x6
   \   000032   FA           MOV     R2,A
   \   000033   E5..         MOV     A,?V0 + 11
   \   000035   3400         ADDC    A,#0x0
   \   000037   FB           MOV     R3,A
   \   000038   12....       LCALL   ??strchr?relay
   \   00003B   8A..         MOV     ?V0 + 4,R2
   \   00003D   8B..         MOV     ?V0 + 5,R3
   \   00003F   AE..         MOV     R6,?V0 + 4
   \   000041   AF..         MOV     R7,?V0 + 5
    470          	
    471          	uint32 remain_len = 0;
   \   000043   90....       MOV     DPTR,#__Constant_0
   \   000046   12....       LCALL   ?XLOAD_R2345
   \   000049   85..82       MOV     DPL,?XSP + 0
   \   00004C   85..83       MOV     DPH,?XSP + 1
   \   00004F   12....       LCALL   ?XSTORE_R2345
    472          	
    473          	if(dataPtr == NULL)									//未找到'/'
   \   000052   EE           MOV     A,R6
   \   000053   4F           ORL     A,R7
   \   000054   7005         JNZ     ??MQTT_UnPacketCmd_0
    474          		return 1;
   \   000056   7901         MOV     R1,#0x1
   \   000058   02....       LJMP    ??MQTT_UnPacketCmd_1 & 0xFFFF
    475          	dataPtr++;											//跳过'/'
   \                     ??MQTT_UnPacketCmd_0:
   \   00005B   8E82         MOV     DPL,R6
   \   00005D   8F83         MOV     DPH,R7
   \   00005F   A3           INC     DPTR
   \   000060   AE82         MOV     R6,DPL
   \   000062   AF83         MOV     R7,DPH
    476          	
    477          	MQTT_ReadLength(rev_data + 1, 4, &remain_len);		//读取剩余字节
   \   000064                ; Setup parameters for call to function MQTT_ReadLength
   \   000064   90....       MOV     DPTR,#__Constant_4
   \   000067   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00006A   7404         MOV     A,#0x4
   \   00006C   12....       LCALL   ?XSTACK_DISP0_8
   \   00006F   AC82         MOV     R4,DPL
   \   000071   AD83         MOV     R5,DPH
   \   000073   85..82       MOV     DPL,?V0 + 10
   \   000076   85..83       MOV     DPH,?V0 + 11
   \   000079   A3           INC     DPTR
   \   00007A   AA82         MOV     R2,DPL
   \   00007C   AB83         MOV     R3,DPH
   \   00007E   12....       LCALL   ??MQTT_ReadLength?relay
   \   000081   7404         MOV     A,#0x4
   \   000083   12....       LCALL   ?DEALLOC_XSTACK8
    478          	
    479          	//*cmdid = (int8 *)MQTT_MallocBuffer(37);				//cmdid固定36字节，多分配一个结束符的位置
    480          	if(cmdid == NULL)
   \   000086   E5..         MOV     A,?V0 + 8
   \   000088   45..         ORL     A,?V0 + 9
   \   00008A   700C         JNZ     ??MQTT_UnPacketCmd_2
    481            {
    482              debug("UnPacket mem 11\r\n");
   \   00008C                ; Setup parameters for call to function debug
   \   00008C   7A..         MOV     R2,#`?<Constant "UnPacket mem 11\\r\\n">` & 0xff
   \   00008E   7B..         MOV     R3,#(`?<Constant "UnPacket mem 11\\r\\n">` >> 8) & 0xff
   \   000090   12....       LCALL   ??debug?relay
    483          		return 2;
   \   000093   7902         MOV     R1,#0x2
   \   000095   02....       LJMP    ??MQTT_UnPacketCmd_1 & 0xFFFF
    484            }
    485          	memset(cmdid, 0, 37);								//全部清零
   \                     ??MQTT_UnPacketCmd_2:
   \   000098                ; Setup parameters for call to function memset
   \   000098   75..25       MOV     ?V0 + 4,#0x25
   \   00009B   75..00       MOV     ?V0 + 5,#0x0
   \   00009E   78..         MOV     R0,#?V0 + 4
   \   0000A0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A3   7C00         MOV     R4,#0x0
   \   0000A5   7D00         MOV     R5,#0x0
   \   0000A7   AA..         MOV     R2,?V0 + 8
   \   0000A9   AB..         MOV     R3,?V0 + 9
   \   0000AB   12....       LCALL   ??memset?relay
   \   0000AE   7402         MOV     A,#0x2
   \   0000B0   12....       LCALL   ?DEALLOC_XSTACK8
    486          	memcpy(cmdid, (const int8 *)dataPtr, 36);			//复制cmdid
   \   0000B3                ; Setup parameters for call to function memcpy
   \   0000B3   75..24       MOV     ?V0 + 4,#0x24
   \   0000B6   75..00       MOV     ?V0 + 5,#0x0
   \   0000B9   78..         MOV     R0,#?V0 + 4
   \   0000BB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000BE   EE           MOV     A,R6
   \   0000BF   FC           MOV     R4,A
   \   0000C0   EF           MOV     A,R7
   \   0000C1   FD           MOV     R5,A
   \   0000C2   AA..         MOV     R2,?V0 + 8
   \   0000C4   AB..         MOV     R3,?V0 + 9
   \   0000C6   12....       LCALL   ??memcpy?relay
   \   0000C9   7402         MOV     A,#0x2
   \   0000CB   12....       LCALL   ?DEALLOC_XSTACK8
    487          	dataPtr += 36;
   \   0000CE   EE           MOV     A,R6
   \   0000CF   2424         ADD     A,#0x24
   \   0000D1   FE           MOV     R6,A
   \   0000D2   EF           MOV     A,R7
   \   0000D3   3400         ADDC    A,#0x0
   \   0000D5   FF           MOV     R7,A
    488          	
    489          	*req_len = remain_len - 44;							//命令长度 = 剩余长度(remain_len) - 2 - 5($creq) - 1(\) - cmdid长度
   \   0000D6   85..82       MOV     DPL,?XSP + 0
   \   0000D9   85..83       MOV     DPH,?XSP + 1
   \   0000DC   78..         MOV     R0,#?V0 + 4
   \   0000DE   12....       LCALL   ?L_MOV_X
   \   0000E1   E5..         MOV     A,?V0 + 4
   \   0000E3   24D4         ADD     A,#-0x2c
   \   0000E5   F8           MOV     R0,A
   \   0000E6   E5..         MOV     A,?V0 + 5
   \   0000E8   34FF         ADDC    A,#-0x1
   \   0000EA   F9           MOV     R1,A
   \   0000EB   85..82       MOV     DPL,?V0 + 0
   \   0000EE   85..83       MOV     DPH,?V0 + 1
   \   0000F1   E8           MOV     A,R0
   \   0000F2   F0           MOVX    @DPTR,A
   \   0000F3   A3           INC     DPTR
   \   0000F4   E9           MOV     A,R1
   \   0000F5   F0           MOVX    @DPTR,A
    490          	if(req == NULL || (*req_len>MAX_REQ_PAYLOAD_LEN))
   \   0000F6   E5..         MOV     A,?V0 + 2
   \   0000F8   45..         ORL     A,?V0 + 3
   \   0000FA   6010         JZ      ??MQTT_UnPacketCmd_3
   \   0000FC   85..82       MOV     DPL,?V0 + 0
   \   0000FF   85..83       MOV     DPH,?V0 + 1
   \   000102   C3           CLR     C
   \   000103   E0           MOVX    A,@DPTR
   \   000104   9497         SUBB    A,#-0x69
   \   000106   A3           INC     DPTR
   \   000107   E0           MOVX    A,@DPTR
   \   000108   9400         SUBB    A,#0x0
   \   00010A   400B         JC      ??MQTT_UnPacketCmd_4
    491          	{
    492          		debug("UnPacket mem 22\r\n");
   \                     ??MQTT_UnPacketCmd_3:
   \   00010C                ; Setup parameters for call to function debug
   \   00010C   7A..         MOV     R2,#`?<Constant "UnPacket mem 22\\r\\n">` & 0xff
   \   00010E   7B..         MOV     R3,#(`?<Constant "UnPacket mem 22\\r\\n">` >> 8) & 0xff
   \   000110   12....       LCALL   ??debug?relay
    493          		return 3;
   \   000113   7903         MOV     R1,#0x3
   \   000115   8041         SJMP    ??MQTT_UnPacketCmd_1
    494          	}
    495                    
    496          	memset(req, 0, *req_len + 1);						//清零
   \                     ??MQTT_UnPacketCmd_4:
   \   000117                ; Setup parameters for call to function memset
   \   000117   85..82       MOV     DPL,?V0 + 0
   \   00011A   85..83       MOV     DPH,?V0 + 1
   \   00011D   E0           MOVX    A,@DPTR
   \   00011E   2401         ADD     A,#0x1
   \   000120   F5..         MOV     ?V0 + 4,A
   \   000122   A3           INC     DPTR
   \   000123   E0           MOVX    A,@DPTR
   \   000124   3400         ADDC    A,#0x0
   \   000126   F5..         MOV     ?V0 + 5,A
   \   000128   78..         MOV     R0,#?V0 + 4
   \   00012A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012D   7C00         MOV     R4,#0x0
   \   00012F   7D00         MOV     R5,#0x0
   \   000131   AA..         MOV     R2,?V0 + 2
   \   000133   AB..         MOV     R3,?V0 + 3
   \   000135   12....       LCALL   ??memset?relay
   \   000138   7402         MOV     A,#0x2
   \   00013A   12....       LCALL   ?DEALLOC_XSTACK8
    497          	memcpy(req, (const int8 *)dataPtr, *req_len);		//复制命令
   \   00013D                ; Setup parameters for call to function memcpy
   \   00013D   85..82       MOV     DPL,?V0 + 0
   \   000140   85..83       MOV     DPH,?V0 + 1
   \   000143   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000146   EE           MOV     A,R6
   \   000147   FC           MOV     R4,A
   \   000148   EF           MOV     A,R7
   \   000149   FD           MOV     R5,A
   \   00014A   AA..         MOV     R2,?V0 + 2
   \   00014C   AB..         MOV     R3,?V0 + 3
   \   00014E   12....       LCALL   ??memcpy?relay
   \   000151   7402         MOV     A,#0x2
   \   000153   12....       LCALL   ?DEALLOC_XSTACK8
    498          	
    499          	return 0;
   \   000156   7900         MOV     R1,#0x0
   \                     ??MQTT_UnPacketCmd_1:
   \   000158   7404         MOV     A,#0x4
   \   00015A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00015D   7F0C         MOV     R7,#0xc
   \   00015F   02....       LJMP    ?BANKED_LEAVE_XDATA
    500          }
    501          
    502          //==========================================================
    503          //	函数名称：	MQTT_PacketCmdResp
    504          //
    505          //	函数功能：	命令回复组包
    506          //
    507          //	入口参数：	cmdid：cmdid
    508          //				req：命令
    509          //				mqttPacket：包指针
    510          //
    511          //	返回参数：	0-成功		1-失败
    512          //
    513          //	说明：		
    514          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    515          uint1 MQTT_PacketCmdResp(const int8 *cmdid, const int8 *req, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketCmdResp:
    516          {
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 50
   \   000005   74CE         MOV     A,#-0x32
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 8,R2
   \   00000C   8B..         MOV     ?V0 + 9,R3
   \   00000E   8C..         MOV     ?V0 + 4,R4
   \   000010   8D..         MOV     ?V0 + 5,R5
   \   000012   7444         MOV     A,#0x44
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V0 + 6,A
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 7,A
    517          	
    518          	uint16 cmdid_len = strlen(cmdid);
                 	                          ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   00001E                ; Setup parameters for call to function strlen
   \   00001E   AA..         MOV     R2,?V0 + 8
   \   000020   AB..         MOV     R3,?V0 + 9
   \   000022   12....       LCALL   ??strlen?relay
   \   000025   8A..         MOV     ?V0 + 0,R2
   \   000027   8B..         MOV     ?V0 + 1,R3
   \   000029   AE..         MOV     R6,?V0 + 0
   \   00002B   AF..         MOV     R7,?V0 + 1
    519          	_Bool status = 0;
   \   00002D   C2..         CLR     ?VB.0
    520            uint8 payload[50]={0};
   \   00002F   90....       MOV     DPTR,#`?<Constant {0}>`
   \   000032   C082         PUSH    DPL
   \   000034   C083         PUSH    DPH
   \   000036   85..82       MOV     DPL,?XSP + 0
   \   000039   85..83       MOV     DPH,?XSP + 1
   \   00003C   AC82         MOV     R4,DPL
   \   00003E   AD83         MOV     R5,DPH
   \   000040   D083         POP     DPH
   \   000042   D082         POP     DPL
   \   000044   7432         MOV     A,#0x32
   \   000046   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    521          	
    522            sprintf(payload, "$crsp/%s", cmdid);
                   ^
Warning[Pe223]: function "sprintf" declared implicitly
   \   000049                ; Setup parameters for call to function sprintf
   \   000049   78..         MOV     R0,#?V0 + 8
   \   00004B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004E   7C..         MOV     R4,#`?<Constant "$crsp/%s">` & 0xff
   \   000050   7D..         MOV     R5,#(`?<Constant "$crsp/%s">` >> 8) & 0xff
   \   000052   7402         MOV     A,#0x2
   \   000054   12....       LCALL   ?XSTACK_DISP0_8
   \   000057   AA82         MOV     R2,DPL
   \   000059   AB83         MOV     R3,DPH
   \   00005B   12....       LCALL   ??sprintf?relay
   \   00005E   7402         MOV     A,#0x2
   \   000060   12....       LCALL   ?DEALLOC_XSTACK8
    523          
    524          	if(MQTT_PacketPublish(MQTT_PUBLISH_ID, payload, req, strlen(req), MQTT_QOS_LEVEL0, 0, 1, mqttPacket) == 0)
                 	                                                            ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"

  	if(MQTT_PacketPublish(MQTT_PUBLISH_ID, payload, req, strlen(req), MQTT_QOS_LEVEL0, 0, 1, mqttPacket) == 0)
  	                                       ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",524  Warning[Pe167]: 
          argument of type "uint8 *" is incompatible with parameter of type
          "signed char const *"
   \   000063                ; Setup parameters for call to function MQTT_PacketPublish
   \   000063   78..         MOV     R0,#?V0 + 6
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000068   90....       MOV     DPTR,#__Constant_1
   \   00006B   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00006E   90....       MOV     DPTR,#__Constant_0
   \   000071   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000074                ; Setup parameters for call to function strlen
   \   000074   AA..         MOV     R2,?V0 + 4
   \   000076   AB..         MOV     R3,?V0 + 5
   \   000078   12....       LCALL   ??strlen?relay
   \   00007B   8A..         MOV     ?V0 + 0,R2
   \   00007D   8B..         MOV     ?V0 + 1,R3
   \   00007F   E4           CLR     A
   \   000080   F5..         MOV     ?V0 + 2,A
   \   000082   F5..         MOV     ?V0 + 3,A
   \   000084   78..         MOV     R0,#?V0 + 0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000089   78..         MOV     R0,#?V0 + 4
   \   00008B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008E   7900         MOV     R1,#0x0
   \   000090   7410         MOV     A,#0x10
   \   000092   12....       LCALL   ?XSTACK_DISP0_8
   \   000095   AC82         MOV     R4,DPL
   \   000097   AD83         MOV     R5,DPH
   \   000099   7A0A         MOV     R2,#0xa
   \   00009B   7B00         MOV     R3,#0x0
   \   00009D   12....       LCALL   ??MQTT_PacketPublish?relay
   \   0000A0   7410         MOV     A,#0x10
   \   0000A2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000A5   E9           MOV     A,R1
   \   0000A6   7004         JNZ     ??MQTT_PacketCmdResp_0
    525          		status = 0;
   \   0000A8   C2..         CLR     ?VB.0
   \   0000AA   8002         SJMP    ??MQTT_PacketCmdResp_1
    526          	else
    527          		status = 1;
   \                     ??MQTT_PacketCmdResp_0:
   \   0000AC   D2..         SETB    ?VB.0
    528          		
    529          	return status;
   \                     ??MQTT_PacketCmdResp_1:
   \   0000AE   A2..         MOV     C,?VB.0
   \   0000B0   E4           CLR     A
   \   0000B1   33           RLC     A
   \   0000B2   F9           MOV     R1,A
   \   0000B3   7432         MOV     A,#0x32
   \   0000B5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000B8   7F0A         MOV     R7,#0xa
   \   0000BA   02....       LJMP    ?BANKED_LEAVE_XDATA
    530          
    531          }
    532          
    533          //==========================================================
    534          //	函数名称：	MQTT_PacketSubscribe
    535          //
    536          //	函数功能：	Subscribe消息组包
    537          //
    538          //	入口参数：	pkt_id：pkt_id
    539          //				qos：消息重发次数
    540          //				topics：订阅的消息
    541          //				topics_cnt：订阅的消息个数
    542          //				mqttPacket：包指针
    543          //
    544          //	返回参数：	0-成功		其他-失败
    545          //
    546          //	说明：		
    547          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    548          uint8 MQTT_PacketSubscribe(uint16 pkt_id, enum MqttQosLevel qos, const int8 *topics[], uint8 topics_cnt, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketSubscribe:
    549          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 5
   \   000005   74FB         MOV     A,#-0x5
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7403         MOV     A,#0x3
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EA           MOV     A,R2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   EB           MOV     A,R3
   \   000013   F0           MOVX    @DPTR,A
   \   000014   E9           MOV     A,R1
   \   000015   C0E0         PUSH    A
   \   000017   7402         MOV     A,#0x2
   \   000019   12....       LCALL   ?XSTACK_DISP0_8
   \   00001C   D0E0         POP     A
   \   00001E   F0           MOVX    @DPTR,A
   \   00001F   85..82       MOV     DPL,?XSP + 0
   \   000022   85..83       MOV     DPH,?XSP + 1
   \   000025   EC           MOV     A,R4
   \   000026   F0           MOVX    @DPTR,A
   \   000027   A3           INC     DPTR
   \   000028   ED           MOV     A,R5
   \   000029   F0           MOVX    @DPTR,A
   \   00002A   741D         MOV     A,#0x1d
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   E0           MOVX    A,@DPTR
   \   000030   F5..         MOV     ?V0 + 13,A
   \   000032   741E         MOV     A,#0x1e
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   E0           MOVX    A,@DPTR
   \   000038   FE           MOV     R6,A
   \   000039   A3           INC     DPTR
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   FF           MOV     R7,A
    550          	
    551          	uint32 topic_len = 0, remain_len = 0;
   \   00003C   90....       MOV     DPTR,#__Constant_0
   \   00003F   78..         MOV     R0,#?V0 + 4
   \   000041   12....       LCALL   ?L_MOV_X
   \   000044   90....       MOV     DPTR,#__Constant_0
   \   000047   78..         MOV     R0,#?V0 + 8
   \   000049   12....       LCALL   ?L_MOV_X
    552          	int16 len = 0;
   \   00004C   75..00       MOV     ?V0 + 14,#0x0
   \   00004F   75..00       MOV     ?V0 + 15,#0x0
    553          	uint8 i = 0;
   \   000052   75..00       MOV     ?V0 + 12,#0x0
    554          	
    555          	if(pkt_id == 0)
   \   000055   7403         MOV     A,#0x3
   \   000057   12....       LCALL   ?XSTACK_DISP0_8
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   F8           MOV     R0,A
   \   00005C   A3           INC     DPTR
   \   00005D   E0           MOVX    A,@DPTR
   \   00005E   F9           MOV     R1,A
   \   00005F   E8           MOV     A,R0
   \   000060   49           ORL     A,R1
   \   000061   7005         JNZ     ??MQTT_PacketSubscribe_0
    556          		return 1;
   \   000063   7901         MOV     R1,#0x1
   \   000065   02....       LJMP    ??MQTT_PacketSubscribe_1 & 0xFFFF
    557          	
    558          	//计算topic长度-------------------------------------------------------------------------
    559          	for(; i < topics_cnt; i++)
   \                     ??MQTT_PacketSubscribe_0:
   \   000068   E5..         MOV     A,?V0 + 12
   \   00006A   C3           CLR     C
   \   00006B   95..         SUBB    A,?V0 + 13
   \   00006D   4003         JC      $+5
   \   00006F   02....       LJMP    ??MQTT_PacketSubscribe_2 & 0xFFFF
    560          	{
    561          		if(topics[i] == NULL)
   \   000072   E5..         MOV     A,?V0 + 12
   \   000074   A8..         MOV     R0,?V0 + 12
   \   000076   7900         MOV     R1,#0x0
   \   000078   E8           MOV     A,R0
   \   000079   75F002       MOV     B,#0x2
   \   00007C   A4           MUL     AB
   \   00007D   C8           XCH     A,R0
   \   00007E   AAF0         MOV     R2,B
   \   000080   75F000       MOV     B,#0x0
   \   000083   A4           MUL     AB
   \   000084   2A           ADD     A,R2
   \   000085   FA           MOV     R2,A
   \   000086   75F002       MOV     B,#0x2
   \   000089   E9           MOV     A,R1
   \   00008A   A4           MUL     AB
   \   00008B   2A           ADD     A,R2
   \   00008C   F9           MOV     R1,A
   \   00008D   85..82       MOV     DPL,?XSP + 0
   \   000090   85..83       MOV     DPH,?XSP + 1
   \   000093   E0           MOVX    A,@DPTR
   \   000094   28           ADD     A,R0
   \   000095   FA           MOV     R2,A
   \   000096   A3           INC     DPTR
   \   000097   E0           MOVX    A,@DPTR
   \   000098   39           ADDC    A,R1
   \   000099   8A82         MOV     DPL,R2
   \   00009B   F583         MOV     DPH,A
   \   00009D   E0           MOVX    A,@DPTR
   \   00009E   F8           MOV     R0,A
   \   00009F   A3           INC     DPTR
   \   0000A0   E0           MOVX    A,@DPTR
   \   0000A1   F9           MOV     R1,A
   \   0000A2   E8           MOV     A,R0
   \   0000A3   49           ORL     A,R1
   \   0000A4   7005         JNZ     ??MQTT_PacketSubscribe_3
    562          			return 2;
   \   0000A6   7902         MOV     R1,#0x2
   \   0000A8   02....       LJMP    ??MQTT_PacketSubscribe_1 & 0xFFFF
    563          		
    564          		topic_len += strlen(topics[i]);
                 		                    ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \                     ??MQTT_PacketSubscribe_3:
   \   0000AB                ; Setup parameters for call to function strlen
   \   0000AB   E5..         MOV     A,?V0 + 12
   \   0000AD   A8..         MOV     R0,?V0 + 12
   \   0000AF   7900         MOV     R1,#0x0
   \   0000B1   E8           MOV     A,R0
   \   0000B2   75F002       MOV     B,#0x2
   \   0000B5   A4           MUL     AB
   \   0000B6   C8           XCH     A,R0
   \   0000B7   AAF0         MOV     R2,B
   \   0000B9   75F000       MOV     B,#0x0
   \   0000BC   A4           MUL     AB
   \   0000BD   2A           ADD     A,R2
   \   0000BE   FA           MOV     R2,A
   \   0000BF   75F002       MOV     B,#0x2
   \   0000C2   E9           MOV     A,R1
   \   0000C3   A4           MUL     AB
   \   0000C4   2A           ADD     A,R2
   \   0000C5   F9           MOV     R1,A
   \   0000C6   85..82       MOV     DPL,?XSP + 0
   \   0000C9   85..83       MOV     DPH,?XSP + 1
   \   0000CC   E0           MOVX    A,@DPTR
   \   0000CD   28           ADD     A,R0
   \   0000CE   FA           MOV     R2,A
   \   0000CF   A3           INC     DPTR
   \   0000D0   E0           MOVX    A,@DPTR
   \   0000D1   39           ADDC    A,R1
   \   0000D2   8A82         MOV     DPL,R2
   \   0000D4   F583         MOV     DPH,A
   \   0000D6   E0           MOVX    A,@DPTR
   \   0000D7   FA           MOV     R2,A
   \   0000D8   A3           INC     DPTR
   \   0000D9   E0           MOVX    A,@DPTR
   \   0000DA   FB           MOV     R3,A
   \   0000DB   12....       LCALL   ??strlen?relay
   \   0000DE   8A..         MOV     ?V0 + 0,R2
   \   0000E0   8B..         MOV     ?V0 + 1,R3
   \   0000E2   E4           CLR     A
   \   0000E3   F5..         MOV     ?V0 + 2,A
   \   0000E5   F5..         MOV     ?V0 + 3,A
   \   0000E7   78..         MOV     R0,#?V0 + 4
   \   0000E9   79..         MOV     R1,#?V0 + 0
   \   0000EB   12....       LCALL   ?L_ADD
    565          	}
   \   0000EE   05..         INC     ?V0 + 12
   \   0000F0   02....       LJMP    ??MQTT_PacketSubscribe_0 & 0xFFFF
    566          	
    567          	//2 bytes packet id + topic filter(2 bytes topic + topic length + 1 byte reserve)------
    568          	remain_len = 2 + 3 * topics_cnt + topic_len;
   \                     ??MQTT_PacketSubscribe_2:
   \   0000F3   E5..         MOV     A,?V0 + 13
   \   0000F5   A8..         MOV     R0,?V0 + 13
   \   0000F7   7900         MOV     R1,#0x0
   \   0000F9   E8           MOV     A,R0
   \   0000FA   75F003       MOV     B,#0x3
   \   0000FD   A4           MUL     AB
   \   0000FE   C8           XCH     A,R0
   \   0000FF   AAF0         MOV     R2,B
   \   000101   75F000       MOV     B,#0x0
   \   000104   A4           MUL     AB
   \   000105   2A           ADD     A,R2
   \   000106   FA           MOV     R2,A
   \   000107   75F003       MOV     B,#0x3
   \   00010A   E9           MOV     A,R1
   \   00010B   A4           MUL     AB
   \   00010C   2A           ADD     A,R2
   \   00010D   F9           MOV     R1,A
   \   00010E   E8           MOV     A,R0
   \   00010F   2402         ADD     A,#0x2
   \   000111   F5..         MOV     ?V0 + 0,A
   \   000113   E9           MOV     A,R1
   \   000114   3400         ADDC    A,#0x0
   \   000116   F5..         MOV     ?V0 + 1,A
   \   000118   E5..         MOV     A,?V0 + 1
   \   00011A   33           RLC     A
   \   00011B   95E0         SUBB    A,0xE0 /* A   */
   \   00011D   F5..         MOV     ?V0 + 2,A
   \   00011F   F5..         MOV     ?V0 + 3,A
   \   000121   78..         MOV     R0,#?V0 + 0
   \   000123   79..         MOV     R1,#?V0 + 4
   \   000125   12....       LCALL   ?L_ADD
   \   000128   85....       MOV     ?V0 + 8,?V0 + 0
   \   00012B   85....       MOV     ?V0 + 9,?V0 + 1
   \   00012E   85....       MOV     ?V0 + 10,?V0 + 2
   \   000131   85....       MOV     ?V0 + 11,?V0 + 3
    569          	
    570          	//分配内存------------------------------------------------------------------------------
    571          	MQTT_NewBuffer(mqttPacket, remain_len + 5);
   \   000134                ; Setup parameters for call to function MQTT_NewBuffer
   \   000134   85....       MOV     ?V0 + 0,?V0 + 8
   \   000137   85....       MOV     ?V0 + 1,?V0 + 9
   \   00013A   85....       MOV     ?V0 + 2,?V0 + 10
   \   00013D   85....       MOV     ?V0 + 3,?V0 + 11
   \   000140   90....       MOV     DPTR,#__Constant_5
   \   000143   78..         MOV     R0,#?V0 + 0
   \   000145   12....       LCALL   ?L_ADD_X
   \   000148   78..         MOV     R0,#?V0 + 0
   \   00014A   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   00014D   EE           MOV     A,R6
   \   00014E   FA           MOV     R2,A
   \   00014F   EF           MOV     A,R7
   \   000150   FB           MOV     R3,A
   \   000151   12....       LCALL   ??MQTT_NewBuffer?relay
   \   000154   7404         MOV     A,#0x4
   \   000156   12....       LCALL   ?DEALLOC_XSTACK8
    572          	if(mqttPacket->_data == NULL)
   \   000159   8E82         MOV     DPL,R6
   \   00015B   8F83         MOV     DPH,R7
   \   00015D   E0           MOVX    A,@DPTR
   \   00015E   F8           MOV     R0,A
   \   00015F   A3           INC     DPTR
   \   000160   E0           MOVX    A,@DPTR
   \   000161   F9           MOV     R1,A
   \   000162   E8           MOV     A,R0
   \   000163   49           ORL     A,R1
   \   000164   7005         JNZ     ??MQTT_PacketSubscribe_4
    573          		return 3;
   \   000166   7903         MOV     R1,#0x3
   \   000168   02....       LJMP    ??MQTT_PacketSubscribe_1 & 0xFFFF
    574          	
    575          /*************************************固定头部***********************************************/
    576          	
    577          	//固定头部----------------------头部消息-------------------------------------------------
    578          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_SUBSCRIBE << 4 | 0x02;
   \                     ??MQTT_PacketSubscribe_4:
   \   00016B   8E82         MOV     DPL,R6
   \   00016D   8F83         MOV     DPH,R7
   \   00016F   A3           INC     DPTR
   \   000170   A3           INC     DPTR
   \   000171   78..         MOV     R0,#?V0 + 0
   \   000173   12....       LCALL   ?L_MOV_X
   \   000176   8E82         MOV     DPL,R6
   \   000178   8F83         MOV     DPH,R7
   \   00017A   E0           MOVX    A,@DPTR
   \   00017B   25..         ADD     A,?V0 + 0
   \   00017D   F8           MOV     R0,A
   \   00017E   A3           INC     DPTR
   \   00017F   E0           MOVX    A,@DPTR
   \   000180   35..         ADDC    A,?V0 + 1
   \   000182   8882         MOV     DPL,R0
   \   000184   F583         MOV     DPH,A
   \   000186   7482         MOV     A,#-0x7e
   \   000188   F0           MOVX    @DPTR,A
   \   000189   90....       MOV     DPTR,#__Constant_1
   \   00018C   78..         MOV     R0,#?V0 + 0
   \   00018E   12....       LCALL   ?L_MOV_X
   \   000191   8E82         MOV     DPL,R6
   \   000193   8F83         MOV     DPH,R7
   \   000195   A3           INC     DPTR
   \   000196   A3           INC     DPTR
   \   000197   78..         MOV     R0,#?V0 + 0
   \   000199   12....       LCALL   ?L_ADD_TO_X
    579          	
    580          	//固定头部----------------------剩余长度值-----------------------------------------------
    581          	len = MQTT_DumpLength(remain_len, mqttPacket->_data + mqttPacket->_len);
   \   00019C                ; Setup parameters for call to function MQTT_DumpLength
   \   00019C   8E82         MOV     DPL,R6
   \   00019E   8F83         MOV     DPH,R7
   \   0001A0   A3           INC     DPTR
   \   0001A1   A3           INC     DPTR
   \   0001A2   78..         MOV     R0,#?V0 + 0
   \   0001A4   12....       LCALL   ?L_MOV_X
   \   0001A7   8E82         MOV     DPL,R6
   \   0001A9   8F83         MOV     DPH,R7
   \   0001AB   E0           MOVX    A,@DPTR
   \   0001AC   25..         ADD     A,?V0 + 0
   \   0001AE   FC           MOV     R4,A
   \   0001AF   A3           INC     DPTR
   \   0001B0   E0           MOVX    A,@DPTR
   \   0001B1   35..         ADDC    A,?V0 + 1
   \   0001B3   FD           MOV     R5,A
   \   0001B4   85....       MOV     ?V0 + 0,?V0 + 8
   \   0001B7   85....       MOV     ?V0 + 1,?V0 + 9
   \   0001BA   AA..         MOV     R2,?V0 + 0
   \   0001BC   AB..         MOV     R3,?V0 + 1
   \   0001BE   12....       LCALL   ??MQTT_DumpLength?relay
   \   0001C1   8A..         MOV     ?V0 + 0,R2
   \   0001C3   8B..         MOV     ?V0 + 1,R3
   \   0001C5   8C..         MOV     ?V0 + 2,R4
   \   0001C7   8D..         MOV     ?V0 + 3,R5
   \   0001C9   85....       MOV     ?V0 + 14,?V0 + 0
   \   0001CC   85....       MOV     ?V0 + 15,?V0 + 1
    582          	if(len < 0)
   \   0001CF   C3           CLR     C
   \   0001D0   E5..         MOV     A,?V0 + 14
   \   0001D2   9400         SUBB    A,#0x0
   \   0001D4   E5..         MOV     A,?V0 + 15
   \   0001D6   9400         SUBB    A,#0x0
   \   0001D8   A2D2         MOV     C,0xD0 /* PSW */.2
   \   0001DA   65D0         XRL     A,PSW
   \   0001DC   33           RLC     A
   \   0001DD   500C         JNC     ??MQTT_PacketSubscribe_5
    583          	{
    584          		MQTT_DeleteBuffer(mqttPacket);
   \   0001DF                ; Setup parameters for call to function MQTT_DeleteBuffer
   \   0001DF   EE           MOV     A,R6
   \   0001E0   FA           MOV     R2,A
   \   0001E1   EF           MOV     A,R7
   \   0001E2   FB           MOV     R3,A
   \   0001E3   12....       LCALL   ??MQTT_DeleteBuffer?relay
    585          		return 4;
   \   0001E6   7904         MOV     R1,#0x4
   \   0001E8   02....       LJMP    ??MQTT_PacketSubscribe_1 & 0xFFFF
    586          	}
    587          	else
    588          		mqttPacket->_len += len;
   \                     ??MQTT_PacketSubscribe_5:
   \   0001EB   85....       MOV     ?V0 + 0,?V0 + 14
   \   0001EE   E5..         MOV     A,?V0 + 15
   \   0001F0   F5..         MOV     ?V0 + 1,A
   \   0001F2   33           RLC     A
   \   0001F3   95E0         SUBB    A,0xE0 /* A   */
   \   0001F5   F5..         MOV     ?V0 + 2,A
   \   0001F7   F5..         MOV     ?V0 + 3,A
   \   0001F9   8E82         MOV     DPL,R6
   \   0001FB   8F83         MOV     DPH,R7
   \   0001FD   A3           INC     DPTR
   \   0001FE   A3           INC     DPTR
   \   0001FF   78..         MOV     R0,#?V0 + 0
   \   000201   12....       LCALL   ?L_ADD_TO_X
    589          	
    590          /*************************************payload***********************************************/
    591          	
    592          	//payload----------------------pkt_id---------------------------------------------------
    593          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(pkt_id);
   \   000204   7403         MOV     A,#0x3
   \   000206   12....       LCALL   ?XSTACK_DISP0_8
   \   000209   E0           MOVX    A,@DPTR
   \   00020A   F8           MOV     R0,A
   \   00020B   A3           INC     DPTR
   \   00020C   E0           MOVX    A,@DPTR
   \   00020D   F9           MOV     R1,A
   \   00020E   E4           CLR     A
   \   00020F   E9           MOV     A,R1
   \   000210   F8           MOV     R0,A
   \   000211   C0E0         PUSH    A
   \   000213   8E82         MOV     DPL,R6
   \   000215   8F83         MOV     DPH,R7
   \   000217   A3           INC     DPTR
   \   000218   A3           INC     DPTR
   \   000219   78..         MOV     R0,#?V0 + 0
   \   00021B   12....       LCALL   ?L_MOV_X
   \   00021E   8E82         MOV     DPL,R6
   \   000220   8F83         MOV     DPH,R7
   \   000222   E0           MOVX    A,@DPTR
   \   000223   25..         ADD     A,?V0 + 0
   \   000225   F8           MOV     R0,A
   \   000226   A3           INC     DPTR
   \   000227   E0           MOVX    A,@DPTR
   \   000228   35..         ADDC    A,?V0 + 1
   \   00022A   8882         MOV     DPL,R0
   \   00022C   F583         MOV     DPH,A
   \   00022E   D0E0         POP     A
   \   000230   F0           MOVX    @DPTR,A
   \   000231   90....       MOV     DPTR,#__Constant_1
   \   000234   78..         MOV     R0,#?V0 + 0
   \   000236   12....       LCALL   ?L_MOV_X
   \   000239   8E82         MOV     DPL,R6
   \   00023B   8F83         MOV     DPH,R7
   \   00023D   A3           INC     DPTR
   \   00023E   A3           INC     DPTR
   \   00023F   78..         MOV     R0,#?V0 + 0
   \   000241   12....       LCALL   ?L_ADD_TO_X
    594          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(pkt_id);
   \   000244   7403         MOV     A,#0x3
   \   000246   12....       LCALL   ?XSTACK_DISP0_8
   \   000249   E0           MOVX    A,@DPTR
   \   00024A   F8           MOV     R0,A
   \   00024B   A3           INC     DPTR
   \   00024C   E0           MOVX    A,@DPTR
   \   00024D   F9           MOV     R1,A
   \   00024E   E8           MOV     A,R0
   \   00024F   C0E0         PUSH    A
   \   000251   8E82         MOV     DPL,R6
   \   000253   8F83         MOV     DPH,R7
   \   000255   A3           INC     DPTR
   \   000256   A3           INC     DPTR
   \   000257   78..         MOV     R0,#?V0 + 0
   \   000259   12....       LCALL   ?L_MOV_X
   \   00025C   8E82         MOV     DPL,R6
   \   00025E   8F83         MOV     DPH,R7
   \   000260   E0           MOVX    A,@DPTR
   \   000261   25..         ADD     A,?V0 + 0
   \   000263   F8           MOV     R0,A
   \   000264   A3           INC     DPTR
   \   000265   E0           MOVX    A,@DPTR
   \   000266   35..         ADDC    A,?V0 + 1
   \   000268   8882         MOV     DPL,R0
   \   00026A   F583         MOV     DPH,A
   \   00026C   D0E0         POP     A
   \   00026E   F0           MOVX    @DPTR,A
   \   00026F   90....       MOV     DPTR,#__Constant_1
   \   000272   78..         MOV     R0,#?V0 + 0
   \   000274   12....       LCALL   ?L_MOV_X
   \   000277   8E82         MOV     DPL,R6
   \   000279   8F83         MOV     DPH,R7
   \   00027B   A3           INC     DPTR
   \   00027C   A3           INC     DPTR
   \   00027D   78..         MOV     R0,#?V0 + 0
   \   00027F   12....       LCALL   ?L_ADD_TO_X
    595          	
    596          	//payload----------------------topic_name-----------------------------------------------
    597          	for(i = 0; i < topics_cnt; i++)
   \   000282   75..00       MOV     ?V0 + 12,#0x0
   \                     ??MQTT_PacketSubscribe_6:
   \   000285   E5..         MOV     A,?V0 + 12
   \   000287   C3           CLR     C
   \   000288   95..         SUBB    A,?V0 + 13
   \   00028A   4003         JC      $+5
   \   00028C   02....       LJMP    ??MQTT_PacketSubscribe_7 & 0xFFFF
    598          	{
    599          		topic_len = strlen(topics[i]);
                 		                   ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   00028F                ; Setup parameters for call to function strlen
   \   00028F   E5..         MOV     A,?V0 + 12
   \   000291   A8..         MOV     R0,?V0 + 12
   \   000293   7900         MOV     R1,#0x0
   \   000295   E8           MOV     A,R0
   \   000296   75F002       MOV     B,#0x2
   \   000299   A4           MUL     AB
   \   00029A   C8           XCH     A,R0
   \   00029B   AAF0         MOV     R2,B
   \   00029D   75F000       MOV     B,#0x0
   \   0002A0   A4           MUL     AB
   \   0002A1   2A           ADD     A,R2
   \   0002A2   FA           MOV     R2,A
   \   0002A3   75F002       MOV     B,#0x2
   \   0002A6   E9           MOV     A,R1
   \   0002A7   A4           MUL     AB
   \   0002A8   2A           ADD     A,R2
   \   0002A9   F9           MOV     R1,A
   \   0002AA   85..82       MOV     DPL,?XSP + 0
   \   0002AD   85..83       MOV     DPH,?XSP + 1
   \   0002B0   E0           MOVX    A,@DPTR
   \   0002B1   28           ADD     A,R0
   \   0002B2   FA           MOV     R2,A
   \   0002B3   A3           INC     DPTR
   \   0002B4   E0           MOVX    A,@DPTR
   \   0002B5   39           ADDC    A,R1
   \   0002B6   8A82         MOV     DPL,R2
   \   0002B8   F583         MOV     DPH,A
   \   0002BA   E0           MOVX    A,@DPTR
   \   0002BB   FA           MOV     R2,A
   \   0002BC   A3           INC     DPTR
   \   0002BD   E0           MOVX    A,@DPTR
   \   0002BE   FB           MOV     R3,A
   \   0002BF   12....       LCALL   ??strlen?relay
   \   0002C2   E4           CLR     A
   \   0002C3   FC           MOV     R4,A
   \   0002C4   FD           MOV     R5,A
   \   0002C5   8A..         MOV     ?V0 + 4,R2
   \   0002C7   8B..         MOV     ?V0 + 5,R3
   \   0002C9   8C..         MOV     ?V0 + 6,R4
   \   0002CB   8D..         MOV     ?V0 + 7,R5
    600          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(topic_len);
   \   0002CD   A8..         MOV     R0,?V0 + 4
   \   0002CF   A9..         MOV     R1,?V0 + 5
   \   0002D1   E4           CLR     A
   \   0002D2   E5..         MOV     A,?V0 + 5
   \   0002D4   A8..         MOV     R0,?V0 + 5
   \   0002D6   E5..         MOV     A,?V0 + 5
   \   0002D8   8E82         MOV     DPL,R6
   \   0002DA   8F83         MOV     DPH,R7
   \   0002DC   A3           INC     DPTR
   \   0002DD   A3           INC     DPTR
   \   0002DE   78..         MOV     R0,#?V0 + 0
   \   0002E0   12....       LCALL   ?L_MOV_X
   \   0002E3   8E82         MOV     DPL,R6
   \   0002E5   8F83         MOV     DPH,R7
   \   0002E7   E0           MOVX    A,@DPTR
   \   0002E8   25..         ADD     A,?V0 + 0
   \   0002EA   F8           MOV     R0,A
   \   0002EB   A3           INC     DPTR
   \   0002EC   E0           MOVX    A,@DPTR
   \   0002ED   35..         ADDC    A,?V0 + 1
   \   0002EF   8882         MOV     DPL,R0
   \   0002F1   F583         MOV     DPH,A
   \   0002F3   E5..         MOV     A,?V0 + 5
   \   0002F5   F0           MOVX    @DPTR,A
   \   0002F6   90....       MOV     DPTR,#__Constant_1
   \   0002F9   78..         MOV     R0,#?V0 + 0
   \   0002FB   12....       LCALL   ?L_MOV_X
   \   0002FE   8E82         MOV     DPL,R6
   \   000300   8F83         MOV     DPH,R7
   \   000302   A3           INC     DPTR
   \   000303   A3           INC     DPTR
   \   000304   78..         MOV     R0,#?V0 + 0
   \   000306   12....       LCALL   ?L_ADD_TO_X
    601          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(topic_len);
   \   000309   A8..         MOV     R0,?V0 + 4
   \   00030B   A9..         MOV     R1,?V0 + 5
   \   00030D   E5..         MOV     A,?V0 + 4
   \   00030F   8E82         MOV     DPL,R6
   \   000311   8F83         MOV     DPH,R7
   \   000313   A3           INC     DPTR
   \   000314   A3           INC     DPTR
   \   000315   78..         MOV     R0,#?V0 + 0
   \   000317   12....       LCALL   ?L_MOV_X
   \   00031A   8E82         MOV     DPL,R6
   \   00031C   8F83         MOV     DPH,R7
   \   00031E   E0           MOVX    A,@DPTR
   \   00031F   25..         ADD     A,?V0 + 0
   \   000321   F8           MOV     R0,A
   \   000322   A3           INC     DPTR
   \   000323   E0           MOVX    A,@DPTR
   \   000324   35..         ADDC    A,?V0 + 1
   \   000326   8882         MOV     DPL,R0
   \   000328   F583         MOV     DPH,A
   \   00032A   E5..         MOV     A,?V0 + 4
   \   00032C   F0           MOVX    @DPTR,A
   \   00032D   90....       MOV     DPTR,#__Constant_1
   \   000330   78..         MOV     R0,#?V0 + 0
   \   000332   12....       LCALL   ?L_MOV_X
   \   000335   8E82         MOV     DPL,R6
   \   000337   8F83         MOV     DPH,R7
   \   000339   A3           INC     DPTR
   \   00033A   A3           INC     DPTR
   \   00033B   78..         MOV     R0,#?V0 + 0
   \   00033D   12....       LCALL   ?L_ADD_TO_X
    602          		
    603          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, topics[i], topic_len);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, topics[i], topic_len);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",603  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   000340                ; Setup parameters for call to function strncat
   \   000340   85....       MOV     ?V0 + 0,?V0 + 4
   \   000343   85....       MOV     ?V0 + 1,?V0 + 5
   \   000346   78..         MOV     R0,#?V0 + 0
   \   000348   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00034B   E5..         MOV     A,?V0 + 12
   \   00034D   A8..         MOV     R0,?V0 + 12
   \   00034F   7900         MOV     R1,#0x0
   \   000351   E8           MOV     A,R0
   \   000352   75F002       MOV     B,#0x2
   \   000355   A4           MUL     AB
   \   000356   C8           XCH     A,R0
   \   000357   AAF0         MOV     R2,B
   \   000359   75F000       MOV     B,#0x0
   \   00035C   A4           MUL     AB
   \   00035D   2A           ADD     A,R2
   \   00035E   FA           MOV     R2,A
   \   00035F   75F002       MOV     B,#0x2
   \   000362   E9           MOV     A,R1
   \   000363   A4           MUL     AB
   \   000364   2A           ADD     A,R2
   \   000365   F9           MOV     R1,A
   \   000366   7402         MOV     A,#0x2
   \   000368   12....       LCALL   ?XSTACK_DISP0_8
   \   00036B   E0           MOVX    A,@DPTR
   \   00036C   28           ADD     A,R0
   \   00036D   FA           MOV     R2,A
   \   00036E   A3           INC     DPTR
   \   00036F   E0           MOVX    A,@DPTR
   \   000370   39           ADDC    A,R1
   \   000371   8A82         MOV     DPL,R2
   \   000373   F583         MOV     DPH,A
   \   000375   E0           MOVX    A,@DPTR
   \   000376   FC           MOV     R4,A
   \   000377   A3           INC     DPTR
   \   000378   E0           MOVX    A,@DPTR
   \   000379   FD           MOV     R5,A
   \   00037A   8E82         MOV     DPL,R6
   \   00037C   8F83         MOV     DPH,R7
   \   00037E   A3           INC     DPTR
   \   00037F   A3           INC     DPTR
   \   000380   78..         MOV     R0,#?V0 + 0
   \   000382   12....       LCALL   ?L_MOV_X
   \   000385   8E82         MOV     DPL,R6
   \   000387   8F83         MOV     DPH,R7
   \   000389   E0           MOVX    A,@DPTR
   \   00038A   25..         ADD     A,?V0 + 0
   \   00038C   FA           MOV     R2,A
   \   00038D   A3           INC     DPTR
   \   00038E   E0           MOVX    A,@DPTR
   \   00038F   35..         ADDC    A,?V0 + 1
   \   000391   FB           MOV     R3,A
   \   000392   12....       LCALL   ??strncat?relay
   \   000395   7402         MOV     A,#0x2
   \   000397   12....       LCALL   ?DEALLOC_XSTACK8
    604          		mqttPacket->_len += topic_len;
   \   00039A   8E82         MOV     DPL,R6
   \   00039C   8F83         MOV     DPH,R7
   \   00039E   A3           INC     DPTR
   \   00039F   A3           INC     DPTR
   \   0003A0   78..         MOV     R0,#?V0 + 4
   \   0003A2   12....       LCALL   ?L_ADD_TO_X
    605          		
    606          		mqttPacket->_data[mqttPacket->_len++] = qos & 0xFF;
   \   0003A5   7402         MOV     A,#0x2
   \   0003A7   12....       LCALL   ?XSTACK_DISP0_8
   \   0003AA   E0           MOVX    A,@DPTR
   \   0003AB   C0E0         PUSH    A
   \   0003AD   8E82         MOV     DPL,R6
   \   0003AF   8F83         MOV     DPH,R7
   \   0003B1   A3           INC     DPTR
   \   0003B2   A3           INC     DPTR
   \   0003B3   78..         MOV     R0,#?V0 + 0
   \   0003B5   12....       LCALL   ?L_MOV_X
   \   0003B8   8E82         MOV     DPL,R6
   \   0003BA   8F83         MOV     DPH,R7
   \   0003BC   E0           MOVX    A,@DPTR
   \   0003BD   25..         ADD     A,?V0 + 0
   \   0003BF   F8           MOV     R0,A
   \   0003C0   A3           INC     DPTR
   \   0003C1   E0           MOVX    A,@DPTR
   \   0003C2   35..         ADDC    A,?V0 + 1
   \   0003C4   8882         MOV     DPL,R0
   \   0003C6   F583         MOV     DPH,A
   \   0003C8   D0E0         POP     A
   \   0003CA   F0           MOVX    @DPTR,A
   \   0003CB   90....       MOV     DPTR,#__Constant_1
   \   0003CE   78..         MOV     R0,#?V0 + 0
   \   0003D0   12....       LCALL   ?L_MOV_X
   \   0003D3   8E82         MOV     DPL,R6
   \   0003D5   8F83         MOV     DPH,R7
   \   0003D7   A3           INC     DPTR
   \   0003D8   A3           INC     DPTR
   \   0003D9   78..         MOV     R0,#?V0 + 0
   \   0003DB   12....       LCALL   ?L_ADD_TO_X
    607          	}
   \   0003DE   05..         INC     ?V0 + 12
   \   0003E0   02....       LJMP    ??MQTT_PacketSubscribe_6 & 0xFFFF
    608          
    609          	return 0;
   \                     ??MQTT_PacketSubscribe_7:
   \   0003E3   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketSubscribe_1:
   \   0003E5   7405         MOV     A,#0x5
   \   0003E7   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003EA   7F10         MOV     R7,#0x10
   \   0003EC   02....       LJMP    ?BANKED_LEAVE_XDATA
    610          
    611          }
    612          
    613          //==========================================================
    614          //	函数名称：	MQTT_UnPacketSubscrebe
    615          //
    616          //	函数功能：	Subscribe的回复消息解包
    617          //
    618          //	入口参数：	rev_data：接收到的信息
    619          //
    620          //	返回参数：	0-成功		其他-失败
    621          //
    622          //	说明：		
    623          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    624          uint8 MQTT_UnPacketSubscribe(uint8 *rev_data)
   \                     MQTT_UnPacketSubscribe:
    625          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    626          	
    627          	uint8 result = 255;
   \   000004   79FF         MOV     R1,#-0x1
    628          
    629          	if(rev_data[2] == MOSQ_MSB(MQTT_SUBSCRIBE_ID) && rev_data[3] == MOSQ_LSB(MQTT_SUBSCRIBE_ID))
   \   000006   8A82         MOV     DPL,R2
   \   000008   8B83         MOV     DPH,R3
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   702D         JNZ     ??MQTT_UnPacketSubscribe_0
   \   00000F   8A82         MOV     DPL,R2
   \   000011   8B83         MOV     DPH,R3
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   6414         XRL     A,#0x14
   \   000019   7021         JNZ     ??MQTT_UnPacketSubscribe_0
    630          	{
    631          		switch(rev_data[4])
   \   00001B   8A82         MOV     DPL,R2
   \   00001D   8B83         MOV     DPH,R3
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   A3           INC     DPTR
   \   000023   E0           MOVX    A,@DPTR
   \   000024   600C         JZ      ??MQTT_UnPacketSubscribe_1
   \   000026   14           DEC     A
   \   000027   6009         JZ      ??MQTT_UnPacketSubscribe_1
   \   000029   14           DEC     A
   \   00002A   6006         JZ      ??MQTT_UnPacketSubscribe_1
   \   00002C   2482         ADD     A,#-0x7e
   \   00002E   6006         JZ      ??MQTT_UnPacketSubscribe_2
   \   000030   8008         SJMP    ??MQTT_UnPacketSubscribe_3
    632          		{
    633          			case 0x00:
    634          			case 0x01:
    635          			case 0x02:
    636          				//MQTT Subscribe OK
    637          				result = 0;
   \                     ??MQTT_UnPacketSubscribe_1:
   \   000032   7900         MOV     R1,#0x0
    638          			break;
   \   000034   8006         SJMP    ??MQTT_UnPacketSubscribe_0
    639          			
    640          			case 0x80:
    641          				//MQTT Subscribe Failed
    642          				result = 1;
   \                     ??MQTT_UnPacketSubscribe_2:
   \   000036   7901         MOV     R1,#0x1
    643          			break;
   \   000038   8002         SJMP    ??MQTT_UnPacketSubscribe_0
    644          			
    645          			default:
    646          				//MQTT Subscribe UnKnown Err
    647          				result = 2;
   \                     ??MQTT_UnPacketSubscribe_3:
   \   00003A   7902         MOV     R1,#0x2
    648          			break;
    649          		}
    650          	}
    651          	
    652          	return result;
   \                     ??MQTT_UnPacketSubscribe_0:
   \   00003C   D083         POP     DPH
   \   00003E   D082         POP     DPL
   \   000040   02....       LJMP    ?BRET
    653          
    654          }
    655          
    656          //==========================================================
    657          //	函数名称：	MQTT_PacketUnSubscribe
    658          //
    659          //	函数功能：	UnSubscribe消息组包
    660          //
    661          //	入口参数：	pkt_id：pkt_id
    662          //				qos：消息重发次数
    663          //				topics：订阅的消息
    664          //				topics_cnt：订阅的消息个数
    665          //				mqttPacket：包指针
    666          //
    667          //	返回参数：	0-成功		其他-失败
    668          //
    669          //	说明：		
    670          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    671          uint8 MQTT_PacketUnSubscribe(uint16 pkt_id, const int8 *topics[], uint8 topics_cnt, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketUnSubscribe:
    672          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7402         MOV     A,#0x2
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EA           MOV     A,R2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   EB           MOV     A,R3
   \   000013   F0           MOVX    @DPTR,A
   \   000014   85..82       MOV     DPL,?XSP + 0
   \   000017   85..83       MOV     DPH,?XSP + 1
   \   00001A   EC           MOV     A,R4
   \   00001B   F0           MOVX    @DPTR,A
   \   00001C   A3           INC     DPTR
   \   00001D   ED           MOV     A,R5
   \   00001E   F0           MOVX    @DPTR,A
   \   00001F   89..         MOV     ?V0 + 13,R1
   \   000021   741C         MOV     A,#0x1c
   \   000023   12....       LCALL   ?XSTACK_DISP0_8
   \   000026   E0           MOVX    A,@DPTR
   \   000027   FE           MOV     R6,A
   \   000028   A3           INC     DPTR
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   FF           MOV     R7,A
    673          	
    674          	uint32 topic_len = 0, remain_len = 0;
   \   00002B   90....       MOV     DPTR,#__Constant_0
   \   00002E   78..         MOV     R0,#?V0 + 4
   \   000030   12....       LCALL   ?L_MOV_X
   \   000033   90....       MOV     DPTR,#__Constant_0
   \   000036   78..         MOV     R0,#?V0 + 8
   \   000038   12....       LCALL   ?L_MOV_X
    675          	int16 len = 0;
   \   00003B   75..00       MOV     ?V0 + 14,#0x0
   \   00003E   75..00       MOV     ?V0 + 15,#0x0
    676          	uint8 i = 0;
   \   000041   75..00       MOV     ?V0 + 12,#0x0
    677          	
    678          	if(pkt_id == 0)
   \   000044   7402         MOV     A,#0x2
   \   000046   12....       LCALL   ?XSTACK_DISP0_8
   \   000049   E0           MOVX    A,@DPTR
   \   00004A   F8           MOV     R0,A
   \   00004B   A3           INC     DPTR
   \   00004C   E0           MOVX    A,@DPTR
   \   00004D   F9           MOV     R1,A
   \   00004E   E8           MOV     A,R0
   \   00004F   49           ORL     A,R1
   \   000050   7005         JNZ     ??MQTT_PacketUnSubscribe_0
    679          		return 1;
   \   000052   7901         MOV     R1,#0x1
   \   000054   02....       LJMP    ??MQTT_PacketUnSubscribe_1 & 0xFFFF
    680          	
    681          	//计算topic长度-------------------------------------------------------------------------
    682          	for(; i < topics_cnt; i++)
   \                     ??MQTT_PacketUnSubscribe_0:
   \   000057   E5..         MOV     A,?V0 + 12
   \   000059   C3           CLR     C
   \   00005A   95..         SUBB    A,?V0 + 13
   \   00005C   4003         JC      $+5
   \   00005E   02....       LJMP    ??MQTT_PacketUnSubscribe_2 & 0xFFFF
    683          	{
    684          		if(topics[i] == NULL)
   \   000061   E5..         MOV     A,?V0 + 12
   \   000063   A8..         MOV     R0,?V0 + 12
   \   000065   7900         MOV     R1,#0x0
   \   000067   E8           MOV     A,R0
   \   000068   75F002       MOV     B,#0x2
   \   00006B   A4           MUL     AB
   \   00006C   C8           XCH     A,R0
   \   00006D   AAF0         MOV     R2,B
   \   00006F   75F000       MOV     B,#0x0
   \   000072   A4           MUL     AB
   \   000073   2A           ADD     A,R2
   \   000074   FA           MOV     R2,A
   \   000075   75F002       MOV     B,#0x2
   \   000078   E9           MOV     A,R1
   \   000079   A4           MUL     AB
   \   00007A   2A           ADD     A,R2
   \   00007B   F9           MOV     R1,A
   \   00007C   85..82       MOV     DPL,?XSP + 0
   \   00007F   85..83       MOV     DPH,?XSP + 1
   \   000082   E0           MOVX    A,@DPTR
   \   000083   28           ADD     A,R0
   \   000084   FA           MOV     R2,A
   \   000085   A3           INC     DPTR
   \   000086   E0           MOVX    A,@DPTR
   \   000087   39           ADDC    A,R1
   \   000088   8A82         MOV     DPL,R2
   \   00008A   F583         MOV     DPH,A
   \   00008C   E0           MOVX    A,@DPTR
   \   00008D   F8           MOV     R0,A
   \   00008E   A3           INC     DPTR
   \   00008F   E0           MOVX    A,@DPTR
   \   000090   F9           MOV     R1,A
   \   000091   E8           MOV     A,R0
   \   000092   49           ORL     A,R1
   \   000093   7005         JNZ     ??MQTT_PacketUnSubscribe_3
    685          			return 2;
   \   000095   7902         MOV     R1,#0x2
   \   000097   02....       LJMP    ??MQTT_PacketUnSubscribe_1 & 0xFFFF
    686          		
    687          		topic_len += strlen(topics[i]);
                 		                    ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \                     ??MQTT_PacketUnSubscribe_3:
   \   00009A                ; Setup parameters for call to function strlen
   \   00009A   E5..         MOV     A,?V0 + 12
   \   00009C   A8..         MOV     R0,?V0 + 12
   \   00009E   7900         MOV     R1,#0x0
   \   0000A0   E8           MOV     A,R0
   \   0000A1   75F002       MOV     B,#0x2
   \   0000A4   A4           MUL     AB
   \   0000A5   C8           XCH     A,R0
   \   0000A6   AAF0         MOV     R2,B
   \   0000A8   75F000       MOV     B,#0x0
   \   0000AB   A4           MUL     AB
   \   0000AC   2A           ADD     A,R2
   \   0000AD   FA           MOV     R2,A
   \   0000AE   75F002       MOV     B,#0x2
   \   0000B1   E9           MOV     A,R1
   \   0000B2   A4           MUL     AB
   \   0000B3   2A           ADD     A,R2
   \   0000B4   F9           MOV     R1,A
   \   0000B5   85..82       MOV     DPL,?XSP + 0
   \   0000B8   85..83       MOV     DPH,?XSP + 1
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   28           ADD     A,R0
   \   0000BD   FA           MOV     R2,A
   \   0000BE   A3           INC     DPTR
   \   0000BF   E0           MOVX    A,@DPTR
   \   0000C0   39           ADDC    A,R1
   \   0000C1   8A82         MOV     DPL,R2
   \   0000C3   F583         MOV     DPH,A
   \   0000C5   E0           MOVX    A,@DPTR
   \   0000C6   FA           MOV     R2,A
   \   0000C7   A3           INC     DPTR
   \   0000C8   E0           MOVX    A,@DPTR
   \   0000C9   FB           MOV     R3,A
   \   0000CA   12....       LCALL   ??strlen?relay
   \   0000CD   8A..         MOV     ?V0 + 0,R2
   \   0000CF   8B..         MOV     ?V0 + 1,R3
   \   0000D1   E4           CLR     A
   \   0000D2   F5..         MOV     ?V0 + 2,A
   \   0000D4   F5..         MOV     ?V0 + 3,A
   \   0000D6   78..         MOV     R0,#?V0 + 4
   \   0000D8   79..         MOV     R1,#?V0 + 0
   \   0000DA   12....       LCALL   ?L_ADD
    688          	}
   \   0000DD   05..         INC     ?V0 + 12
   \   0000DF   02....       LJMP    ??MQTT_PacketUnSubscribe_0 & 0xFFFF
    689          	
    690          	//2 bytes packet id, 2 bytes topic length + topic + 1 byte reserve---------------------
    691          	remain_len = 2 + (topics_cnt << 1) + topic_len;
   \                     ??MQTT_PacketUnSubscribe_2:
   \   0000E2   E5..         MOV     A,?V0 + 13
   \   0000E4   A8..         MOV     R0,?V0 + 13
   \   0000E6   7900         MOV     R1,#0x0
   \   0000E8   E5..         MOV     A,?V0 + 13
   \   0000EA   C3           CLR     C
   \   0000EB   33           RLC     A
   \   0000EC   F8           MOV     R0,A
   \   0000ED   E9           MOV     A,R1
   \   0000EE   33           RLC     A
   \   0000EF   F9           MOV     R1,A
   \   0000F0   E8           MOV     A,R0
   \   0000F1   2402         ADD     A,#0x2
   \   0000F3   F5..         MOV     ?V0 + 0,A
   \   0000F5   E9           MOV     A,R1
   \   0000F6   3400         ADDC    A,#0x0
   \   0000F8   F5..         MOV     ?V0 + 1,A
   \   0000FA   E5..         MOV     A,?V0 + 1
   \   0000FC   33           RLC     A
   \   0000FD   95E0         SUBB    A,0xE0 /* A   */
   \   0000FF   F5..         MOV     ?V0 + 2,A
   \   000101   F5..         MOV     ?V0 + 3,A
   \   000103   78..         MOV     R0,#?V0 + 0
   \   000105   79..         MOV     R1,#?V0 + 4
   \   000107   12....       LCALL   ?L_ADD
   \   00010A   85....       MOV     ?V0 + 8,?V0 + 0
   \   00010D   85....       MOV     ?V0 + 9,?V0 + 1
   \   000110   85....       MOV     ?V0 + 10,?V0 + 2
   \   000113   85....       MOV     ?V0 + 11,?V0 + 3
    692          	
    693          	//分配内存------------------------------------------------------------------------------
    694          	MQTT_NewBuffer(mqttPacket, remain_len + 5);
   \   000116                ; Setup parameters for call to function MQTT_NewBuffer
   \   000116   85....       MOV     ?V0 + 0,?V0 + 8
   \   000119   85....       MOV     ?V0 + 1,?V0 + 9
   \   00011C   85....       MOV     ?V0 + 2,?V0 + 10
   \   00011F   85....       MOV     ?V0 + 3,?V0 + 11
   \   000122   90....       MOV     DPTR,#__Constant_5
   \   000125   78..         MOV     R0,#?V0 + 0
   \   000127   12....       LCALL   ?L_ADD_X
   \   00012A   78..         MOV     R0,#?V0 + 0
   \   00012C   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   00012F   EE           MOV     A,R6
   \   000130   FA           MOV     R2,A
   \   000131   EF           MOV     A,R7
   \   000132   FB           MOV     R3,A
   \   000133   12....       LCALL   ??MQTT_NewBuffer?relay
   \   000136   7404         MOV     A,#0x4
   \   000138   12....       LCALL   ?DEALLOC_XSTACK8
    695          	if(mqttPacket->_data == NULL)
   \   00013B   8E82         MOV     DPL,R6
   \   00013D   8F83         MOV     DPH,R7
   \   00013F   E0           MOVX    A,@DPTR
   \   000140   F8           MOV     R0,A
   \   000141   A3           INC     DPTR
   \   000142   E0           MOVX    A,@DPTR
   \   000143   F9           MOV     R1,A
   \   000144   E8           MOV     A,R0
   \   000145   49           ORL     A,R1
   \   000146   7005         JNZ     ??MQTT_PacketUnSubscribe_4
    696          		return 3;
   \   000148   7903         MOV     R1,#0x3
   \   00014A   02....       LJMP    ??MQTT_PacketUnSubscribe_1 & 0xFFFF
    697          	
    698          /*************************************固定头部***********************************************/
    699          	
    700          	//固定头部----------------------头部消息-------------------------------------------------
    701          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_UNSUBSCRIBE << 4 | 0x02;
   \                     ??MQTT_PacketUnSubscribe_4:
   \   00014D   8E82         MOV     DPL,R6
   \   00014F   8F83         MOV     DPH,R7
   \   000151   A3           INC     DPTR
   \   000152   A3           INC     DPTR
   \   000153   78..         MOV     R0,#?V0 + 0
   \   000155   12....       LCALL   ?L_MOV_X
   \   000158   8E82         MOV     DPL,R6
   \   00015A   8F83         MOV     DPH,R7
   \   00015C   E0           MOVX    A,@DPTR
   \   00015D   25..         ADD     A,?V0 + 0
   \   00015F   F8           MOV     R0,A
   \   000160   A3           INC     DPTR
   \   000161   E0           MOVX    A,@DPTR
   \   000162   35..         ADDC    A,?V0 + 1
   \   000164   8882         MOV     DPL,R0
   \   000166   F583         MOV     DPH,A
   \   000168   74A2         MOV     A,#-0x5e
   \   00016A   F0           MOVX    @DPTR,A
   \   00016B   90....       MOV     DPTR,#__Constant_1
   \   00016E   78..         MOV     R0,#?V0 + 0
   \   000170   12....       LCALL   ?L_MOV_X
   \   000173   8E82         MOV     DPL,R6
   \   000175   8F83         MOV     DPH,R7
   \   000177   A3           INC     DPTR
   \   000178   A3           INC     DPTR
   \   000179   78..         MOV     R0,#?V0 + 0
   \   00017B   12....       LCALL   ?L_ADD_TO_X
    702          	
    703          	//固定头部----------------------剩余长度值-----------------------------------------------
    704          	len = MQTT_DumpLength(remain_len, mqttPacket->_data + mqttPacket->_len);
   \   00017E                ; Setup parameters for call to function MQTT_DumpLength
   \   00017E   8E82         MOV     DPL,R6
   \   000180   8F83         MOV     DPH,R7
   \   000182   A3           INC     DPTR
   \   000183   A3           INC     DPTR
   \   000184   78..         MOV     R0,#?V0 + 0
   \   000186   12....       LCALL   ?L_MOV_X
   \   000189   8E82         MOV     DPL,R6
   \   00018B   8F83         MOV     DPH,R7
   \   00018D   E0           MOVX    A,@DPTR
   \   00018E   25..         ADD     A,?V0 + 0
   \   000190   FC           MOV     R4,A
   \   000191   A3           INC     DPTR
   \   000192   E0           MOVX    A,@DPTR
   \   000193   35..         ADDC    A,?V0 + 1
   \   000195   FD           MOV     R5,A
   \   000196   85....       MOV     ?V0 + 0,?V0 + 8
   \   000199   85....       MOV     ?V0 + 1,?V0 + 9
   \   00019C   AA..         MOV     R2,?V0 + 0
   \   00019E   AB..         MOV     R3,?V0 + 1
   \   0001A0   12....       LCALL   ??MQTT_DumpLength?relay
   \   0001A3   8A..         MOV     ?V0 + 0,R2
   \   0001A5   8B..         MOV     ?V0 + 1,R3
   \   0001A7   8C..         MOV     ?V0 + 2,R4
   \   0001A9   8D..         MOV     ?V0 + 3,R5
   \   0001AB   85....       MOV     ?V0 + 14,?V0 + 0
   \   0001AE   85....       MOV     ?V0 + 15,?V0 + 1
    705          	if(len < 0)
   \   0001B1   C3           CLR     C
   \   0001B2   E5..         MOV     A,?V0 + 14
   \   0001B4   9400         SUBB    A,#0x0
   \   0001B6   E5..         MOV     A,?V0 + 15
   \   0001B8   9400         SUBB    A,#0x0
   \   0001BA   A2D2         MOV     C,0xD0 /* PSW */.2
   \   0001BC   65D0         XRL     A,PSW
   \   0001BE   33           RLC     A
   \   0001BF   500C         JNC     ??MQTT_PacketUnSubscribe_5
    706          	{
    707          		MQTT_DeleteBuffer(mqttPacket);
   \   0001C1                ; Setup parameters for call to function MQTT_DeleteBuffer
   \   0001C1   EE           MOV     A,R6
   \   0001C2   FA           MOV     R2,A
   \   0001C3   EF           MOV     A,R7
   \   0001C4   FB           MOV     R3,A
   \   0001C5   12....       LCALL   ??MQTT_DeleteBuffer?relay
    708          		return 4;
   \   0001C8   7904         MOV     R1,#0x4
   \   0001CA   02....       LJMP    ??MQTT_PacketUnSubscribe_1 & 0xFFFF
    709          	}
    710          	else
    711          		mqttPacket->_len += len;
   \                     ??MQTT_PacketUnSubscribe_5:
   \   0001CD   85....       MOV     ?V0 + 0,?V0 + 14
   \   0001D0   E5..         MOV     A,?V0 + 15
   \   0001D2   F5..         MOV     ?V0 + 1,A
   \   0001D4   33           RLC     A
   \   0001D5   95E0         SUBB    A,0xE0 /* A   */
   \   0001D7   F5..         MOV     ?V0 + 2,A
   \   0001D9   F5..         MOV     ?V0 + 3,A
   \   0001DB   8E82         MOV     DPL,R6
   \   0001DD   8F83         MOV     DPH,R7
   \   0001DF   A3           INC     DPTR
   \   0001E0   A3           INC     DPTR
   \   0001E1   78..         MOV     R0,#?V0 + 0
   \   0001E3   12....       LCALL   ?L_ADD_TO_X
    712          	
    713          /*************************************payload***********************************************/
    714          	
    715          	//payload----------------------pkt_id---------------------------------------------------
    716          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(pkt_id);
   \   0001E6   7402         MOV     A,#0x2
   \   0001E8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001EB   E0           MOVX    A,@DPTR
   \   0001EC   F8           MOV     R0,A
   \   0001ED   A3           INC     DPTR
   \   0001EE   E0           MOVX    A,@DPTR
   \   0001EF   F9           MOV     R1,A
   \   0001F0   E4           CLR     A
   \   0001F1   E9           MOV     A,R1
   \   0001F2   F8           MOV     R0,A
   \   0001F3   C0E0         PUSH    A
   \   0001F5   8E82         MOV     DPL,R6
   \   0001F7   8F83         MOV     DPH,R7
   \   0001F9   A3           INC     DPTR
   \   0001FA   A3           INC     DPTR
   \   0001FB   78..         MOV     R0,#?V0 + 0
   \   0001FD   12....       LCALL   ?L_MOV_X
   \   000200   8E82         MOV     DPL,R6
   \   000202   8F83         MOV     DPH,R7
   \   000204   E0           MOVX    A,@DPTR
   \   000205   25..         ADD     A,?V0 + 0
   \   000207   F8           MOV     R0,A
   \   000208   A3           INC     DPTR
   \   000209   E0           MOVX    A,@DPTR
   \   00020A   35..         ADDC    A,?V0 + 1
   \   00020C   8882         MOV     DPL,R0
   \   00020E   F583         MOV     DPH,A
   \   000210   D0E0         POP     A
   \   000212   F0           MOVX    @DPTR,A
   \   000213   90....       MOV     DPTR,#__Constant_1
   \   000216   78..         MOV     R0,#?V0 + 0
   \   000218   12....       LCALL   ?L_MOV_X
   \   00021B   8E82         MOV     DPL,R6
   \   00021D   8F83         MOV     DPH,R7
   \   00021F   A3           INC     DPTR
   \   000220   A3           INC     DPTR
   \   000221   78..         MOV     R0,#?V0 + 0
   \   000223   12....       LCALL   ?L_ADD_TO_X
    717          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(pkt_id);
   \   000226   7402         MOV     A,#0x2
   \   000228   12....       LCALL   ?XSTACK_DISP0_8
   \   00022B   E0           MOVX    A,@DPTR
   \   00022C   F8           MOV     R0,A
   \   00022D   A3           INC     DPTR
   \   00022E   E0           MOVX    A,@DPTR
   \   00022F   F9           MOV     R1,A
   \   000230   E8           MOV     A,R0
   \   000231   C0E0         PUSH    A
   \   000233   8E82         MOV     DPL,R6
   \   000235   8F83         MOV     DPH,R7
   \   000237   A3           INC     DPTR
   \   000238   A3           INC     DPTR
   \   000239   78..         MOV     R0,#?V0 + 0
   \   00023B   12....       LCALL   ?L_MOV_X
   \   00023E   8E82         MOV     DPL,R6
   \   000240   8F83         MOV     DPH,R7
   \   000242   E0           MOVX    A,@DPTR
   \   000243   25..         ADD     A,?V0 + 0
   \   000245   F8           MOV     R0,A
   \   000246   A3           INC     DPTR
   \   000247   E0           MOVX    A,@DPTR
   \   000248   35..         ADDC    A,?V0 + 1
   \   00024A   8882         MOV     DPL,R0
   \   00024C   F583         MOV     DPH,A
   \   00024E   D0E0         POP     A
   \   000250   F0           MOVX    @DPTR,A
   \   000251   90....       MOV     DPTR,#__Constant_1
   \   000254   78..         MOV     R0,#?V0 + 0
   \   000256   12....       LCALL   ?L_MOV_X
   \   000259   8E82         MOV     DPL,R6
   \   00025B   8F83         MOV     DPH,R7
   \   00025D   A3           INC     DPTR
   \   00025E   A3           INC     DPTR
   \   00025F   78..         MOV     R0,#?V0 + 0
   \   000261   12....       LCALL   ?L_ADD_TO_X
    718          	
    719          	//payload----------------------topic_name-----------------------------------------------
    720          	for(i = 0; i < topics_cnt; i++)
   \   000264   75..00       MOV     ?V0 + 12,#0x0
   \                     ??MQTT_PacketUnSubscribe_6:
   \   000267   E5..         MOV     A,?V0 + 12
   \   000269   C3           CLR     C
   \   00026A   95..         SUBB    A,?V0 + 13
   \   00026C   4003         JC      $+5
   \   00026E   02....       LJMP    ??MQTT_PacketUnSubscribe_7 & 0xFFFF
    721          	{
    722          		topic_len = strlen(topics[i]);
                 		                   ^
Warning[Pe167]: argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   000271                ; Setup parameters for call to function strlen
   \   000271   E5..         MOV     A,?V0 + 12
   \   000273   A8..         MOV     R0,?V0 + 12
   \   000275   7900         MOV     R1,#0x0
   \   000277   E8           MOV     A,R0
   \   000278   75F002       MOV     B,#0x2
   \   00027B   A4           MUL     AB
   \   00027C   C8           XCH     A,R0
   \   00027D   AAF0         MOV     R2,B
   \   00027F   75F000       MOV     B,#0x0
   \   000282   A4           MUL     AB
   \   000283   2A           ADD     A,R2
   \   000284   FA           MOV     R2,A
   \   000285   75F002       MOV     B,#0x2
   \   000288   E9           MOV     A,R1
   \   000289   A4           MUL     AB
   \   00028A   2A           ADD     A,R2
   \   00028B   F9           MOV     R1,A
   \   00028C   85..82       MOV     DPL,?XSP + 0
   \   00028F   85..83       MOV     DPH,?XSP + 1
   \   000292   E0           MOVX    A,@DPTR
   \   000293   28           ADD     A,R0
   \   000294   FA           MOV     R2,A
   \   000295   A3           INC     DPTR
   \   000296   E0           MOVX    A,@DPTR
   \   000297   39           ADDC    A,R1
   \   000298   8A82         MOV     DPL,R2
   \   00029A   F583         MOV     DPH,A
   \   00029C   E0           MOVX    A,@DPTR
   \   00029D   FA           MOV     R2,A
   \   00029E   A3           INC     DPTR
   \   00029F   E0           MOVX    A,@DPTR
   \   0002A0   FB           MOV     R3,A
   \   0002A1   12....       LCALL   ??strlen?relay
   \   0002A4   E4           CLR     A
   \   0002A5   FC           MOV     R4,A
   \   0002A6   FD           MOV     R5,A
   \   0002A7   8A..         MOV     ?V0 + 4,R2
   \   0002A9   8B..         MOV     ?V0 + 5,R3
   \   0002AB   8C..         MOV     ?V0 + 6,R4
   \   0002AD   8D..         MOV     ?V0 + 7,R5
    723          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(topic_len);
   \   0002AF   A8..         MOV     R0,?V0 + 4
   \   0002B1   A9..         MOV     R1,?V0 + 5
   \   0002B3   E4           CLR     A
   \   0002B4   E5..         MOV     A,?V0 + 5
   \   0002B6   A8..         MOV     R0,?V0 + 5
   \   0002B8   E5..         MOV     A,?V0 + 5
   \   0002BA   8E82         MOV     DPL,R6
   \   0002BC   8F83         MOV     DPH,R7
   \   0002BE   A3           INC     DPTR
   \   0002BF   A3           INC     DPTR
   \   0002C0   78..         MOV     R0,#?V0 + 0
   \   0002C2   12....       LCALL   ?L_MOV_X
   \   0002C5   8E82         MOV     DPL,R6
   \   0002C7   8F83         MOV     DPH,R7
   \   0002C9   E0           MOVX    A,@DPTR
   \   0002CA   25..         ADD     A,?V0 + 0
   \   0002CC   F8           MOV     R0,A
   \   0002CD   A3           INC     DPTR
   \   0002CE   E0           MOVX    A,@DPTR
   \   0002CF   35..         ADDC    A,?V0 + 1
   \   0002D1   8882         MOV     DPL,R0
   \   0002D3   F583         MOV     DPH,A
   \   0002D5   E5..         MOV     A,?V0 + 5
   \   0002D7   F0           MOVX    @DPTR,A
   \   0002D8   90....       MOV     DPTR,#__Constant_1
   \   0002DB   78..         MOV     R0,#?V0 + 0
   \   0002DD   12....       LCALL   ?L_MOV_X
   \   0002E0   8E82         MOV     DPL,R6
   \   0002E2   8F83         MOV     DPH,R7
   \   0002E4   A3           INC     DPTR
   \   0002E5   A3           INC     DPTR
   \   0002E6   78..         MOV     R0,#?V0 + 0
   \   0002E8   12....       LCALL   ?L_ADD_TO_X
    724          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(topic_len);
   \   0002EB   A8..         MOV     R0,?V0 + 4
   \   0002ED   A9..         MOV     R1,?V0 + 5
   \   0002EF   E5..         MOV     A,?V0 + 4
   \   0002F1   8E82         MOV     DPL,R6
   \   0002F3   8F83         MOV     DPH,R7
   \   0002F5   A3           INC     DPTR
   \   0002F6   A3           INC     DPTR
   \   0002F7   78..         MOV     R0,#?V0 + 0
   \   0002F9   12....       LCALL   ?L_MOV_X
   \   0002FC   8E82         MOV     DPL,R6
   \   0002FE   8F83         MOV     DPH,R7
   \   000300   E0           MOVX    A,@DPTR
   \   000301   25..         ADD     A,?V0 + 0
   \   000303   F8           MOV     R0,A
   \   000304   A3           INC     DPTR
   \   000305   E0           MOVX    A,@DPTR
   \   000306   35..         ADDC    A,?V0 + 1
   \   000308   8882         MOV     DPL,R0
   \   00030A   F583         MOV     DPH,A
   \   00030C   E5..         MOV     A,?V0 + 4
   \   00030E   F0           MOVX    @DPTR,A
   \   00030F   90....       MOV     DPTR,#__Constant_1
   \   000312   78..         MOV     R0,#?V0 + 0
   \   000314   12....       LCALL   ?L_MOV_X
   \   000317   8E82         MOV     DPL,R6
   \   000319   8F83         MOV     DPH,R7
   \   00031B   A3           INC     DPTR
   \   00031C   A3           INC     DPTR
   \   00031D   78..         MOV     R0,#?V0 + 0
   \   00031F   12....       LCALL   ?L_ADD_TO_X
    725          		
    726          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, topics[i], topic_len);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, topics[i], topic_len);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",726  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   000322                ; Setup parameters for call to function strncat
   \   000322   85....       MOV     ?V0 + 0,?V0 + 4
   \   000325   85....       MOV     ?V0 + 1,?V0 + 5
   \   000328   78..         MOV     R0,#?V0 + 0
   \   00032A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00032D   E5..         MOV     A,?V0 + 12
   \   00032F   A8..         MOV     R0,?V0 + 12
   \   000331   7900         MOV     R1,#0x0
   \   000333   E8           MOV     A,R0
   \   000334   75F002       MOV     B,#0x2
   \   000337   A4           MUL     AB
   \   000338   C8           XCH     A,R0
   \   000339   AAF0         MOV     R2,B
   \   00033B   75F000       MOV     B,#0x0
   \   00033E   A4           MUL     AB
   \   00033F   2A           ADD     A,R2
   \   000340   FA           MOV     R2,A
   \   000341   75F002       MOV     B,#0x2
   \   000344   E9           MOV     A,R1
   \   000345   A4           MUL     AB
   \   000346   2A           ADD     A,R2
   \   000347   F9           MOV     R1,A
   \   000348   7402         MOV     A,#0x2
   \   00034A   12....       LCALL   ?XSTACK_DISP0_8
   \   00034D   E0           MOVX    A,@DPTR
   \   00034E   28           ADD     A,R0
   \   00034F   FA           MOV     R2,A
   \   000350   A3           INC     DPTR
   \   000351   E0           MOVX    A,@DPTR
   \   000352   39           ADDC    A,R1
   \   000353   8A82         MOV     DPL,R2
   \   000355   F583         MOV     DPH,A
   \   000357   E0           MOVX    A,@DPTR
   \   000358   FC           MOV     R4,A
   \   000359   A3           INC     DPTR
   \   00035A   E0           MOVX    A,@DPTR
   \   00035B   FD           MOV     R5,A
   \   00035C   8E82         MOV     DPL,R6
   \   00035E   8F83         MOV     DPH,R7
   \   000360   A3           INC     DPTR
   \   000361   A3           INC     DPTR
   \   000362   78..         MOV     R0,#?V0 + 0
   \   000364   12....       LCALL   ?L_MOV_X
   \   000367   8E82         MOV     DPL,R6
   \   000369   8F83         MOV     DPH,R7
   \   00036B   E0           MOVX    A,@DPTR
   \   00036C   25..         ADD     A,?V0 + 0
   \   00036E   FA           MOV     R2,A
   \   00036F   A3           INC     DPTR
   \   000370   E0           MOVX    A,@DPTR
   \   000371   35..         ADDC    A,?V0 + 1
   \   000373   FB           MOV     R3,A
   \   000374   12....       LCALL   ??strncat?relay
   \   000377   7402         MOV     A,#0x2
   \   000379   12....       LCALL   ?DEALLOC_XSTACK8
    727          		mqttPacket->_len += topic_len;
   \   00037C   8E82         MOV     DPL,R6
   \   00037E   8F83         MOV     DPH,R7
   \   000380   A3           INC     DPTR
   \   000381   A3           INC     DPTR
   \   000382   78..         MOV     R0,#?V0 + 4
   \   000384   12....       LCALL   ?L_ADD_TO_X
    728          	}
   \   000387   05..         INC     ?V0 + 12
   \   000389   02....       LJMP    ??MQTT_PacketUnSubscribe_6 & 0xFFFF
    729          
    730          	return 0;
   \                     ??MQTT_PacketUnSubscribe_7:
   \   00038C   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketUnSubscribe_1:
   \   00038E   7404         MOV     A,#0x4
   \   000390   12....       LCALL   ?DEALLOC_XSTACK8
   \   000393   7F10         MOV     R7,#0x10
   \   000395   02....       LJMP    ?BANKED_LEAVE_XDATA
    731          
    732          }
    733          
    734          //==========================================================
    735          //	函数名称：	MQTT_UnPacketUnSubscribe
    736          //
    737          //	函数功能：	UnSubscribe的回复消息解包
    738          //
    739          //	入口参数：	rev_data：接收到的信息
    740          //
    741          //	返回参数：	0-成功		其他-失败
    742          //
    743          //	说明：		
    744          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    745          uint1 MQTT_UnPacketUnSubscribe(uint8 *rev_data)
   \                     MQTT_UnPacketUnSubscribe:
    746          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    747          	
    748          	uint1 result = 1;
   \   000004   7901         MOV     R1,#0x1
    749          
    750          	if(rev_data[2] == MOSQ_MSB(MQTT_UNSUBSCRIBE_ID) && rev_data[3] == MOSQ_LSB(MQTT_UNSUBSCRIBE_ID))
   \   000006   8A82         MOV     DPL,R2
   \   000008   8B83         MOV     DPH,R3
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   700E         JNZ     ??MQTT_UnPacketUnSubscribe_0
   \   00000F   8A82         MOV     DPL,R2
   \   000011   8B83         MOV     DPH,R3
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   641E         XRL     A,#0x1e
   \   000019   7002         JNZ     ??MQTT_UnPacketUnSubscribe_0
    751          	{
    752          		result = 0;
   \   00001B   7900         MOV     R1,#0x0
    753          	}
    754          	
    755          	return result;
   \                     ??MQTT_UnPacketUnSubscribe_0:
   \   00001D   D083         POP     DPH
   \   00001F   D082         POP     DPL
   \   000021   02....       LJMP    ?BRET
    756          
    757          }
    758          
    759          //==========================================================
    760          //	函数名称：	MQTT_PacketPublish
    761          //
    762          //	函数功能：	Pulish消息组包
    763          //
    764          //	入口参数：	pkt_id：pkt_id
    765          //				topic：发布的topic
    766          //				payload：消息体
    767          //				payload_len：消息体长度
    768          //				qos：重发次数
    769          //				retain：离线消息推送
    770          //				own：
    771          //				mqttPacket：包指针
    772          //
    773          //	返回参数：	0-成功		其他-失败
    774          //
    775          //	说明：		
    776          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    777          uint8 MQTT_PacketPublish(uint16 pkt_id, const int8 *topic,
   \                     MQTT_PacketPublish:
    778          						const int8 *payload, uint32 payload_len,
    779          						enum MqttQosLevel qos, int32 retain, int32 own,
    780          						MQTT_PACKET_STRUCTURE *mqttPacket)
    781          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV     A,#-0xa
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7408         MOV     A,#0x8
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EA           MOV     A,R2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   EB           MOV     A,R3
   \   000013   F0           MOVX    @DPTR,A
   \   000014   7402         MOV     A,#0x2
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   EC           MOV     A,R4
   \   00001A   F0           MOVX    @DPTR,A
   \   00001B   A3           INC     DPTR
   \   00001C   ED           MOV     A,R5
   \   00001D   F0           MOVX    @DPTR,A
   \   00001E   E9           MOV     A,R1
   \   00001F   C0E0         PUSH    A
   \   000021   7401         MOV     A,#0x1
   \   000023   12....       LCALL   ?XSTACK_DISP0_8
   \   000026   D0E0         POP     A
   \   000028   F0           MOVX    @DPTR,A
   \   000029   7424         MOV     A,#0x24
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   78..         MOV     R0,#?V0 + 4
   \   000030   12....       LCALL   ?L_MOV_X
   \   000033   7430         MOV     A,#0x30
   \   000035   12....       LCALL   ?XSTACK_DISP0_8
   \   000038   E0           MOVX    A,@DPTR
   \   000039   FE           MOV     R6,A
   \   00003A   A3           INC     DPTR
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   FF           MOV     R7,A
    782          
    783          	uint32 total_len = 0, topic_len = 0;
   \   00003D   90....       MOV     DPTR,#__Constant_0
   \   000040   12....       LCALL   ?XLOAD_R2345
   \   000043   7404         MOV     A,#0x4
   \   000045   12....       LCALL   ?XSTACK_DISP0_8
   \   000048   12....       LCALL   ?XSTORE_R2345
   \   00004B   90....       MOV     DPTR,#__Constant_0
   \   00004E   78..         MOV     R0,#?V0 + 8
   \   000050   12....       LCALL   ?L_MOV_X
    784          	int32 len = 0;
   \   000053   90....       MOV     DPTR,#__Constant_0
   \   000056   78..         MOV     R0,#?V0 + 12
   \   000058   12....       LCALL   ?L_MOV_X
    785          	uint8 flags = 0;
   \   00005B   85..82       MOV     DPL,?XSP + 0
   \   00005E   85..83       MOV     DPH,?XSP + 1
   \   000061   7400         MOV     A,#0x0
   \   000063   F0           MOVX    @DPTR,A
    786          	
    787          	//pkt_id检查----------------------------------------------------------------------------
    788          	if(pkt_id == 0)
   \   000064   7408         MOV     A,#0x8
   \   000066   12....       LCALL   ?XSTACK_DISP0_8
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   F8           MOV     R0,A
   \   00006B   A3           INC     DPTR
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   F9           MOV     R1,A
   \   00006E   E8           MOV     A,R0
   \   00006F   49           ORL     A,R1
   \   000070   7005         JNZ     ??MQTT_PacketPublish_0
    789          		return 1;
   \   000072   7901         MOV     R1,#0x1
   \   000074   02....       LJMP    ??MQTT_PacketPublish_1 & 0xFFFF
    790          	
    791          	//$dp为系统上传数据点的指令--------------------------------------------------------------
    792          	for(topic_len = 0; topic[topic_len] != '\0'; ++topic_len)
   \                     ??MQTT_PacketPublish_0:
   \   000077   90....       MOV     DPTR,#__Constant_0
   \   00007A   78..         MOV     R0,#?V0 + 0
   \   00007C   12....       LCALL   ?L_MOV_X
   \   00007F   85....       MOV     ?V0 + 8,?V0 + 0
   \   000082   85....       MOV     ?V0 + 9,?V0 + 1
   \   000085   85....       MOV     ?V0 + 10,?V0 + 2
   \   000088   85....       MOV     ?V0 + 11,?V0 + 3
   \                     ??MQTT_PacketPublish_2:
   \   00008B   A8..         MOV     R0,?V0 + 8
   \   00008D   A9..         MOV     R1,?V0 + 9
   \   00008F   7402         MOV     A,#0x2
   \   000091   12....       LCALL   ?XSTACK_DISP0_8
   \   000094   E0           MOVX    A,@DPTR
   \   000095   28           ADD     A,R0
   \   000096   FA           MOV     R2,A
   \   000097   A3           INC     DPTR
   \   000098   E0           MOVX    A,@DPTR
   \   000099   39           ADDC    A,R1
   \   00009A   8A82         MOV     DPL,R2
   \   00009C   F583         MOV     DPH,A
   \   00009E   E0           MOVX    A,@DPTR
   \   00009F   603F         JZ      ??MQTT_PacketPublish_3
    793          	{
    794          		if((topic[topic_len] == '#') || (topic[topic_len] == '+'))
   \   0000A1   A8..         MOV     R0,?V0 + 8
   \   0000A3   A9..         MOV     R1,?V0 + 9
   \   0000A5   7402         MOV     A,#0x2
   \   0000A7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   28           ADD     A,R0
   \   0000AC   FA           MOV     R2,A
   \   0000AD   A3           INC     DPTR
   \   0000AE   E0           MOVX    A,@DPTR
   \   0000AF   39           ADDC    A,R1
   \   0000B0   8A82         MOV     DPL,R2
   \   0000B2   F583         MOV     DPH,A
   \   0000B4   E0           MOVX    A,@DPTR
   \   0000B5   6423         XRL     A,#0x23
   \   0000B7   6018         JZ      ??MQTT_PacketPublish_4
   \   0000B9   A8..         MOV     R0,?V0 + 8
   \   0000BB   A9..         MOV     R1,?V0 + 9
   \   0000BD   7402         MOV     A,#0x2
   \   0000BF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C2   E0           MOVX    A,@DPTR
   \   0000C3   28           ADD     A,R0
   \   0000C4   FA           MOV     R2,A
   \   0000C5   A3           INC     DPTR
   \   0000C6   E0           MOVX    A,@DPTR
   \   0000C7   39           ADDC    A,R1
   \   0000C8   8A82         MOV     DPL,R2
   \   0000CA   F583         MOV     DPH,A
   \   0000CC   E0           MOVX    A,@DPTR
   \   0000CD   642B         XRL     A,#0x2b
   \   0000CF   7005         JNZ     ??MQTT_PacketPublish_5
    795          			return 2;
   \                     ??MQTT_PacketPublish_4:
   \   0000D1   7902         MOV     R1,#0x2
   \   0000D3   02....       LJMP    ??MQTT_PacketPublish_1 & 0xFFFF
    796          	}
   \                     ??MQTT_PacketPublish_5:
   \   0000D6   90....       MOV     DPTR,#__Constant_1
   \   0000D9   78..         MOV     R0,#?V0 + 8
   \   0000DB   12....       LCALL   ?L_ADD_X
   \   0000DE   80AB         SJMP    ??MQTT_PacketPublish_2
    797          	
    798          	//Publish消息---------------------------------------------------------------------------
    799          	flags |= MQTT_PKT_PUBLISH << 4;
   \                     ??MQTT_PacketPublish_3:
   \   0000E0   85..82       MOV     DPL,?XSP + 0
   \   0000E3   85..83       MOV     DPH,?XSP + 1
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   4430         ORL     A,#0x30
   \   0000E9   F0           MOVX    @DPTR,A
    800          	
    801          	//retain标志----------------------------------------------------------------------------
    802          	if(retain)
   \   0000EA   7428         MOV     A,#0x28
   \   0000EC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EF   78..         MOV     R0,#?V0 + 0
   \   0000F1   12....       LCALL   ?L_MOV_X
   \   0000F4   E5..         MOV     A,?V0 + 0
   \   0000F6   45..         ORL     A,?V0 + 1
   \   0000F8   45..         ORL     A,?V0 + 2
   \   0000FA   45..         ORL     A,?V0 + 3
   \   0000FC   600A         JZ      ??MQTT_PacketPublish_6
    803          		flags |= 0x01;
   \   0000FE   85..82       MOV     DPL,?XSP + 0
   \   000101   85..83       MOV     DPH,?XSP + 1
   \   000104   E0           MOVX    A,@DPTR
   \   000105   D2E0         SETB    0xE0 /* A   */.0
   \   000107   F0           MOVX    @DPTR,A
    804          	
    805          	//总长度--------------------------------------------------------------------------------
    806          	total_len = topic_len + payload_len + 2;
   \                     ??MQTT_PacketPublish_6:
   \   000108   85....       MOV     ?V0 + 0,?V0 + 8
   \   00010B   85....       MOV     ?V0 + 1,?V0 + 9
   \   00010E   85....       MOV     ?V0 + 2,?V0 + 10
   \   000111   85....       MOV     ?V0 + 3,?V0 + 11
   \   000114   78..         MOV     R0,#?V0 + 0
   \   000116   79..         MOV     R1,#?V0 + 4
   \   000118   12....       LCALL   ?L_ADD
   \   00011B   90....       MOV     DPTR,#__Constant_2
   \   00011E   78..         MOV     R0,#?V0 + 0
   \   000120   12....       LCALL   ?L_ADD_X
   \   000123   7404         MOV     A,#0x4
   \   000125   12....       LCALL   ?XSTACK_DISP0_8
   \   000128   78..         MOV     R0,#?V0 + 0
   \   00012A   12....       LCALL   ?L_MOV_TO_X
    807          	
    808          	//qos级别--主要用于PUBLISH（发布态）消息的，保证消息传递的次数-----------------------------
    809          	switch(qos)
   \   00012D   7401         MOV     A,#0x1
   \   00012F   12....       LCALL   ?XSTACK_DISP0_8
   \   000132   E0           MOVX    A,@DPTR
   \   000133   6008         JZ      ??MQTT_PacketPublish_7
   \   000135   14           DEC     A
   \   000136   6015         JZ      ??MQTT_PacketPublish_8
   \   000138   14           DEC     A
   \   000139   6030         JZ      ??MQTT_PacketPublish_9
   \   00013B   804C         SJMP    ??MQTT_PacketPublish_10
    810          	{
    811          		case MQTT_QOS_LEVEL0:
    812          			flags |= MQTT_CONNECT_WILL_QOS0;	//最多一次
   \                     ??MQTT_PacketPublish_7:
   \   00013D   85..82       MOV     DPL,?XSP + 0
   \   000140   85..83       MOV     DPH,?XSP + 1
   \   000143   E0           MOVX    A,@DPTR
   \   000144   85..82       MOV     DPL,?XSP + 0
   \   000147   85..83       MOV     DPH,?XSP + 1
   \   00014A   F0           MOVX    @DPTR,A
    813          		break;
   \   00014B   8041         SJMP    ??MQTT_PacketPublish_11
    814          		
    815          		case MQTT_QOS_LEVEL1:
    816          			flags |= 0x02;						//最少一次
   \                     ??MQTT_PacketPublish_8:
   \   00014D   85..82       MOV     DPL,?XSP + 0
   \   000150   85..83       MOV     DPH,?XSP + 1
   \   000153   E0           MOVX    A,@DPTR
   \   000154   D2E1         SETB    0xE0 /* A   */.1
   \   000156   F0           MOVX    @DPTR,A
    817          			total_len += 2;
   \   000157   90....       MOV     DPTR,#__Constant_2
   \   00015A   78..         MOV     R0,#?V0 + 0
   \   00015C   12....       LCALL   ?L_MOV_X
   \   00015F   7404         MOV     A,#0x4
   \   000161   12....       LCALL   ?XSTACK_DISP0_8
   \   000164   78..         MOV     R0,#?V0 + 0
   \   000166   12....       LCALL   ?L_ADD_TO_X
    818          		break;
   \   000169   8023         SJMP    ??MQTT_PacketPublish_11
    819          		
    820          		case MQTT_QOS_LEVEL2:
    821          			flags |= 0x04;						//只有一次
   \                     ??MQTT_PacketPublish_9:
   \   00016B   85..82       MOV     DPL,?XSP + 0
   \   00016E   85..83       MOV     DPH,?XSP + 1
   \   000171   E0           MOVX    A,@DPTR
   \   000172   D2E2         SETB    0xE0 /* A   */.2
   \   000174   F0           MOVX    @DPTR,A
    822          			total_len += 2;
   \   000175   90....       MOV     DPTR,#__Constant_2
   \   000178   78..         MOV     R0,#?V0 + 0
   \   00017A   12....       LCALL   ?L_MOV_X
   \   00017D   7404         MOV     A,#0x4
   \   00017F   12....       LCALL   ?XSTACK_DISP0_8
   \   000182   78..         MOV     R0,#?V0 + 0
   \   000184   12....       LCALL   ?L_ADD_TO_X
    823          		break;
   \   000187   8005         SJMP    ??MQTT_PacketPublish_11
    824          		
    825          		default:
    826          		return 3;
   \                     ??MQTT_PacketPublish_10:
   \   000189   7903         MOV     R1,#0x3
   \   00018B   02....       LJMP    ??MQTT_PacketPublish_1 & 0xFFFF
    827          	}
    828          	
    829          	//分配内存------------------------------------------------------------------------------
    830          	MQTT_NewBuffer(mqttPacket, total_len + 3);
   \                     ??MQTT_PacketPublish_11:
   \   00018E                ; Setup parameters for call to function MQTT_NewBuffer
   \   00018E   7404         MOV     A,#0x4
   \   000190   12....       LCALL   ?XSTACK_DISP0_8
   \   000193   78..         MOV     R0,#?V0 + 0
   \   000195   12....       LCALL   ?L_MOV_X
   \   000198   90....       MOV     DPTR,#__Constant_3
   \   00019B   78..         MOV     R0,#?V0 + 0
   \   00019D   12....       LCALL   ?L_ADD_X
   \   0001A0   78..         MOV     R0,#?V0 + 0
   \   0001A2   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0001A5   EE           MOV     A,R6
   \   0001A6   FA           MOV     R2,A
   \   0001A7   EF           MOV     A,R7
   \   0001A8   FB           MOV     R3,A
   \   0001A9   12....       LCALL   ??MQTT_NewBuffer?relay
   \   0001AC   7404         MOV     A,#0x4
   \   0001AE   12....       LCALL   ?DEALLOC_XSTACK8
    831          	if(mqttPacket->_data == NULL)
   \   0001B1   8E82         MOV     DPL,R6
   \   0001B3   8F83         MOV     DPH,R7
   \   0001B5   E0           MOVX    A,@DPTR
   \   0001B6   F8           MOV     R0,A
   \   0001B7   A3           INC     DPTR
   \   0001B8   E0           MOVX    A,@DPTR
   \   0001B9   F9           MOV     R1,A
   \   0001BA   E8           MOV     A,R0
   \   0001BB   49           ORL     A,R1
   \   0001BC   7005         JNZ     ??MQTT_PacketPublish_12
    832          		return 4;
   \   0001BE   7904         MOV     R1,#0x4
   \   0001C0   02....       LJMP    ??MQTT_PacketPublish_1 & 0xFFFF
    833          		
    834          	memset(mqttPacket->_data, 0, total_len + 3);
   \                     ??MQTT_PacketPublish_12:
   \   0001C3                ; Setup parameters for call to function memset
   \   0001C3   7404         MOV     A,#0x4
   \   0001C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C8   78..         MOV     R0,#?V0 + 0
   \   0001CA   12....       LCALL   ?L_MOV_X
   \   0001CD   E5..         MOV     A,?V0 + 0
   \   0001CF   2403         ADD     A,#0x3
   \   0001D1   F5..         MOV     ?V0 + 0,A
   \   0001D3   E5..         MOV     A,?V0 + 1
   \   0001D5   3400         ADDC    A,#0x0
   \   0001D7   F5..         MOV     ?V0 + 1,A
   \   0001D9   78..         MOV     R0,#?V0 + 0
   \   0001DB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001DE   7C00         MOV     R4,#0x0
   \   0001E0   7D00         MOV     R5,#0x0
   \   0001E2   8E82         MOV     DPL,R6
   \   0001E4   8F83         MOV     DPH,R7
   \   0001E6   E0           MOVX    A,@DPTR
   \   0001E7   FA           MOV     R2,A
   \   0001E8   A3           INC     DPTR
   \   0001E9   E0           MOVX    A,@DPTR
   \   0001EA   FB           MOV     R3,A
   \   0001EB   12....       LCALL   ??memset?relay
   \   0001EE   7402         MOV     A,#0x2
   \   0001F0   12....       LCALL   ?DEALLOC_XSTACK8
    835          	
    836          /*************************************固定头部***********************************************/
    837          	
    838          	//固定头部----------------------头部消息-------------------------------------------------
    839          	mqttPacket->_data[mqttPacket->_len++] = flags;
   \   0001F3   85..82       MOV     DPL,?XSP + 0
   \   0001F6   85..83       MOV     DPH,?XSP + 1
   \   0001F9   E0           MOVX    A,@DPTR
   \   0001FA   C0E0         PUSH    A
   \   0001FC   8E82         MOV     DPL,R6
   \   0001FE   8F83         MOV     DPH,R7
   \   000200   A3           INC     DPTR
   \   000201   A3           INC     DPTR
   \   000202   78..         MOV     R0,#?V0 + 0
   \   000204   12....       LCALL   ?L_MOV_X
   \   000207   8E82         MOV     DPL,R6
   \   000209   8F83         MOV     DPH,R7
   \   00020B   E0           MOVX    A,@DPTR
   \   00020C   25..         ADD     A,?V0 + 0
   \   00020E   F8           MOV     R0,A
   \   00020F   A3           INC     DPTR
   \   000210   E0           MOVX    A,@DPTR
   \   000211   35..         ADDC    A,?V0 + 1
   \   000213   8882         MOV     DPL,R0
   \   000215   F583         MOV     DPH,A
   \   000217   D0E0         POP     A
   \   000219   F0           MOVX    @DPTR,A
   \   00021A   90....       MOV     DPTR,#__Constant_1
   \   00021D   78..         MOV     R0,#?V0 + 0
   \   00021F   12....       LCALL   ?L_MOV_X
   \   000222   8E82         MOV     DPL,R6
   \   000224   8F83         MOV     DPH,R7
   \   000226   A3           INC     DPTR
   \   000227   A3           INC     DPTR
   \   000228   78..         MOV     R0,#?V0 + 0
   \   00022A   12....       LCALL   ?L_ADD_TO_X
    840          	
    841          	//固定头部----------------------剩余长度值-----------------------------------------------
    842          	len = MQTT_DumpLength(total_len, mqttPacket->_data + mqttPacket->_len);
   \   00022D                ; Setup parameters for call to function MQTT_DumpLength
   \   00022D   8E82         MOV     DPL,R6
   \   00022F   8F83         MOV     DPH,R7
   \   000231   A3           INC     DPTR
   \   000232   A3           INC     DPTR
   \   000233   78..         MOV     R0,#?V0 + 0
   \   000235   12....       LCALL   ?L_MOV_X
   \   000238   8E82         MOV     DPL,R6
   \   00023A   8F83         MOV     DPH,R7
   \   00023C   E0           MOVX    A,@DPTR
   \   00023D   25..         ADD     A,?V0 + 0
   \   00023F   FC           MOV     R4,A
   \   000240   A3           INC     DPTR
   \   000241   E0           MOVX    A,@DPTR
   \   000242   35..         ADDC    A,?V0 + 1
   \   000244   FD           MOV     R5,A
   \   000245   7404         MOV     A,#0x4
   \   000247   12....       LCALL   ?XSTACK_DISP0_8
   \   00024A   78..         MOV     R0,#?V0 + 0
   \   00024C   12....       LCALL   ?L_MOV_X
   \   00024F   AA..         MOV     R2,?V0 + 0
   \   000251   AB..         MOV     R3,?V0 + 1
   \   000253   12....       LCALL   ??MQTT_DumpLength?relay
   \   000256   8A..         MOV     ?V0 + 0,R2
   \   000258   8B..         MOV     ?V0 + 1,R3
   \   00025A   8C..         MOV     ?V0 + 2,R4
   \   00025C   8D..         MOV     ?V0 + 3,R5
   \   00025E   85....       MOV     ?V0 + 12,?V0 + 0
   \   000261   85....       MOV     ?V0 + 13,?V0 + 1
   \   000264   85....       MOV     ?V0 + 14,?V0 + 2
   \   000267   85....       MOV     ?V0 + 15,?V0 + 3
    843          	if(len < 0)
   \   00026A   90....       MOV     DPTR,#__Constant_0
   \   00026D   78..         MOV     R0,#?V0 + 12
   \   00026F   12....       LCALL   ?SL_GE_X
   \   000272   400C         JC      ??MQTT_PacketPublish_13
    844          	{
    845          		MQTT_DeleteBuffer(mqttPacket);
   \   000274                ; Setup parameters for call to function MQTT_DeleteBuffer
   \   000274   EE           MOV     A,R6
   \   000275   FA           MOV     R2,A
   \   000276   EF           MOV     A,R7
   \   000277   FB           MOV     R3,A
   \   000278   12....       LCALL   ??MQTT_DeleteBuffer?relay
    846          		return 5;
   \   00027B   7905         MOV     R1,#0x5
   \   00027D   02....       LJMP    ??MQTT_PacketPublish_1 & 0xFFFF
    847          	}
    848          	else
    849          		mqttPacket->_len += len;
   \                     ??MQTT_PacketPublish_13:
   \   000280   8E82         MOV     DPL,R6
   \   000282   8F83         MOV     DPH,R7
   \   000284   A3           INC     DPTR
   \   000285   A3           INC     DPTR
   \   000286   78..         MOV     R0,#?V0 + 12
   \   000288   12....       LCALL   ?L_ADD_TO_X
    850          	
    851          /*************************************可变头部***********************************************/
    852          	
    853          	//可变头部----------------------写入topic长度、topic-------------------------------------
    854          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(topic_len);
   \   00028B   A8..         MOV     R0,?V0 + 8
   \   00028D   A9..         MOV     R1,?V0 + 9
   \   00028F   E4           CLR     A
   \   000290   E5..         MOV     A,?V0 + 9
   \   000292   A8..         MOV     R0,?V0 + 9
   \   000294   E5..         MOV     A,?V0 + 9
   \   000296   8E82         MOV     DPL,R6
   \   000298   8F83         MOV     DPH,R7
   \   00029A   A3           INC     DPTR
   \   00029B   A3           INC     DPTR
   \   00029C   78..         MOV     R0,#?V0 + 0
   \   00029E   12....       LCALL   ?L_MOV_X
   \   0002A1   8E82         MOV     DPL,R6
   \   0002A3   8F83         MOV     DPH,R7
   \   0002A5   E0           MOVX    A,@DPTR
   \   0002A6   25..         ADD     A,?V0 + 0
   \   0002A8   F8           MOV     R0,A
   \   0002A9   A3           INC     DPTR
   \   0002AA   E0           MOVX    A,@DPTR
   \   0002AB   35..         ADDC    A,?V0 + 1
   \   0002AD   8882         MOV     DPL,R0
   \   0002AF   F583         MOV     DPH,A
   \   0002B1   E5..         MOV     A,?V0 + 9
   \   0002B3   F0           MOVX    @DPTR,A
   \   0002B4   90....       MOV     DPTR,#__Constant_1
   \   0002B7   78..         MOV     R0,#?V0 + 0
   \   0002B9   12....       LCALL   ?L_MOV_X
   \   0002BC   8E82         MOV     DPL,R6
   \   0002BE   8F83         MOV     DPH,R7
   \   0002C0   A3           INC     DPTR
   \   0002C1   A3           INC     DPTR
   \   0002C2   78..         MOV     R0,#?V0 + 0
   \   0002C4   12....       LCALL   ?L_ADD_TO_X
    855          	mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(topic_len);
   \   0002C7   A8..         MOV     R0,?V0 + 8
   \   0002C9   A9..         MOV     R1,?V0 + 9
   \   0002CB   E5..         MOV     A,?V0 + 8
   \   0002CD   8E82         MOV     DPL,R6
   \   0002CF   8F83         MOV     DPH,R7
   \   0002D1   A3           INC     DPTR
   \   0002D2   A3           INC     DPTR
   \   0002D3   78..         MOV     R0,#?V0 + 0
   \   0002D5   12....       LCALL   ?L_MOV_X
   \   0002D8   8E82         MOV     DPL,R6
   \   0002DA   8F83         MOV     DPH,R7
   \   0002DC   E0           MOVX    A,@DPTR
   \   0002DD   25..         ADD     A,?V0 + 0
   \   0002DF   F8           MOV     R0,A
   \   0002E0   A3           INC     DPTR
   \   0002E1   E0           MOVX    A,@DPTR
   \   0002E2   35..         ADDC    A,?V0 + 1
   \   0002E4   8882         MOV     DPL,R0
   \   0002E6   F583         MOV     DPH,A
   \   0002E8   E5..         MOV     A,?V0 + 8
   \   0002EA   F0           MOVX    @DPTR,A
   \   0002EB   90....       MOV     DPTR,#__Constant_1
   \   0002EE   78..         MOV     R0,#?V0 + 0
   \   0002F0   12....       LCALL   ?L_MOV_X
   \   0002F3   8E82         MOV     DPL,R6
   \   0002F5   8F83         MOV     DPH,R7
   \   0002F7   A3           INC     DPTR
   \   0002F8   A3           INC     DPTR
   \   0002F9   78..         MOV     R0,#?V0 + 0
   \   0002FB   12....       LCALL   ?L_ADD_TO_X
    856          	
    857          	strncat((int8 *)mqttPacket->_data + mqttPacket->_len, topic, topic_len);
                 	        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  	strncat((int8 *)mqttPacket->_data + mqttPacket->_len, topic, topic_len);
  	                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",857  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0002FE                ; Setup parameters for call to function strncat
   \   0002FE   85....       MOV     ?V0 + 0,?V0 + 8
   \   000301   85....       MOV     ?V0 + 1,?V0 + 9
   \   000304   78..         MOV     R0,#?V0 + 0
   \   000306   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000309   7404         MOV     A,#0x4
   \   00030B   12....       LCALL   ?XSTACK_DISP0_8
   \   00030E   E0           MOVX    A,@DPTR
   \   00030F   FC           MOV     R4,A
   \   000310   A3           INC     DPTR
   \   000311   E0           MOVX    A,@DPTR
   \   000312   FD           MOV     R5,A
   \   000313   8E82         MOV     DPL,R6
   \   000315   8F83         MOV     DPH,R7
   \   000317   A3           INC     DPTR
   \   000318   A3           INC     DPTR
   \   000319   78..         MOV     R0,#?V0 + 0
   \   00031B   12....       LCALL   ?L_MOV_X
   \   00031E   8E82         MOV     DPL,R6
   \   000320   8F83         MOV     DPH,R7
   \   000322   E0           MOVX    A,@DPTR
   \   000323   25..         ADD     A,?V0 + 0
   \   000325   FA           MOV     R2,A
   \   000326   A3           INC     DPTR
   \   000327   E0           MOVX    A,@DPTR
   \   000328   35..         ADDC    A,?V0 + 1
   \   00032A   FB           MOV     R3,A
   \   00032B   12....       LCALL   ??strncat?relay
   \   00032E   7402         MOV     A,#0x2
   \   000330   12....       LCALL   ?DEALLOC_XSTACK8
    858          	mqttPacket->_len += topic_len;
   \   000333   8E82         MOV     DPL,R6
   \   000335   8F83         MOV     DPH,R7
   \   000337   A3           INC     DPTR
   \   000338   A3           INC     DPTR
   \   000339   78..         MOV     R0,#?V0 + 8
   \   00033B   12....       LCALL   ?L_ADD_TO_X
    859          	if(qos != MQTT_QOS_LEVEL0)
   \   00033E   7401         MOV     A,#0x1
   \   000340   12....       LCALL   ?XSTACK_DISP0_8
   \   000343   E0           MOVX    A,@DPTR
   \   000344   607E         JZ      ??MQTT_PacketPublish_14
    860          	{
    861          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_MSB(pkt_id);
   \   000346   7408         MOV     A,#0x8
   \   000348   12....       LCALL   ?XSTACK_DISP0_8
   \   00034B   E0           MOVX    A,@DPTR
   \   00034C   F8           MOV     R0,A
   \   00034D   A3           INC     DPTR
   \   00034E   E0           MOVX    A,@DPTR
   \   00034F   F9           MOV     R1,A
   \   000350   E4           CLR     A
   \   000351   E9           MOV     A,R1
   \   000352   F8           MOV     R0,A
   \   000353   C0E0         PUSH    A
   \   000355   8E82         MOV     DPL,R6
   \   000357   8F83         MOV     DPH,R7
   \   000359   A3           INC     DPTR
   \   00035A   A3           INC     DPTR
   \   00035B   78..         MOV     R0,#?V0 + 0
   \   00035D   12....       LCALL   ?L_MOV_X
   \   000360   8E82         MOV     DPL,R6
   \   000362   8F83         MOV     DPH,R7
   \   000364   E0           MOVX    A,@DPTR
   \   000365   25..         ADD     A,?V0 + 0
   \   000367   F8           MOV     R0,A
   \   000368   A3           INC     DPTR
   \   000369   E0           MOVX    A,@DPTR
   \   00036A   35..         ADDC    A,?V0 + 1
   \   00036C   8882         MOV     DPL,R0
   \   00036E   F583         MOV     DPH,A
   \   000370   D0E0         POP     A
   \   000372   F0           MOVX    @DPTR,A
   \   000373   90....       MOV     DPTR,#__Constant_1
   \   000376   78..         MOV     R0,#?V0 + 0
   \   000378   12....       LCALL   ?L_MOV_X
   \   00037B   8E82         MOV     DPL,R6
   \   00037D   8F83         MOV     DPH,R7
   \   00037F   A3           INC     DPTR
   \   000380   A3           INC     DPTR
   \   000381   78..         MOV     R0,#?V0 + 0
   \   000383   12....       LCALL   ?L_ADD_TO_X
    862          		mqttPacket->_data[mqttPacket->_len++] = MOSQ_LSB(pkt_id);
   \   000386   7408         MOV     A,#0x8
   \   000388   12....       LCALL   ?XSTACK_DISP0_8
   \   00038B   E0           MOVX    A,@DPTR
   \   00038C   F8           MOV     R0,A
   \   00038D   A3           INC     DPTR
   \   00038E   E0           MOVX    A,@DPTR
   \   00038F   F9           MOV     R1,A
   \   000390   E8           MOV     A,R0
   \   000391   C0E0         PUSH    A
   \   000393   8E82         MOV     DPL,R6
   \   000395   8F83         MOV     DPH,R7
   \   000397   A3           INC     DPTR
   \   000398   A3           INC     DPTR
   \   000399   78..         MOV     R0,#?V0 + 0
   \   00039B   12....       LCALL   ?L_MOV_X
   \   00039E   8E82         MOV     DPL,R6
   \   0003A0   8F83         MOV     DPH,R7
   \   0003A2   E0           MOVX    A,@DPTR
   \   0003A3   25..         ADD     A,?V0 + 0
   \   0003A5   F8           MOV     R0,A
   \   0003A6   A3           INC     DPTR
   \   0003A7   E0           MOVX    A,@DPTR
   \   0003A8   35..         ADDC    A,?V0 + 1
   \   0003AA   8882         MOV     DPL,R0
   \   0003AC   F583         MOV     DPH,A
   \   0003AE   D0E0         POP     A
   \   0003B0   F0           MOVX    @DPTR,A
   \   0003B1   90....       MOV     DPTR,#__Constant_1
   \   0003B4   78..         MOV     R0,#?V0 + 0
   \   0003B6   12....       LCALL   ?L_MOV_X
   \   0003B9   8E82         MOV     DPL,R6
   \   0003BB   8F83         MOV     DPH,R7
   \   0003BD   A3           INC     DPTR
   \   0003BE   A3           INC     DPTR
   \   0003BF   78..         MOV     R0,#?V0 + 0
   \   0003C1   12....       LCALL   ?L_ADD_TO_X
    863          	}
    864          	
    865          	//可变头部----------------------写入payload----------------------------------------------
    866          	if(payload != NULL)
   \                     ??MQTT_PacketPublish_14:
   \   0003C4   7422         MOV     A,#0x22
   \   0003C6   12....       LCALL   ?XSTACK_DISP0_8
   \   0003C9   E0           MOVX    A,@DPTR
   \   0003CA   F8           MOV     R0,A
   \   0003CB   A3           INC     DPTR
   \   0003CC   E0           MOVX    A,@DPTR
   \   0003CD   F9           MOV     R1,A
   \   0003CE   E8           MOV     A,R0
   \   0003CF   49           ORL     A,R1
   \   0003D0   6040         JZ      ??MQTT_PacketPublish_15
    867          	{
    868          		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, payload, payload_len);
                 		        ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char *"

  		strncat((int8 *)mqttPacket->_data + mqttPacket->_len, payload, payload_len);
  		                                                      ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",868  Warning[Pe167]: 
          argument of type "signed char const *" is incompatible with
          parameter of type "char const *"
   \   0003D2                ; Setup parameters for call to function strncat
   \   0003D2   85....       MOV     ?V0 + 0,?V0 + 4
   \   0003D5   85....       MOV     ?V0 + 1,?V0 + 5
   \   0003D8   78..         MOV     R0,#?V0 + 0
   \   0003DA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003DD   7424         MOV     A,#0x24
   \   0003DF   12....       LCALL   ?XSTACK_DISP0_8
   \   0003E2   E0           MOVX    A,@DPTR
   \   0003E3   FC           MOV     R4,A
   \   0003E4   A3           INC     DPTR
   \   0003E5   E0           MOVX    A,@DPTR
   \   0003E6   FD           MOV     R5,A
   \   0003E7   8E82         MOV     DPL,R6
   \   0003E9   8F83         MOV     DPH,R7
   \   0003EB   A3           INC     DPTR
   \   0003EC   A3           INC     DPTR
   \   0003ED   78..         MOV     R0,#?V0 + 0
   \   0003EF   12....       LCALL   ?L_MOV_X
   \   0003F2   8E82         MOV     DPL,R6
   \   0003F4   8F83         MOV     DPH,R7
   \   0003F6   E0           MOVX    A,@DPTR
   \   0003F7   25..         ADD     A,?V0 + 0
   \   0003F9   FA           MOV     R2,A
   \   0003FA   A3           INC     DPTR
   \   0003FB   E0           MOVX    A,@DPTR
   \   0003FC   35..         ADDC    A,?V0 + 1
   \   0003FE   FB           MOV     R3,A
   \   0003FF   12....       LCALL   ??strncat?relay
   \   000402   7402         MOV     A,#0x2
   \   000404   12....       LCALL   ?DEALLOC_XSTACK8
    869          		mqttPacket->_len += payload_len;
   \   000407   8E82         MOV     DPL,R6
   \   000409   8F83         MOV     DPH,R7
   \   00040B   A3           INC     DPTR
   \   00040C   A3           INC     DPTR
   \   00040D   78..         MOV     R0,#?V0 + 4
   \   00040F   12....       LCALL   ?L_ADD_TO_X
    870          	}
    871          	
    872          	return 0;
   \                     ??MQTT_PacketPublish_15:
   \   000412   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketPublish_1:
   \   000414   740A         MOV     A,#0xa
   \   000416   12....       LCALL   ?DEALLOC_XSTACK8
   \   000419   7F10         MOV     R7,#0x10
   \   00041B   02....       LJMP    ?BANKED_LEAVE_XDATA
    873          
    874          }
    875          
    876          //==========================================================
    877          //	函数名称：	MQTT_UnPacketPublish
    878          //
    879          //	函数功能：	Publish消息解包
    880          //
    881          //	入口参数：	flags：MQTT相关标志信息
    882          //				pkt：指向可变头部
    883          //				size：固定头部中的剩余长度信息
    884          //
    885          //	返回参数：	0-成功		其他-失败原因
    886          //
    887          //	说明：		
    888          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    889          uint8 MQTT_UnPacketPublish(uint8 *rev_data, int8 *topic, uint16 *topic_len, int8 *payload, uint16 *payload_len, uint8 *qos, uint16 *pkt_id)
   \                     MQTT_UnPacketPublish:
    890          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 14,R2
   \   00000C   8B..         MOV     ?V0 + 15,R3
   \   00000E   8C..         MOV     ?V0 + 2,R4
   \   000010   8D..         MOV     ?V0 + 3,R5
   \   000012   741C         MOV     A,#0x1c
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   E0           MOVX    A,@DPTR
   \   000018   FE           MOV     R6,A
   \   000019   A3           INC     DPTR
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   FF           MOV     R7,A
   \   00001C   741E         MOV     A,#0x1e
   \   00001E   12....       LCALL   ?XSTACK_DISP0_8
   \   000021   E0           MOVX    A,@DPTR
   \   000022   F5..         MOV     ?V0 + 10,A
   \   000024   A3           INC     DPTR
   \   000025   E0           MOVX    A,@DPTR
   \   000026   F5..         MOV     ?V0 + 11,A
   \   000028   7420         MOV     A,#0x20
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   F5..         MOV     ?V0 + 8,A
   \   000030   A3           INC     DPTR
   \   000031   E0           MOVX    A,@DPTR
   \   000032   F5..         MOV     ?V0 + 9,A
    891          	
    892          	const int8 flags = rev_data[0] & 0x0F;
   \   000034   85..82       MOV     DPL,?V0 + 14
   \   000037   85..83       MOV     DPH,?V0 + 15
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   540F         ANL     A,#0xf
   \   00003D   F5..         MOV     ?V0 + 12,A
    893          	uint8 *msgPtr;
    894          	uint32 remain_len = 0;
   \   00003F   90....       MOV     DPTR,#__Constant_0
   \   000042   12....       LCALL   ?XLOAD_R2345
   \   000045   85..82       MOV     DPL,?XSP + 0
   \   000048   85..83       MOV     DPH,?XSP + 1
   \   00004B   12....       LCALL   ?XSTORE_R2345
    895          
    896          	const int8 dup = flags & 0x08;
   \   00004E   7408         MOV     A,#0x8
   \   000050   55..         ANL     A,?V0 + 12
   \   000052   F5..         MOV     ?V0 + 13,A
    897          
    898          	*qos = (flags & 0x06) >> 1;
   \   000054   E5..         MOV     A,?V0 + 12
   \   000056   A2E7         MOV     C,0xE0 /* A   */.7
   \   000058   13           RRC     A
   \   000059   5403         ANL     A,#0x3
   \   00005B   C0E0         PUSH    A
   \   00005D   7422         MOV     A,#0x22
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   E0           MOVX    A,@DPTR
   \   000063   F8           MOV     R0,A
   \   000064   A3           INC     DPTR
   \   000065   E0           MOVX    A,@DPTR
   \   000066   F583         MOV     DPH,A
   \   000068   8882         MOV     DPL,R0
   \   00006A   D0E0         POP     A
   \   00006C   F0           MOVX    @DPTR,A
    899          	
    900          	msgPtr = rev_data + MQTT_ReadLength(rev_data + 1, 4, &remain_len) + 1;
   \   00006D                ; Setup parameters for call to function MQTT_ReadLength
   \   00006D   90....       MOV     DPTR,#__Constant_4
   \   000070   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000073   7404         MOV     A,#0x4
   \   000075   12....       LCALL   ?XSTACK_DISP0_8
   \   000078   AC82         MOV     R4,DPL
   \   00007A   AD83         MOV     R5,DPH
   \   00007C   85..82       MOV     DPL,?V0 + 14
   \   00007F   85..83       MOV     DPH,?V0 + 15
   \   000082   A3           INC     DPTR
   \   000083   AA82         MOV     R2,DPL
   \   000085   AB83         MOV     R3,DPH
   \   000087   12....       LCALL   ??MQTT_ReadLength?relay
   \   00008A   7404         MOV     A,#0x4
   \   00008C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008F   8A..         MOV     ?V0 + 4,R2
   \   000091   8B..         MOV     ?V0 + 5,R3
   \   000093   8C..         MOV     ?V0 + 6,R4
   \   000095   8D..         MOV     ?V0 + 7,R5
   \   000097   E5..         MOV     A,?V0 + 14
   \   000099   25..         ADD     A,?V0 + 4
   \   00009B   F582         MOV     DPL,A
   \   00009D   E5..         MOV     A,?V0 + 15
   \   00009F   35..         ADDC    A,?V0 + 5
   \   0000A1   F583         MOV     DPH,A
   \   0000A3   A3           INC     DPTR
   \   0000A4   8582..       MOV     ?V0 + 0,DPL
   \   0000A7   8583..       MOV     ?V0 + 1,DPH
    901          	
    902          	if(remain_len < 2 || flags & 0x01)							//retain
   \   0000AA   85..82       MOV     DPL,?XSP + 0
   \   0000AD   85..83       MOV     DPH,?XSP + 1
   \   0000B0   C082         PUSH    DPL
   \   0000B2   C083         PUSH    DPH
   \   0000B4   90....       MOV     DPTR,#__Constant_2
   \   0000B7   78..         MOV     R0,#?V0 + 4
   \   0000B9   12....       LCALL   ?L_MOV_X
   \   0000BC   D083         POP     DPH
   \   0000BE   D082         POP     DPL
   \   0000C0   78..         MOV     R0,#?V0 + 4
   \   0000C2   12....       LCALL   ?UL_GT_X
   \   0000C5   4006         JC      ??MQTT_UnPacketPublish_0
   \   0000C7   E5..         MOV     A,?V0 + 12
   \   0000C9   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000CB   5005         JNC     ??MQTT_UnPacketPublish_1
    903          		return 255;
   \                     ??MQTT_UnPacketPublish_0:
   \   0000CD   79FF         MOV     R1,#-0x1
   \   0000CF   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    904          	
    905          	*topic_len = (uint16)msgPtr[0] << 8 | msgPtr[1];
   \                     ??MQTT_UnPacketPublish_1:
   \   0000D2   85..82       MOV     DPL,?V0 + 0
   \   0000D5   85..83       MOV     DPH,?V0 + 1
   \   0000D8   E0           MOVX    A,@DPTR
   \   0000D9   F8           MOV     R0,A
   \   0000DA   7900         MOV     R1,#0x0
   \   0000DC   E4           CLR     A
   \   0000DD   C8           XCH     A,R0
   \   0000DE   F9           MOV     R1,A
   \   0000DF   85..82       MOV     DPL,?V0 + 0
   \   0000E2   85..83       MOV     DPH,?V0 + 1
   \   0000E5   A3           INC     DPTR
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   FA           MOV     R2,A
   \   0000E8   7B00         MOV     R3,#0x0
   \   0000EA   E8           MOV     A,R0
   \   0000EB   4A           ORL     A,R2
   \   0000EC   F8           MOV     R0,A
   \   0000ED   E9           MOV     A,R1
   \   0000EE   4B           ORL     A,R3
   \   0000EF   F9           MOV     R1,A
   \   0000F0   8E82         MOV     DPL,R6
   \   0000F2   8F83         MOV     DPH,R7
   \   0000F4   E8           MOV     A,R0
   \   0000F5   F0           MOVX    @DPTR,A
   \   0000F6   A3           INC     DPTR
   \   0000F7   E9           MOV     A,R1
   \   0000F8   F0           MOVX    @DPTR,A
    906          	if(remain_len < *topic_len + 2)
   \   0000F9   85..82       MOV     DPL,?XSP + 0
   \   0000FC   85..83       MOV     DPH,?XSP + 1
   \   0000FF   C082         PUSH    DPL
   \   000101   C083         PUSH    DPH
   \   000103   8E82         MOV     DPL,R6
   \   000105   8F83         MOV     DPH,R7
   \   000107   E0           MOVX    A,@DPTR
   \   000108   2402         ADD     A,#0x2
   \   00010A   F5..         MOV     ?V0 + 4,A
   \   00010C   A3           INC     DPTR
   \   00010D   E0           MOVX    A,@DPTR
   \   00010E   3400         ADDC    A,#0x0
   \   000110   F5..         MOV     ?V0 + 5,A
   \   000112   E4           CLR     A
   \   000113   F5..         MOV     ?V0 + 6,A
   \   000115   F5..         MOV     ?V0 + 7,A
   \   000117   D083         POP     DPH
   \   000119   D082         POP     DPL
   \   00011B   78..         MOV     R0,#?V0 + 4
   \   00011D   12....       LCALL   ?UL_GT_X
   \   000120   5005         JNC     ??MQTT_UnPacketPublish_3
    907          		return 255;
   \   000122   79FF         MOV     R1,#-0x1
   \   000124   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    908          	
    909          	if(strstr((int8 *)msgPtr + 2, CMD_TOPIC_PREFIX) != NULL)	//如果是命令下发
                 	          ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char const *"
   \                     ??MQTT_UnPacketPublish_3:
   \   000127                ; Setup parameters for call to function strstr
   \   000127   7C..         MOV     R4,#`?<Constant "$creq">` & 0xff
   \   000129   7D..         MOV     R5,#(`?<Constant "$creq">` >> 8) & 0xff
   \   00012B   E5..         MOV     A,?V0 + 0
   \   00012D   2402         ADD     A,#0x2
   \   00012F   FA           MOV     R2,A
   \   000130   E5..         MOV     A,?V0 + 1
   \   000132   3400         ADDC    A,#0x0
   \   000134   FB           MOV     R3,A
   \   000135   12....       LCALL   ??strstr?relay
   \   000138   8A..         MOV     ?V0 + 4,R2
   \   00013A   8B..         MOV     ?V0 + 5,R3
   \   00013C   E5..         MOV     A,?V0 + 4
   \   00013E   45..         ORL     A,?V0 + 5
   \   000140   6005         JZ      ??MQTT_UnPacketPublish_4
    910          		return MQTT_PKT_CMD;
   \   000142   790F         MOV     R1,#0xf
   \   000144   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    911          	
    912          	switch(*qos)
   \                     ??MQTT_UnPacketPublish_4:
   \   000147   7422         MOV     A,#0x22
   \   000149   12....       LCALL   ?XSTACK_DISP0_8
   \   00014C   E0           MOVX    A,@DPTR
   \   00014D   F8           MOV     R0,A
   \   00014E   A3           INC     DPTR
   \   00014F   E0           MOVX    A,@DPTR
   \   000150   F583         MOV     DPH,A
   \   000152   8882         MOV     DPL,R0
   \   000154   E0           MOVX    A,@DPTR
   \   000155   600F         JZ      ??MQTT_UnPacketPublish_5
   \   000157   14           DEC     A
   \   000158   7003         JNZ     $+5
   \   00015A   02....       LJMP    ??MQTT_UnPacketPublish_6 & 0xFFFF
   \   00015D   14           DEC     A
   \   00015E   7003         JNZ     $+5
   \   000160   02....       LJMP    ??MQTT_UnPacketPublish_6 & 0xFFFF
   \   000163   02....       LJMP    ??MQTT_UnPacketPublish_7 & 0xFFFF
    913          	{
    914          		case MQTT_QOS_LEVEL0:									// qos0 have no packet identifier
    915          			
    916          			if(0 != dup)
   \                     ??MQTT_UnPacketPublish_5:
   \   000166   E5..         MOV     A,?V0 + 13
   \   000168   6005         JZ      ??MQTT_UnPacketPublish_8
    917          				return 255;
   \   00016A   79FF         MOV     R1,#-0x1
   \   00016C   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    918          
    919          			if((topic == NULL) || (*topic_len)>MAX_CMDID_TOPIC_LEN)
   \                     ??MQTT_UnPacketPublish_8:
   \   00016F   E5..         MOV     A,?V0 + 2
   \   000171   45..         ORL     A,?V0 + 3
   \   000173   600E         JZ      ??MQTT_UnPacketPublish_9
   \   000175   8E82         MOV     DPL,R6
   \   000177   8F83         MOV     DPH,R7
   \   000179   C3           CLR     C
   \   00017A   E0           MOVX    A,@DPTR
   \   00017B   9447         SUBB    A,#0x47
   \   00017D   A3           INC     DPTR
   \   00017E   E0           MOVX    A,@DPTR
   \   00017F   9400         SUBB    A,#0x0
   \   000181   400C         JC      ??MQTT_UnPacketPublish_10
    920                {
    921                  debug("UnPacketPublish 11.\r\n");
   \                     ??MQTT_UnPacketPublish_9:
   \   000183                ; Setup parameters for call to function debug
   \   000183   7A..         MOV     R2,#`?<Constant "UnPacketPublish 11.\\r\\n">` & 0xff
   \   000185   7B..         MOV     R3,#(`?<Constant "UnPacketPublish 11.\\r\\n">` >> 8) & 0xff
   \   000187   12....       LCALL   ??debug?relay
    922          			  return 255;
   \   00018A   79FF         MOV     R1,#-0x1
   \   00018C   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    923                }
    924          			memset(topic, 0, *topic_len + 1);
   \                     ??MQTT_UnPacketPublish_10:
   \   00018F                ; Setup parameters for call to function memset
   \   00018F   8E82         MOV     DPL,R6
   \   000191   8F83         MOV     DPH,R7
   \   000193   E0           MOVX    A,@DPTR
   \   000194   2401         ADD     A,#0x1
   \   000196   F5..         MOV     ?V0 + 4,A
   \   000198   A3           INC     DPTR
   \   000199   E0           MOVX    A,@DPTR
   \   00019A   3400         ADDC    A,#0x0
   \   00019C   F5..         MOV     ?V0 + 5,A
   \   00019E   78..         MOV     R0,#?V0 + 4
   \   0001A0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001A3   7C00         MOV     R4,#0x0
   \   0001A5   7D00         MOV     R5,#0x0
   \   0001A7   AA..         MOV     R2,?V0 + 2
   \   0001A9   AB..         MOV     R3,?V0 + 3
   \   0001AB   12....       LCALL   ??memset?relay
   \   0001AE   7402         MOV     A,#0x2
   \   0001B0   12....       LCALL   ?DEALLOC_XSTACK8
    925          			memcpy(topic, (int8 *)msgPtr + 2, *topic_len);		//复制数据
   \   0001B3                ; Setup parameters for call to function memcpy
   \   0001B3   8E82         MOV     DPL,R6
   \   0001B5   8F83         MOV     DPH,R7
   \   0001B7   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0001BA   E5..         MOV     A,?V0 + 0
   \   0001BC   2402         ADD     A,#0x2
   \   0001BE   FC           MOV     R4,A
   \   0001BF   E5..         MOV     A,?V0 + 1
   \   0001C1   3400         ADDC    A,#0x0
   \   0001C3   FD           MOV     R5,A
   \   0001C4   AA..         MOV     R2,?V0 + 2
   \   0001C6   AB..         MOV     R3,?V0 + 3
   \   0001C8   12....       LCALL   ??memcpy?relay
   \   0001CB   7402         MOV     A,#0x2
   \   0001CD   12....       LCALL   ?DEALLOC_XSTACK8
    926          			
    927          			*payload_len = remain_len - 2 - *topic_len;			//为payload分配内存
   \   0001D0   85..82       MOV     DPL,?XSP + 0
   \   0001D3   85..83       MOV     DPH,?XSP + 1
   \   0001D6   78..         MOV     R0,#?V0 + 4
   \   0001D8   12....       LCALL   ?L_MOV_X
   \   0001DB   E5..         MOV     A,?V0 + 4
   \   0001DD   24FE         ADD     A,#-0x2
   \   0001DF   FA           MOV     R2,A
   \   0001E0   E5..         MOV     A,?V0 + 5
   \   0001E2   34FF         ADDC    A,#-0x1
   \   0001E4   FB           MOV     R3,A
   \   0001E5   8E82         MOV     DPL,R6
   \   0001E7   8F83         MOV     DPH,R7
   \   0001E9   E0           MOVX    A,@DPTR
   \   0001EA   F8           MOV     R0,A
   \   0001EB   A3           INC     DPTR
   \   0001EC   E0           MOVX    A,@DPTR
   \   0001ED   F9           MOV     R1,A
   \   0001EE   EA           MOV     A,R2
   \   0001EF   C3           CLR     C
   \   0001F0   98           SUBB    A,R0
   \   0001F1   F8           MOV     R0,A
   \   0001F2   EB           MOV     A,R3
   \   0001F3   99           SUBB    A,R1
   \   0001F4   F9           MOV     R1,A
   \   0001F5   85..82       MOV     DPL,?V0 + 8
   \   0001F8   85..83       MOV     DPH,?V0 + 9
   \   0001FB   E8           MOV     A,R0
   \   0001FC   F0           MOVX    @DPTR,A
   \   0001FD   A3           INC     DPTR
   \   0001FE   E9           MOV     A,R1
   \   0001FF   F0           MOVX    @DPTR,A
    928          			if((payload == NULL) || (*payload_len)>MAX_REQ_PAYLOAD_LEN)//如果失败
   \   000200   E5..         MOV     A,?V0 + 10
   \   000202   45..         ORL     A,?V0 + 11
   \   000204   6010         JZ      ??MQTT_UnPacketPublish_11
   \   000206   85..82       MOV     DPL,?V0 + 8
   \   000209   85..83       MOV     DPH,?V0 + 9
   \   00020C   C3           CLR     C
   \   00020D   E0           MOVX    A,@DPTR
   \   00020E   9497         SUBB    A,#-0x69
   \   000210   A3           INC     DPTR
   \   000211   E0           MOVX    A,@DPTR
   \   000212   9400         SUBB    A,#0x0
   \   000214   400C         JC      ??MQTT_UnPacketPublish_12
    929          			{
    930                  debug("UnPacketPublish 22.\r\n");
   \                     ??MQTT_UnPacketPublish_11:
   \   000216                ; Setup parameters for call to function debug
   \   000216   7A..         MOV     R2,#`?<Constant "UnPacketPublish 22.\\r\\n">` & 0xff
   \   000218   7B..         MOV     R3,#(`?<Constant "UnPacketPublish 22.\\r\\n">` >> 8) & 0xff
   \   00021A   12....       LCALL   ??debug?relay
    931          				return 255;
   \   00021D   79FF         MOV     R1,#-0x1
   \   00021F   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    932          			}
    933          			
    934          			memset(payload, 0, *payload_len + 1);
   \                     ??MQTT_UnPacketPublish_12:
   \   000222                ; Setup parameters for call to function memset
   \   000222   85..82       MOV     DPL,?V0 + 8
   \   000225   85..83       MOV     DPH,?V0 + 9
   \   000228   E0           MOVX    A,@DPTR
   \   000229   2401         ADD     A,#0x1
   \   00022B   F5..         MOV     ?V0 + 4,A
   \   00022D   A3           INC     DPTR
   \   00022E   E0           MOVX    A,@DPTR
   \   00022F   3400         ADDC    A,#0x0
   \   000231   F5..         MOV     ?V0 + 5,A
   \   000233   78..         MOV     R0,#?V0 + 4
   \   000235   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000238   7C00         MOV     R4,#0x0
   \   00023A   7D00         MOV     R5,#0x0
   \   00023C   AA..         MOV     R2,?V0 + 10
   \   00023E   AB..         MOV     R3,?V0 + 11
   \   000240   12....       LCALL   ??memset?relay
   \   000243   7402         MOV     A,#0x2
   \   000245   12....       LCALL   ?DEALLOC_XSTACK8
    935          			memcpy(payload, (int8 *)msgPtr + 2 + *topic_len, *payload_len);
   \   000248                ; Setup parameters for call to function memcpy
   \   000248   85..82       MOV     DPL,?V0 + 8
   \   00024B   85..83       MOV     DPH,?V0 + 9
   \   00024E   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000251   8E82         MOV     DPL,R6
   \   000253   8F83         MOV     DPH,R7
   \   000255   E0           MOVX    A,@DPTR
   \   000256   F8           MOV     R0,A
   \   000257   A3           INC     DPTR
   \   000258   E0           MOVX    A,@DPTR
   \   000259   F9           MOV     R1,A
   \   00025A   E5..         MOV     A,?V0 + 0
   \   00025C   28           ADD     A,R0
   \   00025D   F8           MOV     R0,A
   \   00025E   E5..         MOV     A,?V0 + 1
   \   000260   39           ADDC    A,R1
   \   000261   F9           MOV     R1,A
   \   000262   E8           MOV     A,R0
   \   000263   2402         ADD     A,#0x2
   \   000265   FC           MOV     R4,A
   \   000266   E9           MOV     A,R1
   \   000267   3400         ADDC    A,#0x0
   \   000269   FD           MOV     R5,A
   \   00026A   AA..         MOV     R2,?V0 + 10
   \   00026C   AB..         MOV     R3,?V0 + 11
   \   00026E   12....       LCALL   ??memcpy?relay
   \   000271   7402         MOV     A,#0x2
   \   000273   12....       LCALL   ?DEALLOC_XSTACK8
    936          			
    937          		break;
   \   000276   02....       LJMP    ??MQTT_UnPacketPublish_13 & 0xFFFF
    938          
    939          		case MQTT_QOS_LEVEL1:
    940          		case MQTT_QOS_LEVEL2:
    941          			
    942          			if(*topic_len + 2 > remain_len)
   \                     ??MQTT_UnPacketPublish_6:
   \   000279   85..82       MOV     DPL,?XSP + 0
   \   00027C   85..83       MOV     DPH,?XSP + 1
   \   00027F   C082         PUSH    DPL
   \   000281   C083         PUSH    DPH
   \   000283   8E82         MOV     DPL,R6
   \   000285   8F83         MOV     DPH,R7
   \   000287   E0           MOVX    A,@DPTR
   \   000288   2402         ADD     A,#0x2
   \   00028A   F5..         MOV     ?V0 + 4,A
   \   00028C   A3           INC     DPTR
   \   00028D   E0           MOVX    A,@DPTR
   \   00028E   3400         ADDC    A,#0x0
   \   000290   F5..         MOV     ?V0 + 5,A
   \   000292   E4           CLR     A
   \   000293   F5..         MOV     ?V0 + 6,A
   \   000295   F5..         MOV     ?V0 + 7,A
   \   000297   D083         POP     DPH
   \   000299   D082         POP     DPL
   \   00029B   78..         MOV     R0,#?V0 + 4
   \   00029D   12....       LCALL   ?UL_GT_X
   \   0002A0   5005         JNC     ??MQTT_UnPacketPublish_14
    943          				return 255;
   \   0002A2   79FF         MOV     R1,#-0x1
   \   0002A4   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    944          			
    945          			*pkt_id = (uint16)msgPtr[*topic_len + 2] << 8 | msgPtr[*topic_len + 3];
   \                     ??MQTT_UnPacketPublish_14:
   \   0002A7   8E82         MOV     DPL,R6
   \   0002A9   8F83         MOV     DPH,R7
   \   0002AB   E0           MOVX    A,@DPTR
   \   0002AC   F8           MOV     R0,A
   \   0002AD   A3           INC     DPTR
   \   0002AE   E0           MOVX    A,@DPTR
   \   0002AF   F9           MOV     R1,A
   \   0002B0   E5..         MOV     A,?V0 + 0
   \   0002B2   28           ADD     A,R0
   \   0002B3   F582         MOV     DPL,A
   \   0002B5   E5..         MOV     A,?V0 + 1
   \   0002B7   39           ADDC    A,R1
   \   0002B8   F583         MOV     DPH,A
   \   0002BA   A3           INC     DPTR
   \   0002BB   A3           INC     DPTR
   \   0002BC   E0           MOVX    A,@DPTR
   \   0002BD   FA           MOV     R2,A
   \   0002BE   7B00         MOV     R3,#0x0
   \   0002C0   E4           CLR     A
   \   0002C1   CA           XCH     A,R2
   \   0002C2   FB           MOV     R3,A
   \   0002C3   8E82         MOV     DPL,R6
   \   0002C5   8F83         MOV     DPH,R7
   \   0002C7   E0           MOVX    A,@DPTR
   \   0002C8   F8           MOV     R0,A
   \   0002C9   A3           INC     DPTR
   \   0002CA   E0           MOVX    A,@DPTR
   \   0002CB   F9           MOV     R1,A
   \   0002CC   E5..         MOV     A,?V0 + 0
   \   0002CE   28           ADD     A,R0
   \   0002CF   F582         MOV     DPL,A
   \   0002D1   E5..         MOV     A,?V0 + 1
   \   0002D3   39           ADDC    A,R1
   \   0002D4   F583         MOV     DPH,A
   \   0002D6   A3           INC     DPTR
   \   0002D7   A3           INC     DPTR
   \   0002D8   A3           INC     DPTR
   \   0002D9   E0           MOVX    A,@DPTR
   \   0002DA   F8           MOV     R0,A
   \   0002DB   7900         MOV     R1,#0x0
   \   0002DD   EA           MOV     A,R2
   \   0002DE   48           ORL     A,R0
   \   0002DF   FA           MOV     R2,A
   \   0002E0   EB           MOV     A,R3
   \   0002E1   49           ORL     A,R1
   \   0002E2   FB           MOV     R3,A
   \   0002E3   7424         MOV     A,#0x24
   \   0002E5   12....       LCALL   ?XSTACK_DISP0_8
   \   0002E8   E0           MOVX    A,@DPTR
   \   0002E9   F8           MOV     R0,A
   \   0002EA   A3           INC     DPTR
   \   0002EB   E0           MOVX    A,@DPTR
   \   0002EC   F583         MOV     DPH,A
   \   0002EE   8882         MOV     DPL,R0
   \   0002F0   EA           MOV     A,R2
   \   0002F1   F0           MOVX    @DPTR,A
   \   0002F2   A3           INC     DPTR
   \   0002F3   EB           MOV     A,R3
   \   0002F4   F0           MOVX    @DPTR,A
    946          			if(pkt_id == 0)
   \   0002F5   7424         MOV     A,#0x24
   \   0002F7   12....       LCALL   ?XSTACK_DISP0_8
   \   0002FA   E0           MOVX    A,@DPTR
   \   0002FB   F8           MOV     R0,A
   \   0002FC   A3           INC     DPTR
   \   0002FD   E0           MOVX    A,@DPTR
   \   0002FE   F9           MOV     R1,A
   \   0002FF   E8           MOV     A,R0
   \   000300   49           ORL     A,R1
   \   000301   7005         JNZ     ??MQTT_UnPacketPublish_15
    947          				return 255;
   \   000303   79FF         MOV     R1,#-0x1
   \   000305   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    948          			
    949          			//*topic = MQTT_MallocBuffer(*topic_len + 1);			//为topic分配内存
    950          			if((topic == NULL) && (*topic_len)>MAX_CMDID_TOPIC_LEN)
   \                     ??MQTT_UnPacketPublish_15:
   \   000308   E5..         MOV     A,?V0 + 2
   \   00030A   45..         ORL     A,?V0 + 3
   \   00030C   701A         JNZ     ??MQTT_UnPacketPublish_16
   \   00030E   8E82         MOV     DPL,R6
   \   000310   8F83         MOV     DPH,R7
   \   000312   C3           CLR     C
   \   000313   E0           MOVX    A,@DPTR
   \   000314   9447         SUBB    A,#0x47
   \   000316   A3           INC     DPTR
   \   000317   E0           MOVX    A,@DPTR
   \   000318   9400         SUBB    A,#0x0
   \   00031A   400C         JC      ??MQTT_UnPacketPublish_16
    951                {     
    952                  debug("UnPacketPublish 33.\r\n");
   \   00031C                ; Setup parameters for call to function debug
   \   00031C   7A..         MOV     R2,#`?<Constant "UnPacketPublish 33.\\r\\n">` & 0xff
   \   00031E   7B..         MOV     R3,#(`?<Constant "UnPacketPublish 33.\\r\\n">` >> 8) & 0xff
   \   000320   12....       LCALL   ??debug?relay
    953          				return 255;
   \   000323   79FF         MOV     R1,#-0x1
   \   000325   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    954                }
    955                
    956          			memset(topic, 0, *topic_len + 1);
   \                     ??MQTT_UnPacketPublish_16:
   \   000328                ; Setup parameters for call to function memset
   \   000328   8E82         MOV     DPL,R6
   \   00032A   8F83         MOV     DPH,R7
   \   00032C   E0           MOVX    A,@DPTR
   \   00032D   2401         ADD     A,#0x1
   \   00032F   F5..         MOV     ?V0 + 4,A
   \   000331   A3           INC     DPTR
   \   000332   E0           MOVX    A,@DPTR
   \   000333   3400         ADDC    A,#0x0
   \   000335   F5..         MOV     ?V0 + 5,A
   \   000337   78..         MOV     R0,#?V0 + 4
   \   000339   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00033C   7C00         MOV     R4,#0x0
   \   00033E   7D00         MOV     R5,#0x0
   \   000340   AA..         MOV     R2,?V0 + 2
   \   000342   AB..         MOV     R3,?V0 + 3
   \   000344   12....       LCALL   ??memset?relay
   \   000347   7402         MOV     A,#0x2
   \   000349   12....       LCALL   ?DEALLOC_XSTACK8
    957          			memcpy(topic, (int8 *)msgPtr + 2, *topic_len);		//复制数据
   \   00034C                ; Setup parameters for call to function memcpy
   \   00034C   8E82         MOV     DPL,R6
   \   00034E   8F83         MOV     DPH,R7
   \   000350   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000353   E5..         MOV     A,?V0 + 0
   \   000355   2402         ADD     A,#0x2
   \   000357   FC           MOV     R4,A
   \   000358   E5..         MOV     A,?V0 + 1
   \   00035A   3400         ADDC    A,#0x0
   \   00035C   FD           MOV     R5,A
   \   00035D   AA..         MOV     R2,?V0 + 2
   \   00035F   AB..         MOV     R3,?V0 + 3
   \   000361   12....       LCALL   ??memcpy?relay
   \   000364   7402         MOV     A,#0x2
   \   000366   12....       LCALL   ?DEALLOC_XSTACK8
    958          			
    959          			*payload_len = remain_len - 4 - *topic_len;
   \   000369   85..82       MOV     DPL,?XSP + 0
   \   00036C   85..83       MOV     DPH,?XSP + 1
   \   00036F   78..         MOV     R0,#?V0 + 4
   \   000371   12....       LCALL   ?L_MOV_X
   \   000374   E5..         MOV     A,?V0 + 4
   \   000376   24FC         ADD     A,#-0x4
   \   000378   FA           MOV     R2,A
   \   000379   E5..         MOV     A,?V0 + 5
   \   00037B   34FF         ADDC    A,#-0x1
   \   00037D   FB           MOV     R3,A
   \   00037E   8E82         MOV     DPL,R6
   \   000380   8F83         MOV     DPH,R7
   \   000382   E0           MOVX    A,@DPTR
   \   000383   F8           MOV     R0,A
   \   000384   A3           INC     DPTR
   \   000385   E0           MOVX    A,@DPTR
   \   000386   F9           MOV     R1,A
   \   000387   EA           MOV     A,R2
   \   000388   C3           CLR     C
   \   000389   98           SUBB    A,R0
   \   00038A   F8           MOV     R0,A
   \   00038B   EB           MOV     A,R3
   \   00038C   99           SUBB    A,R1
   \   00038D   F9           MOV     R1,A
   \   00038E   85..82       MOV     DPL,?V0 + 8
   \   000391   85..83       MOV     DPH,?V0 + 9
   \   000394   E8           MOV     A,R0
   \   000395   F0           MOVX    @DPTR,A
   \   000396   A3           INC     DPTR
   \   000397   E9           MOV     A,R1
   \   000398   F0           MOVX    @DPTR,A
    960          			if((payload == NULL) || (*payload_len>MAX_REQ_PAYLOAD_LEN))								//如果失败
   \   000399   E5..         MOV     A,?V0 + 10
   \   00039B   45..         ORL     A,?V0 + 11
   \   00039D   6010         JZ      ??MQTT_UnPacketPublish_17
   \   00039F   85..82       MOV     DPL,?V0 + 8
   \   0003A2   85..83       MOV     DPH,?V0 + 9
   \   0003A5   C3           CLR     C
   \   0003A6   E0           MOVX    A,@DPTR
   \   0003A7   9497         SUBB    A,#-0x69
   \   0003A9   A3           INC     DPTR
   \   0003AA   E0           MOVX    A,@DPTR
   \   0003AB   9400         SUBB    A,#0x0
   \   0003AD   400C         JC      ??MQTT_UnPacketPublish_18
    961          			{
    962                  debug("UnPacketPublish 44.\r\n");
   \                     ??MQTT_UnPacketPublish_17:
   \   0003AF                ; Setup parameters for call to function debug
   \   0003AF   7A..         MOV     R2,#`?<Constant "UnPacketPublish 44.\\r\\n">` & 0xff
   \   0003B1   7B..         MOV     R3,#(`?<Constant "UnPacketPublish 44.\\r\\n">` >> 8) & 0xff
   \   0003B3   12....       LCALL   ??debug?relay
    963          				return 255;
   \   0003B6   79FF         MOV     R1,#-0x1
   \   0003B8   02....       LJMP    ??MQTT_UnPacketPublish_2 & 0xFFFF
    964          			}
    965          			
    966          			memset(payload, 0, *payload_len + 1);
   \                     ??MQTT_UnPacketPublish_18:
   \   0003BB                ; Setup parameters for call to function memset
   \   0003BB   85..82       MOV     DPL,?V0 + 8
   \   0003BE   85..83       MOV     DPH,?V0 + 9
   \   0003C1   E0           MOVX    A,@DPTR
   \   0003C2   2401         ADD     A,#0x1
   \   0003C4   F5..         MOV     ?V0 + 4,A
   \   0003C6   A3           INC     DPTR
   \   0003C7   E0           MOVX    A,@DPTR
   \   0003C8   3400         ADDC    A,#0x0
   \   0003CA   F5..         MOV     ?V0 + 5,A
   \   0003CC   78..         MOV     R0,#?V0 + 4
   \   0003CE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003D1   7C00         MOV     R4,#0x0
   \   0003D3   7D00         MOV     R5,#0x0
   \   0003D5   AA..         MOV     R2,?V0 + 10
   \   0003D7   AB..         MOV     R3,?V0 + 11
   \   0003D9   12....       LCALL   ??memset?relay
   \   0003DC   7402         MOV     A,#0x2
   \   0003DE   12....       LCALL   ?DEALLOC_XSTACK8
    967          			memcpy(payload, (int8 *)msgPtr + 4 + *topic_len, *payload_len);
   \   0003E1                ; Setup parameters for call to function memcpy
   \   0003E1   85..82       MOV     DPL,?V0 + 8
   \   0003E4   85..83       MOV     DPH,?V0 + 9
   \   0003E7   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0003EA   8E82         MOV     DPL,R6
   \   0003EC   8F83         MOV     DPH,R7
   \   0003EE   E0           MOVX    A,@DPTR
   \   0003EF   F8           MOV     R0,A
   \   0003F0   A3           INC     DPTR
   \   0003F1   E0           MOVX    A,@DPTR
   \   0003F2   F9           MOV     R1,A
   \   0003F3   E5..         MOV     A,?V0 + 0
   \   0003F5   28           ADD     A,R0
   \   0003F6   F8           MOV     R0,A
   \   0003F7   E5..         MOV     A,?V0 + 1
   \   0003F9   39           ADDC    A,R1
   \   0003FA   F9           MOV     R1,A
   \   0003FB   E8           MOV     A,R0
   \   0003FC   2404         ADD     A,#0x4
   \   0003FE   FC           MOV     R4,A
   \   0003FF   E9           MOV     A,R1
   \   000400   3400         ADDC    A,#0x0
   \   000402   FD           MOV     R5,A
   \   000403   AA..         MOV     R2,?V0 + 10
   \   000405   AB..         MOV     R3,?V0 + 11
   \   000407   12....       LCALL   ??memcpy?relay
   \   00040A   7402         MOV     A,#0x2
   \   00040C   12....       LCALL   ?DEALLOC_XSTACK8
    968          			
    969          		break;
   \   00040F   8004         SJMP    ??MQTT_UnPacketPublish_13
    970          
    971          		default:
    972          			return 255;
   \                     ??MQTT_UnPacketPublish_7:
   \   000411   79FF         MOV     R1,#-0x1
   \   000413   8030         SJMP    ??MQTT_UnPacketPublish_2
    973          	}
    974          	
    975          	if(strchr((int8 *)topic, '+') || strchr((int8 *)topic, '#'))
                 	          ^
Warning[Pe167]: argument of type "int8 *" is incompatible with parameter of
          type "char const *"

  	if(strchr((int8 *)topic, '+') || strchr((int8 *)topic, '#'))
  	                                        ^
"e:\imtht\Documents\Code\Zigbee\ZStack-2.5.1a\Projects\zstack\Samples\SampleApp\Source\MqttKit.c",975  Warning[Pe167]: 
          argument of type "int8 *" is incompatible with parameter of type
          "char const *"
   \                     ??MQTT_UnPacketPublish_13:
   \   000415                ; Setup parameters for call to function strchr
   \   000415   7C2B         MOV     R4,#0x2b
   \   000417   7D00         MOV     R5,#0x0
   \   000419   AA..         MOV     R2,?V0 + 2
   \   00041B   AB..         MOV     R3,?V0 + 3
   \   00041D   12....       LCALL   ??strchr?relay
   \   000420   8A..         MOV     ?V0 + 4,R2
   \   000422   8B..         MOV     ?V0 + 5,R3
   \   000424   E5..         MOV     A,?V0 + 4
   \   000426   45..         ORL     A,?V0 + 5
   \   000428   7015         JNZ     ??MQTT_UnPacketPublish_19
   \   00042A                ; Setup parameters for call to function strchr
   \   00042A   7C23         MOV     R4,#0x23
   \   00042C   7D00         MOV     R5,#0x0
   \   00042E   AA..         MOV     R2,?V0 + 2
   \   000430   AB..         MOV     R3,?V0 + 3
   \   000432   12....       LCALL   ??strchr?relay
   \   000435   8A..         MOV     ?V0 + 4,R2
   \   000437   8B..         MOV     ?V0 + 5,R3
   \   000439   E5..         MOV     A,?V0 + 4
   \   00043B   45..         ORL     A,?V0 + 5
   \   00043D   6004         JZ      ??MQTT_UnPacketPublish_20
    976          		return 255;
   \                     ??MQTT_UnPacketPublish_19:
   \   00043F   79FF         MOV     R1,#-0x1
   \   000441   8002         SJMP    ??MQTT_UnPacketPublish_2
    977          
    978          	return 0;
   \                     ??MQTT_UnPacketPublish_20:
   \   000443   7900         MOV     R1,#0x0
   \                     ??MQTT_UnPacketPublish_2:
   \   000445   7404         MOV     A,#0x4
   \   000447   12....       LCALL   ?DEALLOC_XSTACK8
   \   00044A   7F10         MOV     R7,#0x10
   \   00044C   02....       LJMP    ?BANKED_LEAVE_XDATA
    979          
    980          }
    981          
    982          //==========================================================
    983          //	函数名称：	MQTT_PacketPublishAck
    984          //
    985          //	函数功能：	Publish Ack消息组包
    986          //
    987          //	入口参数：	pkt_id：packet id
    988          //				mqttPacket：包指针
    989          //
    990          //	返回参数：	0-成功		1-失败原因
    991          //
    992          //	说明：		当收到的Publish消息的QoS等级为1时，需要Ack回复
    993          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    994          uint1 MQTT_PacketPublishAck(uint16 pkt_id, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketPublishAck:
    995          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
    996          
    997          	MQTT_NewBuffer(mqttPacket, 4);
   \   00000D                ; Setup parameters for call to function MQTT_NewBuffer
   \   00000D   90....       MOV     DPTR,#__Constant_4
   \   000010   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000013   EE           MOV     A,R6
   \   000014   FA           MOV     R2,A
   \   000015   EF           MOV     A,R7
   \   000016   FB           MOV     R3,A
   \   000017   12....       LCALL   ??MQTT_NewBuffer?relay
   \   00001A   7404         MOV     A,#0x4
   \   00001C   12....       LCALL   ?DEALLOC_XSTACK8
    998          	if(mqttPacket->_data == NULL)
   \   00001F   8E82         MOV     DPL,R6
   \   000021   8F83         MOV     DPH,R7
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F8           MOV     R0,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F9           MOV     R1,A
   \   000028   E8           MOV     A,R0
   \   000029   49           ORL     A,R1
   \   00002A   7005         JNZ     ??MQTT_PacketPublishAck_0
    999          		return 1;
   \   00002C   7901         MOV     R1,#0x1
   \   00002E   02....       LJMP    ??MQTT_PacketPublishAck_1 & 0xFFFF
   1000          	
   1001          /*************************************固定头部***********************************************/
   1002          	
   1003          	//固定头部----------------------头部消息-------------------------------------------------
   1004          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_PUBACK << 4;
   \                     ??MQTT_PacketPublishAck_0:
   \   000031   8E82         MOV     DPL,R6
   \   000033   8F83         MOV     DPH,R7
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   78..         MOV     R0,#?V0 + 4
   \   000039   12....       LCALL   ?L_MOV_X
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   E0           MOVX    A,@DPTR
   \   000041   25..         ADD     A,?V0 + 4
   \   000043   F8           MOV     R0,A
   \   000044   A3           INC     DPTR
   \   000045   E0           MOVX    A,@DPTR
   \   000046   35..         ADDC    A,?V0 + 5
   \   000048   8882         MOV     DPL,R0
   \   00004A   F583         MOV     DPH,A
   \   00004C   7440         MOV     A,#0x40
   \   00004E   F0           MOVX    @DPTR,A
   \   00004F   90....       MOV     DPTR,#__Constant_1
   \   000052   78..         MOV     R0,#?V0 + 4
   \   000054   12....       LCALL   ?L_MOV_X
   \   000057   8E82         MOV     DPL,R6
   \   000059   8F83         MOV     DPH,R7
   \   00005B   A3           INC     DPTR
   \   00005C   A3           INC     DPTR
   \   00005D   78..         MOV     R0,#?V0 + 4
   \   00005F   12....       LCALL   ?L_ADD_TO_X
   1005          	
   1006          	//固定头部----------------------剩余长度-------------------------------------------------
   1007          	mqttPacket->_data[mqttPacket->_len++] = 2;
   \   000062   8E82         MOV     DPL,R6
   \   000064   8F83         MOV     DPH,R7
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   78..         MOV     R0,#?V0 + 4
   \   00006A   12....       LCALL   ?L_MOV_X
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   E0           MOVX    A,@DPTR
   \   000072   25..         ADD     A,?V0 + 4
   \   000074   F8           MOV     R0,A
   \   000075   A3           INC     DPTR
   \   000076   E0           MOVX    A,@DPTR
   \   000077   35..         ADDC    A,?V0 + 5
   \   000079   8882         MOV     DPL,R0
   \   00007B   F583         MOV     DPH,A
   \   00007D   7402         MOV     A,#0x2
   \   00007F   F0           MOVX    @DPTR,A
   \   000080   90....       MOV     DPTR,#__Constant_1
   \   000083   78..         MOV     R0,#?V0 + 4
   \   000085   12....       LCALL   ?L_MOV_X
   \   000088   8E82         MOV     DPL,R6
   \   00008A   8F83         MOV     DPH,R7
   \   00008C   A3           INC     DPTR
   \   00008D   A3           INC     DPTR
   \   00008E   78..         MOV     R0,#?V0 + 4
   \   000090   12....       LCALL   ?L_ADD_TO_X
   1008          	
   1009          /*************************************可变头部***********************************************/
   1010          	
   1011          	//可变头部----------------------pkt_id长度-----------------------------------------------
   1012          	mqttPacket->_data[mqttPacket->_len++] = pkt_id >> 8;
   \   000093   A8..         MOV     R0,?V0 + 0
   \   000095   A9..         MOV     R1,?V0 + 1
   \   000097   E4           CLR     A
   \   000098   E5..         MOV     A,?V0 + 1
   \   00009A   A8..         MOV     R0,?V0 + 1
   \   00009C   E5..         MOV     A,?V0 + 1
   \   00009E   8E82         MOV     DPL,R6
   \   0000A0   8F83         MOV     DPH,R7
   \   0000A2   A3           INC     DPTR
   \   0000A3   A3           INC     DPTR
   \   0000A4   78..         MOV     R0,#?V0 + 4
   \   0000A6   12....       LCALL   ?L_MOV_X
   \   0000A9   8E82         MOV     DPL,R6
   \   0000AB   8F83         MOV     DPH,R7
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   25..         ADD     A,?V0 + 4
   \   0000B0   F8           MOV     R0,A
   \   0000B1   A3           INC     DPTR
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   35..         ADDC    A,?V0 + 5
   \   0000B5   8882         MOV     DPL,R0
   \   0000B7   F583         MOV     DPH,A
   \   0000B9   E5..         MOV     A,?V0 + 1
   \   0000BB   F0           MOVX    @DPTR,A
   \   0000BC   90....       MOV     DPTR,#__Constant_1
   \   0000BF   78..         MOV     R0,#?V0 + 4
   \   0000C1   12....       LCALL   ?L_MOV_X
   \   0000C4   8E82         MOV     DPL,R6
   \   0000C6   8F83         MOV     DPH,R7
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   78..         MOV     R0,#?V0 + 4
   \   0000CC   12....       LCALL   ?L_ADD_TO_X
   1013          	mqttPacket->_data[mqttPacket->_len++] = pkt_id & 0xff;
   \   0000CF   E5..         MOV     A,?V0 + 0
   \   0000D1   8E82         MOV     DPL,R6
   \   0000D3   8F83         MOV     DPH,R7
   \   0000D5   A3           INC     DPTR
   \   0000D6   A3           INC     DPTR
   \   0000D7   78..         MOV     R0,#?V0 + 4
   \   0000D9   12....       LCALL   ?L_MOV_X
   \   0000DC   8E82         MOV     DPL,R6
   \   0000DE   8F83         MOV     DPH,R7
   \   0000E0   E0           MOVX    A,@DPTR
   \   0000E1   25..         ADD     A,?V0 + 4
   \   0000E3   F8           MOV     R0,A
   \   0000E4   A3           INC     DPTR
   \   0000E5   E0           MOVX    A,@DPTR
   \   0000E6   35..         ADDC    A,?V0 + 5
   \   0000E8   8882         MOV     DPL,R0
   \   0000EA   F583         MOV     DPH,A
   \   0000EC   E5..         MOV     A,?V0 + 0
   \   0000EE   F0           MOVX    @DPTR,A
   \   0000EF   90....       MOV     DPTR,#__Constant_1
   \   0000F2   78..         MOV     R0,#?V0 + 4
   \   0000F4   12....       LCALL   ?L_MOV_X
   \   0000F7   8E82         MOV     DPL,R6
   \   0000F9   8F83         MOV     DPH,R7
   \   0000FB   A3           INC     DPTR
   \   0000FC   A3           INC     DPTR
   \   0000FD   78..         MOV     R0,#?V0 + 4
   \   0000FF   12....       LCALL   ?L_ADD_TO_X
   1014          	
   1015          	return 0;
   \   000102   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketPublishAck_1:
   \   000104   7F08         MOV     R7,#0x8
   \   000106   02....       LJMP    ?BANKED_LEAVE_XDATA
   1016          
   1017          }
   1018          
   1019          //==========================================================
   1020          //	函数名称：	MQTT_UnPacketPublishAck
   1021          //
   1022          //	函数功能：	Publish Ack消息解包
   1023          //
   1024          //	入口参数：	rev_data：收到的数据
   1025          //
   1026          //	返回参数：	0-成功		1-失败原因
   1027          //
   1028          //	说明：		
   1029          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1030          uint1 MQTT_UnPacketPublishAck(uint8 *rev_data)
   \                     MQTT_UnPacketPublishAck:
   1031          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1032          
   1033          	if(rev_data[1] != 2)
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   6402         XRL     A,#0x2
   \   00000C   6004         JZ      ??MQTT_UnPacketPublishAck_0
   1034          		return 1;
   \   00000E   7901         MOV     R1,#0x1
   \   000010   801B         SJMP    ??MQTT_UnPacketPublishAck_1
   1035          
   1036          	if(rev_data[2] == MOSQ_MSB(MQTT_PUBLISH_ID) && rev_data[3] == MOSQ_LSB(MQTT_PUBLISH_ID))
   \                     ??MQTT_UnPacketPublishAck_0:
   \   000012   8A82         MOV     DPL,R2
   \   000014   8B83         MOV     DPH,R3
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   7010         JNZ     ??MQTT_UnPacketPublishAck_2
   \   00001B   8A82         MOV     DPL,R2
   \   00001D   8B83         MOV     DPH,R3
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   640A         XRL     A,#0xa
   \   000025   7004         JNZ     ??MQTT_UnPacketPublishAck_2
   1037          		return 0;
   \   000027   7900         MOV     R1,#0x0
   \   000029   8002         SJMP    ??MQTT_UnPacketPublishAck_1
   1038          	else
   1039          		return 1;
   \                     ??MQTT_UnPacketPublishAck_2:
   \   00002B   7901         MOV     R1,#0x1
   \                     ??MQTT_UnPacketPublishAck_1:
   \   00002D   D083         POP     DPH
   \   00002F   D082         POP     DPL
   \   000031   02....       LJMP    ?BRET
   1040          
   1041          }
   1042          
   1043          //==========================================================
   1044          //	函数名称：	MQTT_PacketPublishRec
   1045          //
   1046          //	函数功能：	Publish Rec消息组包
   1047          //
   1048          //	入口参数：	pkt_id：packet id
   1049          //				mqttPacket：包指针
   1050          //
   1051          //	返回参数：	0-成功		1-失败原因
   1052          //
   1053          //	说明：		当收到的Publish消息的QoS等级为2时，先收到rec
   1054          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1055          uint1 MQTT_PacketPublishRec(uint16 pkt_id, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketPublishRec:
   1056          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
   1057          
   1058          	MQTT_NewBuffer(mqttPacket, 4);
   \   00000D                ; Setup parameters for call to function MQTT_NewBuffer
   \   00000D   90....       MOV     DPTR,#__Constant_4
   \   000010   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000013   EE           MOV     A,R6
   \   000014   FA           MOV     R2,A
   \   000015   EF           MOV     A,R7
   \   000016   FB           MOV     R3,A
   \   000017   12....       LCALL   ??MQTT_NewBuffer?relay
   \   00001A   7404         MOV     A,#0x4
   \   00001C   12....       LCALL   ?DEALLOC_XSTACK8
   1059          	if(mqttPacket->_data == NULL)
   \   00001F   8E82         MOV     DPL,R6
   \   000021   8F83         MOV     DPH,R7
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F8           MOV     R0,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F9           MOV     R1,A
   \   000028   E8           MOV     A,R0
   \   000029   49           ORL     A,R1
   \   00002A   7005         JNZ     ??MQTT_PacketPublishRec_0
   1060          		return 1;
   \   00002C   7901         MOV     R1,#0x1
   \   00002E   02....       LJMP    ??MQTT_PacketPublishRec_1 & 0xFFFF
   1061          	
   1062          /*************************************固定头部***********************************************/
   1063          	
   1064          	//固定头部----------------------头部消息-------------------------------------------------
   1065          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_PUBREC << 4;
   \                     ??MQTT_PacketPublishRec_0:
   \   000031   8E82         MOV     DPL,R6
   \   000033   8F83         MOV     DPH,R7
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   78..         MOV     R0,#?V0 + 4
   \   000039   12....       LCALL   ?L_MOV_X
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   E0           MOVX    A,@DPTR
   \   000041   25..         ADD     A,?V0 + 4
   \   000043   F8           MOV     R0,A
   \   000044   A3           INC     DPTR
   \   000045   E0           MOVX    A,@DPTR
   \   000046   35..         ADDC    A,?V0 + 5
   \   000048   8882         MOV     DPL,R0
   \   00004A   F583         MOV     DPH,A
   \   00004C   7450         MOV     A,#0x50
   \   00004E   F0           MOVX    @DPTR,A
   \   00004F   90....       MOV     DPTR,#__Constant_1
   \   000052   78..         MOV     R0,#?V0 + 4
   \   000054   12....       LCALL   ?L_MOV_X
   \   000057   8E82         MOV     DPL,R6
   \   000059   8F83         MOV     DPH,R7
   \   00005B   A3           INC     DPTR
   \   00005C   A3           INC     DPTR
   \   00005D   78..         MOV     R0,#?V0 + 4
   \   00005F   12....       LCALL   ?L_ADD_TO_X
   1066          	
   1067          	//固定头部----------------------剩余长度-------------------------------------------------
   1068          	mqttPacket->_data[mqttPacket->_len++] = 2;
   \   000062   8E82         MOV     DPL,R6
   \   000064   8F83         MOV     DPH,R7
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   78..         MOV     R0,#?V0 + 4
   \   00006A   12....       LCALL   ?L_MOV_X
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   E0           MOVX    A,@DPTR
   \   000072   25..         ADD     A,?V0 + 4
   \   000074   F8           MOV     R0,A
   \   000075   A3           INC     DPTR
   \   000076   E0           MOVX    A,@DPTR
   \   000077   35..         ADDC    A,?V0 + 5
   \   000079   8882         MOV     DPL,R0
   \   00007B   F583         MOV     DPH,A
   \   00007D   7402         MOV     A,#0x2
   \   00007F   F0           MOVX    @DPTR,A
   \   000080   90....       MOV     DPTR,#__Constant_1
   \   000083   78..         MOV     R0,#?V0 + 4
   \   000085   12....       LCALL   ?L_MOV_X
   \   000088   8E82         MOV     DPL,R6
   \   00008A   8F83         MOV     DPH,R7
   \   00008C   A3           INC     DPTR
   \   00008D   A3           INC     DPTR
   \   00008E   78..         MOV     R0,#?V0 + 4
   \   000090   12....       LCALL   ?L_ADD_TO_X
   1069          	
   1070          /*************************************可变头部***********************************************/
   1071          	
   1072          	//可变头部----------------------pkt_id长度-----------------------------------------------
   1073          	mqttPacket->_data[mqttPacket->_len++] = pkt_id >> 8;
   \   000093   A8..         MOV     R0,?V0 + 0
   \   000095   A9..         MOV     R1,?V0 + 1
   \   000097   E4           CLR     A
   \   000098   E5..         MOV     A,?V0 + 1
   \   00009A   A8..         MOV     R0,?V0 + 1
   \   00009C   E5..         MOV     A,?V0 + 1
   \   00009E   8E82         MOV     DPL,R6
   \   0000A0   8F83         MOV     DPH,R7
   \   0000A2   A3           INC     DPTR
   \   0000A3   A3           INC     DPTR
   \   0000A4   78..         MOV     R0,#?V0 + 4
   \   0000A6   12....       LCALL   ?L_MOV_X
   \   0000A9   8E82         MOV     DPL,R6
   \   0000AB   8F83         MOV     DPH,R7
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   25..         ADD     A,?V0 + 4
   \   0000B0   F8           MOV     R0,A
   \   0000B1   A3           INC     DPTR
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   35..         ADDC    A,?V0 + 5
   \   0000B5   8882         MOV     DPL,R0
   \   0000B7   F583         MOV     DPH,A
   \   0000B9   E5..         MOV     A,?V0 + 1
   \   0000BB   F0           MOVX    @DPTR,A
   \   0000BC   90....       MOV     DPTR,#__Constant_1
   \   0000BF   78..         MOV     R0,#?V0 + 4
   \   0000C1   12....       LCALL   ?L_MOV_X
   \   0000C4   8E82         MOV     DPL,R6
   \   0000C6   8F83         MOV     DPH,R7
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   78..         MOV     R0,#?V0 + 4
   \   0000CC   12....       LCALL   ?L_ADD_TO_X
   1074          	mqttPacket->_data[mqttPacket->_len++] = pkt_id & 0xff;
   \   0000CF   E5..         MOV     A,?V0 + 0
   \   0000D1   8E82         MOV     DPL,R6
   \   0000D3   8F83         MOV     DPH,R7
   \   0000D5   A3           INC     DPTR
   \   0000D6   A3           INC     DPTR
   \   0000D7   78..         MOV     R0,#?V0 + 4
   \   0000D9   12....       LCALL   ?L_MOV_X
   \   0000DC   8E82         MOV     DPL,R6
   \   0000DE   8F83         MOV     DPH,R7
   \   0000E0   E0           MOVX    A,@DPTR
   \   0000E1   25..         ADD     A,?V0 + 4
   \   0000E3   F8           MOV     R0,A
   \   0000E4   A3           INC     DPTR
   \   0000E5   E0           MOVX    A,@DPTR
   \   0000E6   35..         ADDC    A,?V0 + 5
   \   0000E8   8882         MOV     DPL,R0
   \   0000EA   F583         MOV     DPH,A
   \   0000EC   E5..         MOV     A,?V0 + 0
   \   0000EE   F0           MOVX    @DPTR,A
   \   0000EF   90....       MOV     DPTR,#__Constant_1
   \   0000F2   78..         MOV     R0,#?V0 + 4
   \   0000F4   12....       LCALL   ?L_MOV_X
   \   0000F7   8E82         MOV     DPL,R6
   \   0000F9   8F83         MOV     DPH,R7
   \   0000FB   A3           INC     DPTR
   \   0000FC   A3           INC     DPTR
   \   0000FD   78..         MOV     R0,#?V0 + 4
   \   0000FF   12....       LCALL   ?L_ADD_TO_X
   1075          	
   1076          	return 0;
   \   000102   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketPublishRec_1:
   \   000104   7F08         MOV     R7,#0x8
   \   000106   02....       LJMP    ?BANKED_LEAVE_XDATA
   1077          
   1078          }
   1079          
   1080          //==========================================================
   1081          //	函数名称：	MQTT_UnPacketPublishRec
   1082          //
   1083          //	函数功能：	Publish Rec消息解包
   1084          //
   1085          //	入口参数：	rev_data：接收到的数据
   1086          //
   1087          //	返回参数：	0-成功		1-失败
   1088          //
   1089          //	说明：		
   1090          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1091          uint1 MQTT_UnPacketPublishRec(uint8 *rev_data)
   \                     MQTT_UnPacketPublishRec:
   1092          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1093          
   1094          	if(rev_data[1] != 2)
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   6402         XRL     A,#0x2
   \   00000C   6004         JZ      ??MQTT_UnPacketPublishRec_0
   1095          		return 1;
   \   00000E   7901         MOV     R1,#0x1
   \   000010   801B         SJMP    ??MQTT_UnPacketPublishRec_1
   1096          
   1097          	if(rev_data[2] == MOSQ_MSB(MQTT_PUBLISH_ID) && rev_data[3] == MOSQ_LSB(MQTT_PUBLISH_ID))
   \                     ??MQTT_UnPacketPublishRec_0:
   \   000012   8A82         MOV     DPL,R2
   \   000014   8B83         MOV     DPH,R3
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   7010         JNZ     ??MQTT_UnPacketPublishRec_2
   \   00001B   8A82         MOV     DPL,R2
   \   00001D   8B83         MOV     DPH,R3
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   640A         XRL     A,#0xa
   \   000025   7004         JNZ     ??MQTT_UnPacketPublishRec_2
   1098          		return 0;
   \   000027   7900         MOV     R1,#0x0
   \   000029   8002         SJMP    ??MQTT_UnPacketPublishRec_1
   1099          	else
   1100          		return 1;
   \                     ??MQTT_UnPacketPublishRec_2:
   \   00002B   7901         MOV     R1,#0x1
   \                     ??MQTT_UnPacketPublishRec_1:
   \   00002D   D083         POP     DPH
   \   00002F   D082         POP     DPL
   \   000031   02....       LJMP    ?BRET
   1101          
   1102          }
   1103          
   1104          //==========================================================
   1105          //	函数名称：	MQTT_PacketPublishRel
   1106          //
   1107          //	函数功能：	Publish Rel消息组包
   1108          //
   1109          //	入口参数：	pkt_id：packet id
   1110          //				mqttPacket：包指针
   1111          //
   1112          //	返回参数：	0-成功		1-失败原因
   1113          //
   1114          //	说明：		当收到的Publish消息的QoS等级为2时，先收到rec，再回复rel
   1115          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1116          uint1 MQTT_PacketPublishRel(uint16 pkt_id, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketPublishRel:
   1117          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
   1118          
   1119          	MQTT_NewBuffer(mqttPacket, 4);
   \   00000D                ; Setup parameters for call to function MQTT_NewBuffer
   \   00000D   90....       MOV     DPTR,#__Constant_4
   \   000010   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000013   EE           MOV     A,R6
   \   000014   FA           MOV     R2,A
   \   000015   EF           MOV     A,R7
   \   000016   FB           MOV     R3,A
   \   000017   12....       LCALL   ??MQTT_NewBuffer?relay
   \   00001A   7404         MOV     A,#0x4
   \   00001C   12....       LCALL   ?DEALLOC_XSTACK8
   1120          	if(mqttPacket->_data == NULL)
   \   00001F   8E82         MOV     DPL,R6
   \   000021   8F83         MOV     DPH,R7
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F8           MOV     R0,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F9           MOV     R1,A
   \   000028   E8           MOV     A,R0
   \   000029   49           ORL     A,R1
   \   00002A   7005         JNZ     ??MQTT_PacketPublishRel_0
   1121          		return 1;
   \   00002C   7901         MOV     R1,#0x1
   \   00002E   02....       LJMP    ??MQTT_PacketPublishRel_1 & 0xFFFF
   1122          	
   1123          /*************************************固定头部***********************************************/
   1124          	
   1125          	//固定头部----------------------头部消息-------------------------------------------------
   1126          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_PUBREL << 4 | 0x02;
   \                     ??MQTT_PacketPublishRel_0:
   \   000031   8E82         MOV     DPL,R6
   \   000033   8F83         MOV     DPH,R7
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   78..         MOV     R0,#?V0 + 4
   \   000039   12....       LCALL   ?L_MOV_X
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   E0           MOVX    A,@DPTR
   \   000041   25..         ADD     A,?V0 + 4
   \   000043   F8           MOV     R0,A
   \   000044   A3           INC     DPTR
   \   000045   E0           MOVX    A,@DPTR
   \   000046   35..         ADDC    A,?V0 + 5
   \   000048   8882         MOV     DPL,R0
   \   00004A   F583         MOV     DPH,A
   \   00004C   7462         MOV     A,#0x62
   \   00004E   F0           MOVX    @DPTR,A
   \   00004F   90....       MOV     DPTR,#__Constant_1
   \   000052   78..         MOV     R0,#?V0 + 4
   \   000054   12....       LCALL   ?L_MOV_X
   \   000057   8E82         MOV     DPL,R6
   \   000059   8F83         MOV     DPH,R7
   \   00005B   A3           INC     DPTR
   \   00005C   A3           INC     DPTR
   \   00005D   78..         MOV     R0,#?V0 + 4
   \   00005F   12....       LCALL   ?L_ADD_TO_X
   1127          	
   1128          	//固定头部----------------------剩余长度-------------------------------------------------
   1129          	mqttPacket->_data[mqttPacket->_len++] = 2;
   \   000062   8E82         MOV     DPL,R6
   \   000064   8F83         MOV     DPH,R7
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   78..         MOV     R0,#?V0 + 4
   \   00006A   12....       LCALL   ?L_MOV_X
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   E0           MOVX    A,@DPTR
   \   000072   25..         ADD     A,?V0 + 4
   \   000074   F8           MOV     R0,A
   \   000075   A3           INC     DPTR
   \   000076   E0           MOVX    A,@DPTR
   \   000077   35..         ADDC    A,?V0 + 5
   \   000079   8882         MOV     DPL,R0
   \   00007B   F583         MOV     DPH,A
   \   00007D   7402         MOV     A,#0x2
   \   00007F   F0           MOVX    @DPTR,A
   \   000080   90....       MOV     DPTR,#__Constant_1
   \   000083   78..         MOV     R0,#?V0 + 4
   \   000085   12....       LCALL   ?L_MOV_X
   \   000088   8E82         MOV     DPL,R6
   \   00008A   8F83         MOV     DPH,R7
   \   00008C   A3           INC     DPTR
   \   00008D   A3           INC     DPTR
   \   00008E   78..         MOV     R0,#?V0 + 4
   \   000090   12....       LCALL   ?L_ADD_TO_X
   1130          	
   1131          /*************************************可变头部***********************************************/
   1132          	
   1133          	//可变头部----------------------pkt_id长度-----------------------------------------------
   1134          	mqttPacket->_data[mqttPacket->_len++] = pkt_id >> 8;
   \   000093   A8..         MOV     R0,?V0 + 0
   \   000095   A9..         MOV     R1,?V0 + 1
   \   000097   E4           CLR     A
   \   000098   E5..         MOV     A,?V0 + 1
   \   00009A   A8..         MOV     R0,?V0 + 1
   \   00009C   E5..         MOV     A,?V0 + 1
   \   00009E   8E82         MOV     DPL,R6
   \   0000A0   8F83         MOV     DPH,R7
   \   0000A2   A3           INC     DPTR
   \   0000A3   A3           INC     DPTR
   \   0000A4   78..         MOV     R0,#?V0 + 4
   \   0000A6   12....       LCALL   ?L_MOV_X
   \   0000A9   8E82         MOV     DPL,R6
   \   0000AB   8F83         MOV     DPH,R7
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   25..         ADD     A,?V0 + 4
   \   0000B0   F8           MOV     R0,A
   \   0000B1   A3           INC     DPTR
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   35..         ADDC    A,?V0 + 5
   \   0000B5   8882         MOV     DPL,R0
   \   0000B7   F583         MOV     DPH,A
   \   0000B9   E5..         MOV     A,?V0 + 1
   \   0000BB   F0           MOVX    @DPTR,A
   \   0000BC   90....       MOV     DPTR,#__Constant_1
   \   0000BF   78..         MOV     R0,#?V0 + 4
   \   0000C1   12....       LCALL   ?L_MOV_X
   \   0000C4   8E82         MOV     DPL,R6
   \   0000C6   8F83         MOV     DPH,R7
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   78..         MOV     R0,#?V0 + 4
   \   0000CC   12....       LCALL   ?L_ADD_TO_X
   1135          	mqttPacket->_data[mqttPacket->_len++] = pkt_id & 0xff;
   \   0000CF   E5..         MOV     A,?V0 + 0
   \   0000D1   8E82         MOV     DPL,R6
   \   0000D3   8F83         MOV     DPH,R7
   \   0000D5   A3           INC     DPTR
   \   0000D6   A3           INC     DPTR
   \   0000D7   78..         MOV     R0,#?V0 + 4
   \   0000D9   12....       LCALL   ?L_MOV_X
   \   0000DC   8E82         MOV     DPL,R6
   \   0000DE   8F83         MOV     DPH,R7
   \   0000E0   E0           MOVX    A,@DPTR
   \   0000E1   25..         ADD     A,?V0 + 4
   \   0000E3   F8           MOV     R0,A
   \   0000E4   A3           INC     DPTR
   \   0000E5   E0           MOVX    A,@DPTR
   \   0000E6   35..         ADDC    A,?V0 + 5
   \   0000E8   8882         MOV     DPL,R0
   \   0000EA   F583         MOV     DPH,A
   \   0000EC   E5..         MOV     A,?V0 + 0
   \   0000EE   F0           MOVX    @DPTR,A
   \   0000EF   90....       MOV     DPTR,#__Constant_1
   \   0000F2   78..         MOV     R0,#?V0 + 4
   \   0000F4   12....       LCALL   ?L_MOV_X
   \   0000F7   8E82         MOV     DPL,R6
   \   0000F9   8F83         MOV     DPH,R7
   \   0000FB   A3           INC     DPTR
   \   0000FC   A3           INC     DPTR
   \   0000FD   78..         MOV     R0,#?V0 + 4
   \   0000FF   12....       LCALL   ?L_ADD_TO_X
   1136          	
   1137          	return 0;
   \   000102   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketPublishRel_1:
   \   000104   7F08         MOV     R7,#0x8
   \   000106   02....       LJMP    ?BANKED_LEAVE_XDATA
   1138          
   1139          }
   1140          
   1141          //==========================================================
   1142          //	函数名称：	MQTT_UnPacketPublishRel
   1143          //
   1144          //	函数功能：	Publish Rel消息解包
   1145          //
   1146          //	入口参数：	rev_data：接收到的数据
   1147          //
   1148          //	返回参数：	0-成功		1-失败
   1149          //
   1150          //	说明：		
   1151          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1152          uint1 MQTT_UnPacketPublishRel(uint8 *rev_data, uint16 pkt_id)
   \                     MQTT_UnPacketPublishRel:
   1153          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1154          
   1155          	if(rev_data[1] != 2)
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   6402         XRL     A,#0x2
   \   00000C   6004         JZ      ??MQTT_UnPacketPublishRel_0
   1156          		return 1;
   \   00000E   7901         MOV     R1,#0x1
   \   000010   802C         SJMP    ??MQTT_UnPacketPublishRel_1
   1157          
   1158          	if(rev_data[2] == MOSQ_MSB(pkt_id) && rev_data[3] == MOSQ_LSB(pkt_id))
   \                     ??MQTT_UnPacketPublishRel_0:
   \   000012   8A82         MOV     DPL,R2
   \   000014   8B83         MOV     DPH,R3
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   C0E0         PUSH    A
   \   00001B   EC           MOV     A,R4
   \   00001C   F8           MOV     R0,A
   \   00001D   ED           MOV     A,R5
   \   00001E   F9           MOV     R1,A
   \   00001F   E4           CLR     A
   \   000020   E9           MOV     A,R1
   \   000021   F8           MOV     R0,A
   \   000022   D0E0         POP     A
   \   000024   68           XRL     A,R0
   \   000025   7015         JNZ     ??MQTT_UnPacketPublishRel_2
   \   000027   8A82         MOV     DPL,R2
   \   000029   8B83         MOV     DPH,R3
   \   00002B   A3           INC     DPTR
   \   00002C   A3           INC     DPTR
   \   00002D   A3           INC     DPTR
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   C0E0         PUSH    A
   \   000031   EC           MOV     A,R4
   \   000032   F8           MOV     R0,A
   \   000033   D0E0         POP     A
   \   000035   68           XRL     A,R0
   \   000036   7004         JNZ     ??MQTT_UnPacketPublishRel_2
   1159          		return 0;
   \   000038   7900         MOV     R1,#0x0
   \   00003A   8002         SJMP    ??MQTT_UnPacketPublishRel_1
   1160          	else
   1161          		return 1;
   \                     ??MQTT_UnPacketPublishRel_2:
   \   00003C   7901         MOV     R1,#0x1
   \                     ??MQTT_UnPacketPublishRel_1:
   \   00003E   D083         POP     DPH
   \   000040   D082         POP     DPL
   \   000042   02....       LJMP    ?BRET
   1162          
   1163          }
   1164          
   1165          //==========================================================
   1166          //	函数名称：	MQTT_PacketPublishComp
   1167          //
   1168          //	函数功能：	Publish Comp消息组包
   1169          //
   1170          //	入口参数：	pkt_id：packet id
   1171          //				mqttPacket：包指针
   1172          //
   1173          //	返回参数：	0-成功		1-失败原因
   1174          //
   1175          //	说明：		当收到的Publish消息的QoS等级为2时，先收到rec，再回复rel
   1176          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1177          uint1 MQTT_PacketPublishComp(uint16 pkt_id, MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketPublishComp:
   1178          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
   1179          
   1180          	MQTT_NewBuffer(mqttPacket, 4);
   \   00000D                ; Setup parameters for call to function MQTT_NewBuffer
   \   00000D   90....       MOV     DPTR,#__Constant_4
   \   000010   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000013   EE           MOV     A,R6
   \   000014   FA           MOV     R2,A
   \   000015   EF           MOV     A,R7
   \   000016   FB           MOV     R3,A
   \   000017   12....       LCALL   ??MQTT_NewBuffer?relay
   \   00001A   7404         MOV     A,#0x4
   \   00001C   12....       LCALL   ?DEALLOC_XSTACK8
   1181          	if(mqttPacket->_data == NULL)
   \   00001F   8E82         MOV     DPL,R6
   \   000021   8F83         MOV     DPH,R7
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F8           MOV     R0,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F9           MOV     R1,A
   \   000028   E8           MOV     A,R0
   \   000029   49           ORL     A,R1
   \   00002A   7005         JNZ     ??MQTT_PacketPublishComp_0
   1182          		return 1;
   \   00002C   7901         MOV     R1,#0x1
   \   00002E   02....       LJMP    ??MQTT_PacketPublishComp_1 & 0xFFFF
   1183          	
   1184          /*************************************固定头部***********************************************/
   1185          	
   1186          	//固定头部----------------------头部消息-------------------------------------------------
   1187          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_PUBCOMP << 4;
   \                     ??MQTT_PacketPublishComp_0:
   \   000031   8E82         MOV     DPL,R6
   \   000033   8F83         MOV     DPH,R7
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   78..         MOV     R0,#?V0 + 4
   \   000039   12....       LCALL   ?L_MOV_X
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   E0           MOVX    A,@DPTR
   \   000041   25..         ADD     A,?V0 + 4
   \   000043   F8           MOV     R0,A
   \   000044   A3           INC     DPTR
   \   000045   E0           MOVX    A,@DPTR
   \   000046   35..         ADDC    A,?V0 + 5
   \   000048   8882         MOV     DPL,R0
   \   00004A   F583         MOV     DPH,A
   \   00004C   7470         MOV     A,#0x70
   \   00004E   F0           MOVX    @DPTR,A
   \   00004F   90....       MOV     DPTR,#__Constant_1
   \   000052   78..         MOV     R0,#?V0 + 4
   \   000054   12....       LCALL   ?L_MOV_X
   \   000057   8E82         MOV     DPL,R6
   \   000059   8F83         MOV     DPH,R7
   \   00005B   A3           INC     DPTR
   \   00005C   A3           INC     DPTR
   \   00005D   78..         MOV     R0,#?V0 + 4
   \   00005F   12....       LCALL   ?L_ADD_TO_X
   1188          	
   1189          	//固定头部----------------------剩余长度-------------------------------------------------
   1190          	mqttPacket->_data[mqttPacket->_len++] = 2;
   \   000062   8E82         MOV     DPL,R6
   \   000064   8F83         MOV     DPH,R7
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   78..         MOV     R0,#?V0 + 4
   \   00006A   12....       LCALL   ?L_MOV_X
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   E0           MOVX    A,@DPTR
   \   000072   25..         ADD     A,?V0 + 4
   \   000074   F8           MOV     R0,A
   \   000075   A3           INC     DPTR
   \   000076   E0           MOVX    A,@DPTR
   \   000077   35..         ADDC    A,?V0 + 5
   \   000079   8882         MOV     DPL,R0
   \   00007B   F583         MOV     DPH,A
   \   00007D   7402         MOV     A,#0x2
   \   00007F   F0           MOVX    @DPTR,A
   \   000080   90....       MOV     DPTR,#__Constant_1
   \   000083   78..         MOV     R0,#?V0 + 4
   \   000085   12....       LCALL   ?L_MOV_X
   \   000088   8E82         MOV     DPL,R6
   \   00008A   8F83         MOV     DPH,R7
   \   00008C   A3           INC     DPTR
   \   00008D   A3           INC     DPTR
   \   00008E   78..         MOV     R0,#?V0 + 4
   \   000090   12....       LCALL   ?L_ADD_TO_X
   1191          	
   1192          /*************************************可变头部***********************************************/
   1193          	
   1194          	//可变头部----------------------pkt_id长度-----------------------------------------------
   1195          	mqttPacket->_data[mqttPacket->_len++] = pkt_id >> 8;
   \   000093   A8..         MOV     R0,?V0 + 0
   \   000095   A9..         MOV     R1,?V0 + 1
   \   000097   E4           CLR     A
   \   000098   E5..         MOV     A,?V0 + 1
   \   00009A   A8..         MOV     R0,?V0 + 1
   \   00009C   E5..         MOV     A,?V0 + 1
   \   00009E   8E82         MOV     DPL,R6
   \   0000A0   8F83         MOV     DPH,R7
   \   0000A2   A3           INC     DPTR
   \   0000A3   A3           INC     DPTR
   \   0000A4   78..         MOV     R0,#?V0 + 4
   \   0000A6   12....       LCALL   ?L_MOV_X
   \   0000A9   8E82         MOV     DPL,R6
   \   0000AB   8F83         MOV     DPH,R7
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   25..         ADD     A,?V0 + 4
   \   0000B0   F8           MOV     R0,A
   \   0000B1   A3           INC     DPTR
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   35..         ADDC    A,?V0 + 5
   \   0000B5   8882         MOV     DPL,R0
   \   0000B7   F583         MOV     DPH,A
   \   0000B9   E5..         MOV     A,?V0 + 1
   \   0000BB   F0           MOVX    @DPTR,A
   \   0000BC   90....       MOV     DPTR,#__Constant_1
   \   0000BF   78..         MOV     R0,#?V0 + 4
   \   0000C1   12....       LCALL   ?L_MOV_X
   \   0000C4   8E82         MOV     DPL,R6
   \   0000C6   8F83         MOV     DPH,R7
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   78..         MOV     R0,#?V0 + 4
   \   0000CC   12....       LCALL   ?L_ADD_TO_X
   1196          	mqttPacket->_data[mqttPacket->_len++] = pkt_id & 0xff;
   \   0000CF   E5..         MOV     A,?V0 + 0
   \   0000D1   8E82         MOV     DPL,R6
   \   0000D3   8F83         MOV     DPH,R7
   \   0000D5   A3           INC     DPTR
   \   0000D6   A3           INC     DPTR
   \   0000D7   78..         MOV     R0,#?V0 + 4
   \   0000D9   12....       LCALL   ?L_MOV_X
   \   0000DC   8E82         MOV     DPL,R6
   \   0000DE   8F83         MOV     DPH,R7
   \   0000E0   E0           MOVX    A,@DPTR
   \   0000E1   25..         ADD     A,?V0 + 4
   \   0000E3   F8           MOV     R0,A
   \   0000E4   A3           INC     DPTR
   \   0000E5   E0           MOVX    A,@DPTR
   \   0000E6   35..         ADDC    A,?V0 + 5
   \   0000E8   8882         MOV     DPL,R0
   \   0000EA   F583         MOV     DPH,A
   \   0000EC   E5..         MOV     A,?V0 + 0
   \   0000EE   F0           MOVX    @DPTR,A
   \   0000EF   90....       MOV     DPTR,#__Constant_1
   \   0000F2   78..         MOV     R0,#?V0 + 4
   \   0000F4   12....       LCALL   ?L_MOV_X
   \   0000F7   8E82         MOV     DPL,R6
   \   0000F9   8F83         MOV     DPH,R7
   \   0000FB   A3           INC     DPTR
   \   0000FC   A3           INC     DPTR
   \   0000FD   78..         MOV     R0,#?V0 + 4
   \   0000FF   12....       LCALL   ?L_ADD_TO_X
   1197          	
   1198          	return 0;
   \   000102   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketPublishComp_1:
   \   000104   7F08         MOV     R7,#0x8
   \   000106   02....       LJMP    ?BANKED_LEAVE_XDATA
   1199          
   1200          }
   1201          
   1202          //==========================================================
   1203          //	函数名称：	MQTT_UnPacketPublishComp
   1204          //
   1205          //	函数功能：	Publish Comp消息解包
   1206          //
   1207          //	入口参数：	rev_data：接收到的数据
   1208          //
   1209          //	返回参数：	0-成功		1-失败
   1210          //
   1211          //	说明：		
   1212          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1213          uint1 MQTT_UnPacketPublishComp(uint8 *rev_data)
   \                     MQTT_UnPacketPublishComp:
   1214          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1215          
   1216          	if(rev_data[1] != 2)
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   6402         XRL     A,#0x2
   \   00000C   6004         JZ      ??MQTT_UnPacketPublishComp_0
   1217          		return 1;
   \   00000E   7901         MOV     R1,#0x1
   \   000010   801B         SJMP    ??MQTT_UnPacketPublishComp_1
   1218          
   1219          	if(rev_data[2] == MOSQ_MSB(MQTT_PUBLISH_ID) && rev_data[3] == MOSQ_LSB(MQTT_PUBLISH_ID))
   \                     ??MQTT_UnPacketPublishComp_0:
   \   000012   8A82         MOV     DPL,R2
   \   000014   8B83         MOV     DPH,R3
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   E0           MOVX    A,@DPTR
   \   000019   7010         JNZ     ??MQTT_UnPacketPublishComp_2
   \   00001B   8A82         MOV     DPL,R2
   \   00001D   8B83         MOV     DPH,R3
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   640A         XRL     A,#0xa
   \   000025   7004         JNZ     ??MQTT_UnPacketPublishComp_2
   1220          		return 0;
   \   000027   7900         MOV     R1,#0x0
   \   000029   8002         SJMP    ??MQTT_UnPacketPublishComp_1
   1221          	else
   1222          		return 1;
   \                     ??MQTT_UnPacketPublishComp_2:
   \   00002B   7901         MOV     R1,#0x1
   \                     ??MQTT_UnPacketPublishComp_1:
   \   00002D   D083         POP     DPH
   \   00002F   D082         POP     DPL
   \   000031   02....       LJMP    ?BRET
   1223          
   1224          }
   1225          
   1226          //==========================================================
   1227          //	函数名称：	MQTT_PacketPing
   1228          //
   1229          //	函数功能：	心跳请求组包
   1230          //
   1231          //	入口参数：	mqttPacket：包指针
   1232          //
   1233          //	返回参数：	0-成功		1-失败
   1234          //
   1235          //	说明：		
   1236          //==========================================================

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1237          uint1 MQTT_PacketPing(MQTT_PACKET_STRUCTURE *mqttPacket)
   \                     MQTT_PacketPing:
   1238          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   1239          
   1240          	MQTT_NewBuffer(mqttPacket, 2);
   \   000009                ; Setup parameters for call to function MQTT_NewBuffer
   \   000009   90....       MOV     DPTR,#__Constant_2
   \   00000C   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000F   EE           MOV     A,R6
   \   000010   FA           MOV     R2,A
   \   000011   EF           MOV     A,R7
   \   000012   FB           MOV     R3,A
   \   000013   12....       LCALL   ??MQTT_NewBuffer?relay
   \   000016   7404         MOV     A,#0x4
   \   000018   12....       LCALL   ?DEALLOC_XSTACK8
   1241          	if(mqttPacket->_data == NULL)
   \   00001B   8E82         MOV     DPL,R6
   \   00001D   8F83         MOV     DPH,R7
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   F8           MOV     R0,A
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   F9           MOV     R1,A
   \   000024   E8           MOV     A,R0
   \   000025   49           ORL     A,R1
   \   000026   7004         JNZ     ??MQTT_PacketPing_0
   1242          		return 1;
   \   000028   7901         MOV     R1,#0x1
   \   00002A   8064         SJMP    ??MQTT_PacketPing_1
   1243          	
   1244          /*************************************固定头部***********************************************/
   1245          	
   1246          	//固定头部----------------------头部消息-------------------------------------------------
   1247          	mqttPacket->_data[mqttPacket->_len++] = MQTT_PKT_PINGREQ << 4;
   \                     ??MQTT_PacketPing_0:
   \   00002C   8E82         MOV     DPL,R6
   \   00002E   8F83         MOV     DPH,R7
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   78..         MOV     R0,#?V0 + 0
   \   000034   12....       LCALL   ?L_MOV_X
   \   000037   8E82         MOV     DPL,R6
   \   000039   8F83         MOV     DPH,R7
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   25..         ADD     A,?V0 + 0
   \   00003E   F8           MOV     R0,A
   \   00003F   A3           INC     DPTR
   \   000040   E0           MOVX    A,@DPTR
   \   000041   35..         ADDC    A,?V0 + 1
   \   000043   8882         MOV     DPL,R0
   \   000045   F583         MOV     DPH,A
   \   000047   74C0         MOV     A,#-0x40
   \   000049   F0           MOVX    @DPTR,A
   \   00004A   90....       MOV     DPTR,#__Constant_1
   \   00004D   78..         MOV     R0,#?V0 + 0
   \   00004F   12....       LCALL   ?L_MOV_X
   \   000052   8E82         MOV     DPL,R6
   \   000054   8F83         MOV     DPH,R7
   \   000056   A3           INC     DPTR
   \   000057   A3           INC     DPTR
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?L_ADD_TO_X
   1248          	
   1249          	//固定头部----------------------剩余长度-------------------------------------------------
   1250          	mqttPacket->_data[mqttPacket->_len++] = 0;
   \   00005D   8E82         MOV     DPL,R6
   \   00005F   8F83         MOV     DPH,R7
   \   000061   A3           INC     DPTR
   \   000062   A3           INC     DPTR
   \   000063   78..         MOV     R0,#?V0 + 0
   \   000065   12....       LCALL   ?L_MOV_X
   \   000068   8E82         MOV     DPL,R6
   \   00006A   8F83         MOV     DPH,R7
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   25..         ADD     A,?V0 + 0
   \   00006F   F8           MOV     R0,A
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   35..         ADDC    A,?V0 + 1
   \   000074   8882         MOV     DPL,R0
   \   000076   F583         MOV     DPH,A
   \   000078   7400         MOV     A,#0x0
   \   00007A   F0           MOVX    @DPTR,A
   \   00007B   90....       MOV     DPTR,#__Constant_1
   \   00007E   78..         MOV     R0,#?V0 + 0
   \   000080   12....       LCALL   ?L_MOV_X
   \   000083   8E82         MOV     DPL,R6
   \   000085   8F83         MOV     DPH,R7
   \   000087   A3           INC     DPTR
   \   000088   A3           INC     DPTR
   \   000089   78..         MOV     R0,#?V0 + 0
   \   00008B   12....       LCALL   ?L_ADD_TO_X
   1251          	
   1252          	return 0;
   \   00008E   7900         MOV     R1,#0x0
   \                     ??MQTT_PacketPing_1:
   \   000090   7F04         MOV     R7,#0x4
   \   000092   02....       LJMP    ?BANKED_LEAVE_XDATA
   1253          
   1254          }

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_NewBuffer?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_NewBuffer

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_DeleteBuffer?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_DeleteBuffer

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_DumpLength?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_DumpLength

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_ReadLength?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_ReadLength

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketRecv?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketRecv

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketConnect?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketConnect

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketDisConnect?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketDisConnect

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketConnectAck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketConnectAck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketSaveData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketSaveData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketCmdResp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketCmdResp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketSubscribe?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketSubscribe

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketSubscribe?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketSubscribe

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketUnSubscribe?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketUnSubscribe

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketUnSubscribe?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketUnSubscribe

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketPublish?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketPublish

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketPublish?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketPublish

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketPublishAck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketPublishAck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketPublishAck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketPublishAck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketPublishRec?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketPublishRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketPublishRec?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketPublishRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketPublishRel?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketPublishRel

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketPublishRel?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketPublishRel

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketPublishComp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketPublishComp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_UnPacketPublishComp?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_UnPacketPublishComp

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MQTT_PacketPing?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MQTT_PacketPing

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "$creq">`:
   \   000000   24637265     DB "$creq"
   \            7100    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "">`:
   \   000000   00           DB ""

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "$dp">`:
   \   000000   24647000     DB "$dp"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UnPacket mem 11\\r\\n">`:
   \   000000   556E5061     DB "UnPacket mem 11\015\012"
   \            636B6574
   \            206D656D
   \            2031310D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UnPacket mem 22\\r\\n">`:
   \   000000   556E5061     DB "UnPacket mem 22\015\012"
   \            636B6574
   \            206D656D
   \            2032320D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0}>`:
   \   000000   00           DB 0
   \   000001   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000009   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000011   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000019   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000021   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000029   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000031   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "$crsp/%s">`:
   \   000000   24637273     DB "$crsp/%s"
   \            702F2573
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UnPacketPublish 11.\\r\\n">`:
   \   000000   556E5061     DB "UnPacketPublish 11.\015\012"
   \            636B6574
   \            5075626C
   \            69736820
   \            31312E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UnPacketPublish 22.\\r\\n">`:
   \   000000   556E5061     DB "UnPacketPublish 22.\015\012"
   \            636B6574
   \            5075626C
   \            69736820
   \            32322E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UnPacketPublish 33.\\r\\n">`:
   \   000000   556E5061     DB "UnPacketPublish 33.\015\012"
   \            636B6574
   \            5075626C
   \            69736820
   \            33332E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UnPacketPublish 44.\\r\\n">`:
   \   000000   556E5061     DB "UnPacketPublish 44.\015\012"
   \            636B6574
   \            5075626C
   \            69736820
   \            34342E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1:
   \   000000   01000000     DD 1

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_5:
   \   000000   05000000     DD 5

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_200000:
   \   000000   00002000     DD 2097152

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_4:
   \   000000   04000000     DD 4

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2:
   \   000000   02000000     DD 2

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3:
   \   000000   03000000     DD 3

   Maximum stack usage in bytes:

     Function                 ISTACK PSTACK XSTACK
     --------                 ------ ------ ------
     MQTT_DeleteBuffer            0      0     43
     MQTT_DumpLength              1      0     54
     MQTT_NewBuffer               0      0     58
     MQTT_PacketCmdResp           2      0     86
       -> strlen                  0      0    136
       -> sprintf                 0      0    140
       -> strlen                  0      0    156
       -> MQTT_PacketPublish      0      0    168
     MQTT_PacketConnect           1      0     48
       -> strlen                  0      0     58
       -> strlen                  0      0     58
       -> strlen                  0      0     58
       -> strlen                  0      0     58
       -> strlen                  0      0     58
       -> MQTT_NewBuffer          0      0     66
       -> osal_memset             0      0     62
       -> MQTT_DumpLength         0      0     58
       -> MQTT_DeleteBuffer       0      0     58
       -> strncat                 0      0     62
       -> strlen                  0      0     58
       -> strncat                 0      0     62
       -> strlen                  0      0     58
       -> strncat                 0      0     62
       -> strlen                  0      0     58
       -> strncat                 0      0     62
       -> strlen                  0      0     58
       -> strncat                 0      0     62
     MQTT_PacketDisConnect        0      0     16
       -> MQTT_NewBuffer          0      0     32
     MQTT_PacketPing              0      0     16
       -> MQTT_NewBuffer          0      0     32
     MQTT_PacketPublish           1      0    122
       -> MQTT_NewBuffer          0      0     76
       -> memset                  0      0     72
       -> MQTT_DumpLength         0      0     68
       -> MQTT_DeleteBuffer       0      0     68
       -> strncat                 0      0     72
       -> strncat                 0      0     72
     MQTT_PacketPublishAck        1      0     20
       -> MQTT_NewBuffer          0      0     40
     MQTT_PacketPublishComp       1      0     20
       -> MQTT_NewBuffer          0      0     40
     MQTT_PacketPublishRec        1      0     20
       -> MQTT_NewBuffer          0      0     40
     MQTT_PacketPublishRel        1      0     20
       -> MQTT_NewBuffer          0      0     40
     MQTT_PacketSaveData          1      0     40
       -> MQTT_PacketPublish      0      0     72
     MQTT_PacketSubscribe         1      0     36
       -> strlen                  0      0     58
       -> MQTT_NewBuffer          0      0     66
       -> MQTT_DumpLength         0      0     58
       -> MQTT_DeleteBuffer       0      0     58
       -> strlen                  0      0     58
       -> strncat                 0      0     62
     MQTT_PacketUnSubscribe       1      0     34
       -> strlen                  0      0     56
       -> MQTT_NewBuffer          0      0     64
       -> MQTT_DumpLength         0      0     56
       -> MQTT_DeleteBuffer       0      0     56
       -> strlen                  0      0     56
       -> strncat                 0      0     60
     MQTT_ReadLength              0      0     60
     MQTT_UnPacketCmd             0      0     32
       -> strchr                  0      0     48
       -> MQTT_ReadLength         0      0     56
       -> debug                   0      0     48
       -> memset                  0      0     52
       -> memcpy                  0      0     52
       -> debug                   0      0     48
       -> memset                  0      0     52
       -> memcpy                  0      0     52
     MQTT_UnPacketConnectAck      2      0      0
     MQTT_UnPacketPublish         2      0     42
       -> MQTT_ReadLength         0      0     64
       -> strstr                  0      0     56
       -> debug                   0      0     56
       -> memset                  0      0     60
       -> memcpy                  0      0     60
       -> debug                   0      0     56
       -> memset                  0      0     60
       -> memcpy                  0      0     60
       -> debug                   0      0     56
       -> memset                  0      0     60
       -> memcpy                  0      0     60
       -> debug                   0      0     56
       -> memset                  0      0     60
       -> memcpy                  0      0     60
       -> strchr                  0      0     56
       -> strchr                  0      0     56
     MQTT_UnPacketPublishAck      2      0      0
     MQTT_UnPacketPublishComp     2      0      0
     MQTT_UnPacketPublishRec      2      0      0
     MQTT_UnPacketPublishRel      3      0      0
     MQTT_UnPacketRecv            2      0     24
       -> MQTT_ReadLength         0      0     48
       -> strstr                  0      0     40
     MQTT_UnPacketSubscribe       2      0      0
     MQTT_UnPacketUnSubscribe     2      0      0


   Segment part sizes:

     Function/Label                        Bytes
     --------------                        -----
     MQTT_NewBuffer                         164
     MQTT_DeleteBuffer                       76
     MQTT_DumpLength                        145
     MQTT_ReadLength                        273
     MQTT_UnPacketRecv                      291
     MQTT_PacketConnect                    2208
     MQTT_PacketDisConnect                  149
     MQTT_UnPacketConnectAck                 58
     MQTT_PacketSaveData                    304
     MQTT_UnPacketCmd                       354
     MQTT_PacketCmdResp                     189
     MQTT_PacketSubscribe                  1007
     MQTT_UnPacketSubscribe                  67
     MQTT_PacketUnSubscribe                 920
     MQTT_UnPacketUnSubscribe                36
     MQTT_PacketPublish                    1054
     MQTT_UnPacketPublish                  1103
     MQTT_PacketPublishAck                  265
     MQTT_UnPacketPublishAck                 52
     MQTT_PacketPublishRec                  265
     MQTT_UnPacketPublishRec                 52
     MQTT_PacketPublishRel                  265
     MQTT_UnPacketPublishRel                 69
     MQTT_PacketPublishComp                 265
     MQTT_UnPacketPublishComp                52
     MQTT_PacketPing                        149
     ??MQTT_NewBuffer?relay                   6
     ??MQTT_DeleteBuffer?relay                6
     ??MQTT_DumpLength?relay                  6
     ??MQTT_ReadLength?relay                  6
     ??MQTT_UnPacketRecv?relay                6
     ??MQTT_PacketConnect?relay               6
     ??MQTT_PacketDisConnect?relay            6
     ??MQTT_UnPacketConnectAck?relay          6
     ??MQTT_PacketSaveData?relay              6
     ??MQTT_UnPacketCmd?relay                 6
     ??MQTT_PacketCmdResp?relay               6
     ??MQTT_PacketSubscribe?relay             6
     ??MQTT_UnPacketSubscribe?relay           6
     ??MQTT_PacketUnSubscribe?relay           6
     ??MQTT_UnPacketUnSubscribe?relay         6
     ??MQTT_PacketPublish?relay               6
     ??MQTT_UnPacketPublish?relay             6
     ??MQTT_PacketPublishAck?relay            6
     ??MQTT_UnPacketPublishAck?relay          6
     ??MQTT_PacketPublishRec?relay            6
     ??MQTT_UnPacketPublishRec?relay          6
     ??MQTT_PacketPublishRel?relay            6
     ??MQTT_UnPacketPublishRel?relay          6
     ??MQTT_PacketPublishComp?relay           6
     ??MQTT_UnPacketPublishComp?relay         6
     ??MQTT_PacketPing?relay                  6
     ?<Constant "$creq">                      6
     ?<Constant "">                           1
     ?<Constant "$dp">                        4
     ?<Constant "UnPacket mem 11\r\n">       18
     ?<Constant "UnPacket mem 22\r\n">       18
     ?<Constant {0}>                         50
     ?<Constant "$crsp/%s">                   9
     ?<Constant "UnPacketPublish 11.\r\n">   22
     ?<Constant "UnPacketPublish 22.\r\n">   22
     ?<Constant "UnPacketPublish 33.\r\n">   22
     ?<Constant "UnPacketPublish 44.\r\n">   22
     __Constant_0                             4
     __Constant_1                             4
     __Constant_5                             4
     __Constant_200000                        4
     __Constant_4                             4
     __Constant_2                             4
     __Constant_3                             4

 
 9 832 bytes in segment BANKED_CODE
   156 bytes in segment BANK_RELAYS
   222 bytes in segment XDATA_ROM_C
 
 9 988 bytes of CODE  memory
   194 bytes of CONST memory (+ 28 bytes shared)

Errors: none
Warnings: 42
